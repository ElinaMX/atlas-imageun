<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Atlas Intéractif IMAGEUN – macroregion</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Atlas Intéractif IMAGEUN</span>
    </a>
  </div>
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../docs/macroregion.html" aria-current="page"> 
<span class="menu-text">Imaginaires macrorégionaux</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-terrains-denquêtes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Terrains d’enquêtes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-terrains-denquêtes">    
        <li>
    <a class="dropdown-item" href="../docs/france.html">
 <span class="dropdown-text">Where is France</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/germany.html">
 <span class="dropdown-text">Where is Germany</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/antilles.html">
 <span class="dropdown-text">Where is French Caribbean</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/tunisia.html">
 <span class="dropdown-text">Where is Tunisia</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/turkey.html">
 <span class="dropdown-text">Where is Turkey</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sur-leurope-et-lue" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Sur l’europe et l’UE</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sur-leurope-et-lue">    
        <li>
    <a class="dropdown-item" href="../docs/whereEurope.html">
 <span class="dropdown-text">Where is Europe</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../widgets.html"> 
<span class="menu-text">Widgets</span></a>
  </li>  
</ul>
          <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../docs/legal.html"> 
<span class="menu-text">Mentions légales</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/usage.html"> 
<span class="menu-text">Conditions d’utilisation</span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
</div>
            <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">




<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="11" data-source-offset="-72"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 10;"><span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">set</span>(input<span class="op">,</span> value) {</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">// WIDGETS ----------------------------------------------------</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W1A_map_stu_reg.js &gt;}}</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W1B_map_stu_explo.js &gt;}}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W1C} <span class="im">from</span> <span class="st">"753e135be027a598"</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W1D} <span class="im">from</span> <span class="st">"9144ae793b906e41"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof year_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W3A_afc_stu_eur.R &gt;}}</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W3B_afc_med_red.R &gt;}}</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="co">//  {{&lt; include ../scripts/W3A_afc_stu_eur.js &gt;}}</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="co">//  {{&lt; include ../scripts/W3B_afc_med_reg.js &gt;}}</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof indic_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4B} <span class="im">from</span> <span class="st">"bbce317b3368f044"</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4B} <span class="im">from</span> <span class="st">"bbce317b3368f044"</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof year_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4D} <span class="im">from</span> <span class="st">"5b7fb13f448ac5ab"</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4D} <span class="im">from</span> <span class="st">"5b7fb13f448ac5ab"</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof idText_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nextText_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof tradOnOff_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {textSel_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {ID_PI_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W7A} <span class="im">from</span> <span class="st">"94666958dab9cbd4"</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7A} <span class="im">from</span> <span class="st">"94666958dab9cbd4"</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof indic_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7C} <span class="im">from</span> <span class="st">"c8184cbec259712b"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-19" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-20" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-21" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-22" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-23" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-24" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-25" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-26" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-27" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-28" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-29" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-30" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-31" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-32" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-33" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-34" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-35" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-36" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-37" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-38" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-39" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-40" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<section>
<div class="para">
<section id="pourquoi-étudier-les-imaginaires-macrorégionaux" class="level1 paraContent">
<h1>Pourquoi étudier les imaginaires macrorégionaux ?</h1>
<p>Camille Dabestani, Clarisse Didelon-Loiseau</p>
</section>
</div>
</section>
<section>
<div class="para">
<section id="quest-ce-quune-macrorégion" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="quest-ce-quune-macrorégion">Qu’est-ce qu’une macrorégion ?</h2>
</section>
</div>
<div class="grid-container">
<div class="grid-nocol">
<p>Le terme «&nbsp;macrorégion&nbsp;» désigne toutes les entités géographiques identifiées entre le niveau de l’Etat et celui du monde.</p>
<p>C’est à la fois une échelle et une entité spatiale.</p>
<p>Les macrorégions regroupent en fait des objets géographiques variés que l’on a l’habitude de voir et d’utiliser au quotidien : les «&nbsp;régions du monde&nbsp;», les «&nbsp;grandes régions&nbsp;», les «&nbsp;continents&nbsp;» ou «&nbsp;sous-continents&nbsp;», les «&nbsp;aires culturelles&nbsp;» ou les civilisations etc. <span class="citation" data-cites="marei_regionalisations_2020">(<a href="#ref-marei_regionalisations_2020" role="doc-biblioref">Mareï and Richard 2020</a>)</span>.</p>
<p>Le découpage du monde en macrorégions permet d’organiser nos connaissances sur cet objet abstrait et complexe qu’est le monde, mais aussi de le gérer et de le contrôler (institutions internationales, grandes entreprises etc. par exemples) <span class="citation" data-cites="didelon-loiseau_internal_2014">(<a href="#ref-didelon-loiseau_internal_2014" role="doc-biblioref">Didelon-Loiseau and Grasland 2014</a>)</span>.</p>
</div>
</div>
</section>
<!-- ------------- -->
<section>
<div class="para">
<section id="imaginer-les-macrorégions" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="imaginer-les-macrorégions">Imaginer les macrorégions ?</h2>
<section id="etudier-les-imaginaires-spatiaux" class="level3">
<h3 class="anchored" data-anchor-id="etudier-les-imaginaires-spatiaux">Etudier les imaginaires spatiaux</h3>
</section>
</section>
</div>
<!-- ------------- -->
<div class="grid-container">
<div class="grid-txt">
<p>Les imaginaires que l’on porte sur les macrorégions dépendent à la fois de nos connaissances, de nos pratiques et de nos représentations collectives, mais aussi individuelles <span class="citation" data-cites="dernat_representations_2018">(<a href="#ref-dernat_representations_2018" role="doc-biblioref">Dernat 2018</a>)</span>. Ils sont construits par ces pratiques et représentations à la fois sociales, culturelles, politiques, historiques … et évoluent dans le temps <span class="citation" data-cites="bailly_imaginaire_1989 gregory_geographical_1994">(<a href="#ref-bailly_imaginaire_1989" role="doc-biblioref">Bailly 1989</a>; <a href="#ref-gregory_geographical_1994" role="doc-biblioref">Gregory 1994</a>)</span>.</p>
<p>On peut ainsi s’identifier collectivement ou individuellement à des régions du monde, à différentes échelles et à plusieurs entités qui se croisent et s’influencent <span class="citation" data-cites="jessop_cultural_2012 senecal_aspects_1992">(<a href="#ref-jessop_cultural_2012" role="doc-biblioref">Jessop 2012</a>; <a href="#ref-senecal_aspects_1992" role="doc-biblioref">Sénécal 1992</a>)</span>. De même on peut identifier des macrorégions en leur attribuant un rôle identaire aux personnes qui y résidents («&nbsp;les Africains&nbsp;», les «&nbsp;Nord-Américains&nbsp;» etc.)</p>
<p>Les imaginaires macrorégionaux sont aussi des objets politiques, à l’intersection entre le pouvoir, le savoir et l’espace : on s’appuie sur eux pour produire des discours et construire des grands récits sur le monde et ses régions <span class="citation" data-cites="jessop_cultural_2012 moisio_mapping_2013 rose_feminism_1993">(<a href="#ref-jessop_cultural_2012" role="doc-biblioref">Jessop 2012</a>; <a href="#ref-moisio_mapping_2013" role="doc-biblioref">Moisio et al. 2013</a>; <a href="#ref-rose_feminism_1993" role="doc-biblioref">Rose 1993</a>)</span>.</p>
<p>Pour étudier ces imaginaires macrorégionaux, nous avons demandé en 2021 à des étudiant·es dans 5 pays de tracer la ou les régions dans lesquelles ils ou elles se trouvent. L’objectif était ainsi de laisser les étudiant·es interroger à la fois les différentes manières dont ils s’imaginent leur localisation, mais aussi l’expression de leurs sentiments d’appartenance à des régions du monde.</p>
<p><a href="https://imageun.gitpages.huma-num.fr/datapaper/" target="_blank">Visiter le site internet présentant la base de données</a></p>
</div>
<div class="grid-img">
<p><img src="../figures/macroreg/pdfmap.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<!-- ------------- -->
<div class="para">
<section id="représenter-et-localiser-une-même-macrorégion" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="représenter-et-localiser-une-même-macrorégion">Représenter et localiser une même macrorégion</h3>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>Les réponses obtenues permettent donc dans un premier temps d’étudier les manières dont les gens se représentent un même espace.</p>
<p>On peut afficher sur la carte les tracés des étudiant·es en fonction du noms qu’ils et elles ont donné à l’espace représenté. On peut donc par exemple regarder toutes les macrorégions appelées «&nbsp;Europe&nbsp;», «&nbsp;Méditerranée&nbsp;», «&nbsp;Moyen-Orient&nbsp;» ou encore «&nbsp;Caraïbe&nbsp;».</p>
<p>Il est ainsi intéressant de voir à quel point une même région identifiée par le nom qui lui est donné peut avoir des représentations spatiales différentes selon les personnes.</p>
<p><a href="../widgets/W1A_map_stu_reg.html" class="btn" target="_blank"><i class="bi bi-hand-index-thumb"></i> Parcourir les macrorégions</a></p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="91" data-source-offset="-196"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 90;"><span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>viewof select_W1A <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>([<span class="st">"All"</span><span class="op">,</span> <span class="st">"Germany"</span><span class="op">,</span> <span class="st">"France Metropolitan"</span><span class="op">,</span> <span class="st">"France Antilles"</span><span class="op">,</span> <span class="st">"Ireland"</span><span class="op">,</span> <span class="st">"Turkey"</span><span class="op">,</span> <span class="st">"Tunisia"</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Survey sample"</span>})</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>viewof region_W1A <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>(<span class="kw">new</span> <span class="bu">Map</span>([[<span class="st">"All"</span><span class="op">,</span><span class="st">'All'</span>]<span class="op">,</span>[<span class="st">"Europe"</span><span class="op">,</span><span class="st">"europe"</span>]<span class="op">,</span>[<span class="st">"Western Europe"</span><span class="op">,</span><span class="st">"europe_ouest"</span>]<span class="op">,</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central Europe"</span><span class="op">,</span><span class="st">"europe_centr"</span>]<span class="op">,</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"European Union"</span><span class="op">,</span><span class="st">"union_europ"</span>]<span class="op">,</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Africa"</span><span class="op">,</span><span class="st">"africa"</span>]<span class="op">,</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Northern Africa"</span><span class="op">,</span><span class="st">"africa_nord"</span>]<span class="op">,</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"America"</span><span class="op">,</span><span class="st">"america"</span>]<span class="op">,</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central America"</span><span class="op">,</span><span class="st">"america_ctr"</span>]<span class="op">,</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Asia/Eurasia"</span><span class="op">,</span><span class="st">"asia"</span>]<span class="op">,</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mediterranean"</span><span class="op">,</span><span class="st">"medit"</span>]<span class="op">,</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mid &amp; Near East"</span><span class="op">,</span><span class="st">"mideast"</span>]<span class="op">,</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Carribean"</span><span class="op">,</span><span class="st">"carrib"</span>]<span class="op">,</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Antilles"</span><span class="op">,</span><span class="st">"antil"</span>]<span class="op">,</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"The West/Ocident"</span><span class="op">,</span><span class="st">"western"</span>]</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>                ])<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Name of macroregion contains ..."</span>})</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a><span class="co">//                        MAP</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>map_W1A <span class="op">=</span> {</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Set highlight</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>        <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>        <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Reset Highlight</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>  <span class="co">// OnEach featur</span></span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Opinion about EU : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Macro region : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">macro</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>      Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">' - "'</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">'" &lt;br&gt;'</span><span class="op">;</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>  <span class="co">// MAP</span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macroreg_filtered<span class="op">,</span> {</span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a>    <span class="dt">opacity</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fillOpacity</span><span class="op">:</span> opacity_W1A<span class="op">,</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"#d13f0f"</span><span class="op">,</span></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>    <span class="dt">weight</span><span class="op">:</span> stroke_W1A }</span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a><span class="co">// fit map to geom bounds  </span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">15</span>})<span class="op">;</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a><span class="co">// Tile Layer  </span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png'</span><span class="op">,</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>      <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>      <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">20</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>    })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a><span class="co">//                        TABLE</span></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a><span class="co">//                        DATA</span></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>macroreg_students <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1A_BDG_macroreg.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a>macroreg <span class="op">=</span> geo<span class="op">.</span><span class="fu">simplify</span>(macroreg_students<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.25</span>})</span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>macroreg_sorted <span class="op">=</span> geo<span class="op">.</span><span class="fu">featurecollection</span>(macroreg<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>macroreg_filtered <span class="op">=</span> {</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> filtered <span class="op">=</span>  region_W1A <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg <span class="op">:</span> geo<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted<span class="op">,</span> (d) <span class="kw">=&gt;</span> d[region_W1A] <span class="op">==</span> <span class="dv">1</span>)</span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a>  filtered <span class="op">=</span> select_W1A <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> filtered <span class="op">:</span> geo<span class="op">.</span><span class="fu">filter</span>(filtered<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1A)</span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> geo<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a>opacity_W1A <span class="op">=</span> {<span class="kw">let</span> opacity</span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">60</span>) { </span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> <span class="dv">60</span> <span class="op">&amp;&amp;</span> macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">20</span>) {</span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.02</span></span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.06</span></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>stroke_W1A <span class="op">=</span> {<span class="kw">let</span> stroke</span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">30</span>) { </span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a><span class="co">//                        LIBS</span></span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a>geo <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-10" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="para">
<section id="exprimer-et-représenter-des-appartenances-multiples" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="exprimer-et-représenter-des-appartenances-multiples">Exprimer et représenter des appartenances multiples</h3>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>Cela peut aussi être une façon d’exprimer ou de représenter ses identités et ses appartenances par l’espace.</p>
<p>Dans cette perspective on s’intéresse plutôt à l’inclusion de la localisation de l’individu dans une région dessinée sur la carte. Chez la plupart des personnes interrogées l’inclusion de leur localisation dans une région est simple : une région continue et unique.</p>
<p>Parfois la situation est plus complexe : régions discontinues, régions emboitées, recouvrements partiels etc. Les personnes interrogées utilisent plusieurs logiques spatiales pour montrer les relations entre des espaces et des appartenances multiples.</p>
</div>
<div class="grid-img">
<p><img src="../figures/macroreg/typo.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<section id="les-macrorégions-multiples" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="les-macrorégions-multiples">Les macrorégions multiples</h4>
<p>On retrouve ainsi des cartes mentales où les macrorégions tracées représentent des régions du monde distinctes et éloignées géographiquement les unes des autres, mais insistant sur des liens entretenus de diverses manières entre elles (même pays, même statut institutionnel et administratif, espaces où l’on a vécu, où se trouvent des proches, etc.).</p>
<p>Les étudiant·es en Martinique et en Guadeloupe utilisent par exemple ces cartes pour indiquer des liens, des trajectoires et des pratiques transatlantiques à la fois sur le plan institutionnel (France, UE) mais aussi personnel (réseaux familiaux, migrations, mobilités, etc.).</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="124" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 123;"><span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"7z27o9mnz3c3"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7z27o9mnz3c3&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"462ohy28apw3"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 462ohy28apw3&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
<p><a href="../docs/antilles.html" class="btn" target="_blank"><i class="bi bi-layout-text-sidebar-reverse"></i> Where is French Caribbean</a> <a href="../docs/france.html" class="btn" target="_blank"><i class="bi bi-layout-text-sidebar-reverse"></i> Where is France Hexagonal</a></p>
</section>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="139" data-source-offset="-194"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 138;"><span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a>viewof select_W1B <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>([<span class="st">"All"</span><span class="op">,</span> <span class="st">"Germany"</span><span class="op">,</span> <span class="st">"France Metropolitan"</span><span class="op">,</span> <span class="st">"France Antilles"</span><span class="op">,</span> <span class="st">"Ireland"</span><span class="op">,</span> <span class="st">"Turkey"</span><span class="op">,</span> <span class="st">"Tunisia"</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Survey sample"</span>})</span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>viewof stu_sel_W1B <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Student's ID"</span><span class="op">,</span> <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"882osw6mv496"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> respListUnique[<span class="dv">0</span>]})</span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>viewof nextResp_W1B <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>([</span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Répondant précedent"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> respListUnique<span class="op">.</span><span class="at">length</span><span class="op">-</span> <span class="dv">1</span><span class="op">:</span> value <span class="op">-</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Répondant suivant"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">&gt;=</span> respListUnique<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> value <span class="op">+</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> respListUnique<span class="op">.</span><span class="fu">findIndex</span>(d <span class="kw">=&gt;</span> d <span class="op">===</span> stu_sel_W1B)<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">""</span>})</span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a><span class="co">//                        MAP</span></span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a>map_W1B <span class="op">=</span> {</span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Set highlight</span></span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a>        <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a>        <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Reset Highlight</span></span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>  <span class="co">// OnEach featur</span></span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"&lt;b&gt;&lt;i&gt;Region drawn : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> </span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>    Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Reg name : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Reg name (fr) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_fr</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Reg name (en) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Reg scale : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_scale</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Reg parent : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_parent1_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;&lt;i&gt;Respondent : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Level of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">levels</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Nationality : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">iddoc</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;Opinion of EU :&lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> </span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb4-190"><a href="#cb4-190" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb4-191"><a href="#cb4-191" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb4-192"><a href="#cb4-192" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb4-193"><a href="#cb4-193" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb4-194"><a href="#cb4-194" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-195"><a href="#cb4-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-196"><a href="#cb4-196" aria-hidden="true" tabindex="-1"></a>  <span class="co">// MAP</span></span>
<span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macro_resp_W1B<span class="op">,</span> {</span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a><span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"#FFBC50"</span><span class="op">,</span></span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a>    <span class="dt">weight</span><span class="op">:</span> <span class="fl">1.5</span>}</span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a><span class="co">// fit map to geom bounds  </span></span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a>map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">9</span>})<span class="op">;</span></span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a><span class="co">// Tile Layer  </span></span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"</span><span class="op">,</span></span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a>      <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a>      <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a>    })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb4-217"><a href="#cb4-217" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-218"><a href="#cb4-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-219"><a href="#cb4-219" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-220"><a href="#cb4-220" aria-hidden="true" tabindex="-1"></a><span class="co">//                        TABLE</span></span>
<span id="cb4-221"><a href="#cb4-221" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-222"><a href="#cb4-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-223"><a href="#cb4-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-224"><a href="#cb4-224" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-225"><a href="#cb4-225" aria-hidden="true" tabindex="-1"></a><span class="co">//                        DATA</span></span>
<span id="cb4-226"><a href="#cb4-226" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-227"><a href="#cb4-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-228"><a href="#cb4-228" aria-hidden="true" tabindex="-1"></a>macroreg_students_W1B <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/BDG_4326_carto.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb4-229"><a href="#cb4-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-230"><a href="#cb4-230" aria-hidden="true" tabindex="-1"></a>macroreg_W1B <span class="op">=</span> geo_W1B<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1B<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.2</span>})</span>
<span id="cb4-231"><a href="#cb4-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-232"><a href="#cb4-232" aria-hidden="true" tabindex="-1"></a>macroreg_sorted_W1B <span class="op">=</span> geo_W1B<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1B<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb4-233"><a href="#cb4-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-234"><a href="#cb4-234" aria-hidden="true" tabindex="-1"></a>macroreg_filtered_W1B <span class="op">=</span> {</span>
<span id="cb4-235"><a href="#cb4-235" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> filtered <span class="op">=</span>  select_W1B <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_sorted_W1B <span class="op">:</span> geo_W1B<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1B<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1B)</span>
<span id="cb4-236"><a href="#cb4-236" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> geo_W1B<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb4-237"><a href="#cb4-237" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-238"><a href="#cb4-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-239"><a href="#cb4-239" aria-hidden="true" tabindex="-1"></a>macro_resp_W1B <span class="op">=</span> geo_W1B<span class="op">.</span><span class="fu">filter</span>(macroreg_filtered_W1B<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">?.</span><span class="at">X0001_met_respID_aut</span> <span class="op">==</span> respListUnique[nextResp_W1B])</span>
<span id="cb4-240"><a href="#cb4-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-241"><a href="#cb4-241" aria-hidden="true" tabindex="-1"></a>respList <span class="op">=</span> macroreg_filtered_W1B<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span>)</span>
<span id="cb4-242"><a href="#cb4-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-243"><a href="#cb4-243" aria-hidden="true" tabindex="-1"></a>respListUnique <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(respList<span class="op">.</span><span class="fu">filter</span>(value <span class="kw">=&gt;</span> value <span class="op">!==</span> <span class="kw">undefined</span>))]</span>
<span id="cb4-244"><a href="#cb4-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-245"><a href="#cb4-245" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-246"><a href="#cb4-246" aria-hidden="true" tabindex="-1"></a><span class="co">//                        LIBS</span></span>
<span id="cb4-247"><a href="#cb4-247" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb4-248"><a href="#cb4-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-249"><a href="#cb4-249" aria-hidden="true" tabindex="-1"></a>geo_W1B <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-12" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<section id="les-macrorégions-emboîtées" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="les-macrorégions-emboîtées">Les macrorégions emboîtées</h4>
<p>Parfois, les étudiant·es ont représenté leurs macrorégions avec une logique d’échelle, en emboîtant les espaces du plus précis au plus large ou du plus englobant au plus local.</p>
<p>Les étudiant·es en Allemagne ont souvent mobilisé cette logique afin d’insister sur l’expression de leur appartenance à leur région allemande, au niveau infranational.</p>
<p><a href="../docs/germany.html" class="btn" target="_blank"> <i class="bi bi-layout-text-sidebar-reverse"></i> Where is Germany</a></p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="149" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 148;"><span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"77dai6fs99n8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 77dai6fs99n8&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"2b8ztg7d3489"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 2b8ztg7d3489&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="les-macrorégions-intersectées" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="les-macrorégions-intersectées">Les macrorégions intersectées</h4>
<p>Pour finir, la carte mentale a aussi permis à des étudiant·es d’exprimer l’appartenance ou le lien de son lieu de vie à plusieurs régions simultanément et se croisant à leur niveau. Dans ce cas, les étudiant·es expriment les influences que ces macrorégions ont sur leur espace d’appartenance, et inversement.</p>
<p>C’est par exemple le cas d’étudiant·es en Tunisie qui intersectent une région «&nbsp;Méditerranée&nbsp;» et «&nbsp;Afrique du Nord&nbsp;», ou encore d’étudiant·es en Turquie croisant «&nbsp;Turquie&nbsp;», «&nbsp;Moyen-Orient&nbsp;», «&nbsp;Europe&nbsp;» ou «&nbsp;Asie centrale/Eurasie&nbsp;», etc.</p>
<p><a href="../docs/turkey.html" class="btn" target="_blank"><i class="bi bi-layout-text-sidebar-reverse"></i> Where is Turkey</a></p>
<p><a href="../docs/tunisia.html" class="btn" target="_blank"><i class="bi bi-layout-text-sidebar-reverse"></i> Where is Tunisia</a></p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="167" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 166;"><span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"7u4ryo8y49za"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7u4ryo8y49za&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B<span class="op">,</span> <span class="st">"3ww2k34pbf84"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3ww2k34pbf84&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="expression">

</div>
</div>
</div>
</section>
</div>
</section>
<!-- ____ END SEC______ -->
<section>
<div class="para">
<section id="comment-se-construisent-les-imaginaires-macrorégionaux" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="comment-se-construisent-les-imaginaires-macrorégionaux">Comment se construisent les imaginaires macrorégionaux ?</h2>
</section>
</div>
<div class="para">
<section id="via-léducation-lécole" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="via-léducation-lécole">Via l’éducation, l’école</h3>
</section>
</div>
<!-- ------------- -->
<div class="grid-container">
<div class="grid-txt">
<p>Les imaginaires macrorégionaux et les façons dont ils sont représentés sur le plan spatial et sémantique sont multiples comme nous venons de le voir chez les étudiant·es. Ces représentations sont construites par de nombreux facteurs, à la fois collectivement et individuellement.</p>
<p>Le rôle de l’éducation et, en particulier, de l’école primaire et secondaire est essentiel dans la construction des imaginaires macro-régionaux, notamment par l’apprentissage des «&nbsp;continents&nbsp;» qui structurent les représentations à l’échelle mondiale.</p>
</div>
<div class="grid-img">
<p><img src="../figures/macroreg/these.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<div class="grid-nocol">
<p>Le projet ANR-DFG Imageun a analysé trois sphères s’influençant mutuellement et pour lesquelles ces imaginaires macrorégionaux sont importants :</p>
<ul>
<li>Les médias<br>
</li>
<li>La sphère politique<br>
</li>
<li>Les pratiques et les représentations spatiales des étudiant·es<br>
</li>
</ul>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<section id="via-les-médias" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="via-les-médias">Via les médias</h4>
<p>En analysant par exemples les macrorégions mobilisées dans la presse en ligne des différents pays, à différents moments et avec des positionnements divers.</p>
<p>&lt;a href=“../widgets/W4C_map_med_state.qmd” class=“btn” target=“_blank”<i class="bi bi-hand-index-thumb"></i> &gt;Explorer la carte des médias <a href="../widgets/W2B_wcd_med_reg.html" class="btn" target="_blank"><i class="bi bi-hand-index-thumb"></i> Explorer le wordcloud des médias</a></p>
</section>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="224" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 223;"><span id="cb7-224"><a href="#cb7-224" aria-hidden="true" tabindex="-1"></a>viewof select_W4C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="225" data-source-offset="-19"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 224;"><span id="cb8-225"><a href="#cb8-225" aria-hidden="true" tabindex="-1"></a>viewof year_W4C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="226" data-source-offset="-36"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 225;"><span id="cb9-226"><a href="#cb9-226" aria-hidden="true" tabindex="-1"></a>map_W4C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<section id="via-la-sphere-politique" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="via-la-sphere-politique">Via la sphere politique</h4>
<p>La sphère politique et publique en étudiant les manières de mobiliser les macrorégions dans les discours de personnalités politiques, selon leur pays ou territoire d’exercice, leur positionnement politique et les manières de mettre en récit ces macrorégions</p>
<p><a href="../widgets/W5A_txt_interviews.html" class="btn" target="_blank"><i class="bi bi-hand-index-thumb"></i> Parcourir les interviews des Public Figures</a></p>
</section>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="242" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 241;"><span id="cb10-242"><a href="#cb10-242" aria-hidden="true" tabindex="-1"></a>viewof idText_W5A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="243" data-source-offset="-19"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 242;"><span id="cb11-243"><a href="#cb11-243" aria-hidden="true" tabindex="-1"></a>viewof nextText_W5A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="244" data-source-offset="-40"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 243;"><span id="cb12-244"><a href="#cb12-244" aria-hidden="true" tabindex="-1"></a>viewof tradOnOff_W5A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="grid-W5A">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="248" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 247;"><span id="cb13-248"><a href="#cb13-248" aria-hidden="true" tabindex="-1"></a>ID_PI_W5A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
</div>
</div>
<p><strong><em>Extrait de l’interview</em></strong></p>
<p><span><span id="ojs-element-id-1"></span></span></p>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<section id="via-les-pratiques-et-les-representations-individuelles-et-collectives" class="level4 grid-tx">
<h4 class="anchored" data-anchor-id="via-les-pratiques-et-les-representations-individuelles-et-collectives">via les pratiques et les representations individuelles et collectives</h4>
<p>Les pratiques et les représentations spatiales des étudiant·es, en analysant leurs mobilités réalisées ou souhaitées, leurs trajectoires socio-spatiales, leurs pratiques des médias, leurs parcours étudiant, etc.</p>
<p><a href="../widgets/W4B_map_stu_wish.html" class="btn" target="_blank"><i class="bi bi-hand-index-thumb"></i> Explorer les espaces désirés par les étudiant·es</a></p>
<p><a href="../widgets/W1B_map_stu_explo.html" class="btn" target="_blank"><i class="bi bi-hand-index-thumb"></i> Explorer les régions par étudiant·es</a></p>
</section>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="271" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 270;"><span id="cb14-271"><a href="#cb14-271" aria-hidden="true" tabindex="-1"></a>viewof select_W4B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="272" data-source-offset="-19"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 271;"><span id="cb15-272"><a href="#cb15-272" aria-hidden="true" tabindex="-1"></a>map_W4B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<!-- ____ END SEC______ -->


<div class="ojs-auto-generated hidden">
<script type="ojs-module-contents">
eyJjb250ZW50cyI6WyAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7dHJhZE9uT2ZmX1c1QX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEifV19
</script>
</div>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bailly_imaginaire_1989" class="csl-entry" role="listitem">
Bailly, Antoine-S. 1989. <span>“L’imaginaire Spatial. <span>Plaidoyer</span> Pour La Géographie Des Représentations.”</span> <em>Espaces Temps</em> 40 (1): 53–58. <a href="https://doi.org/10.3406/espat.1989.3461">https://doi.org/10.3406/espat.1989.3461</a>.
</div>
<div id="ref-dernat_representations_2018" class="csl-entry" role="listitem">
Dernat, Sylvain. 2018. <span>“Des Représentations Individuelles Aux Représentations Sociales : Quels Liens Possibles ?”</span> In <em>Réseau <span>Cartotête</span> - <span>Actes</span> Des Journées d’études de <span>Strasbourg</span>, 10 Et 11 Avril 2017</em>, edited by Sylvain Dernat, Anne-Christine Bronner, Sylvain Depeau, Pierre Dias, Sylvie Lardon, and Thierry Ramadier, 31–36. Clermont-Ferrand, France.
</div>
<div id="ref-didelon-loiseau_internal_2014" class="csl-entry" role="listitem">
Didelon-Loiseau, Clarisse, and Claude Grasland. 2014. <span>“Internal and <span>External</span> <span>Perceptions</span> of <span>Europe</span>/the <span>EU</span> in the <span>World</span> Through <span>Mental</span> <span>Maps</span>.”</span> In <em>Communicating <span>Europe</span> in <span>Times</span> of <span>Crisis</span>: <span>External</span> <span>Perceptions</span> of the <span>European</span> <span>Union</span></em>, Palgrave Mcmillan, 65–94. The <span>European</span> <span>Union</span> in <span>International</span> <span>Affairs</span>. London.
</div>
<div id="ref-gregory_geographical_1994" class="csl-entry" role="listitem">
Gregory, Derek. 1994. <span>“Geographical Imaginations.”</span> <em>The Dictionary of Human Geography</em>. Cambridge, MA: Blackwell.
</div>
<div id="ref-jessop_cultural_2012" class="csl-entry" role="listitem">
Jessop, Bob. 2012. <span>“Cultural Political Economy, Spatial Imaginaries, Regional Economic Dynamics.”</span> <em>CPERC Working Paper</em>, Lancaster <span>University</span>, no. 2: 29.
</div>
<div id="ref-marei_regionalisations_2020" class="csl-entry" role="listitem">
Mareï, Nora, and Yann Richard. 2020. <span>“Régionalisations Du Monde Et Intégration (Macro)régionale. <span>Pour</span> Une Montée En Généralité Géographique.”</span> <em>Belgeo</em>, no. 4 (November). <a href="https://doi.org/10.4000/belgeo.43451">https://doi.org/10.4000/belgeo.43451</a>.
</div>
<div id="ref-moisio_mapping_2013" class="csl-entry" role="listitem">
Moisio, Sami, Veit Bachmann, Luiza Bialasiewicz, Elena dell’Agnese, Jason Dittmer, and Virginie Mamadouh. 2013. <span>“Mapping the Political Geographies of <span>Europeanization</span>: <span>National</span> Discourses, External Perceptions and the Question of Popular Culture.”</span> <em>Progress in Human Geography</em> 37 (6): 737–61. <a href="https://doi.org/10.1177/0309132512472093">https://doi.org/10.1177/0309132512472093</a>.
</div>
<div id="ref-rose_feminism_1993" class="csl-entry" role="listitem">
Rose, Gillian. 1993. <em>Feminism &amp; <span>Geography</span>: <span>The</span> <span>Limits</span> of <span>Geographical</span> <span>Knowledge</span></em>. University of Minnesota Press.
</div>
<div id="ref-senecal_aspects_1992" class="csl-entry" role="listitem">
Sénécal, Gilles. 1992. <span>“Aspects de l’imaginaire Spatial : Identité Ou Fin Des Territoires ?”</span> <em>Annales de Géographie</em>, no. 563 (February): 28–42. <a href="https://www.jstor.org/stable/23454057">https://www.jstor.org/stable/23454057</a>.
</div>
</div></section></div></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIEZVTkNUSU9OIFNFVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBzZXQoaW5wdXQsIHZhbHVlKSB7XHJcbiAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcclxuICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHtidWJibGVzOiB0cnVlfSkpO1xyXG59XHJcblxyXG5cclxuLy8gV0lER0VUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAgIHt7PCBpbmNsdWRlIC4uL3NjcmlwdHMvVzFBX21hcF9zdHVfcmVnLmpzID59fVxyXG4vLyAgIHt7PCBpbmNsdWRlIC4uL3NjcmlwdHMvVzFCX21hcF9zdHVfZXhwbG8uanMgPn19XHJcblxyXG5cclxuXHJcbmltcG9ydCB7bWFwX1cxQ30gZnJvbSBcIjc1M2UxMzViZTAyN2E1OThcIlxuXG5cclxuaW1wb3J0IHttYXBfVzFEfSBmcm9tIFwiOTE0NGFlNzkzYjkwNmU0MVwiXG5cblxyXG5cclxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1cyQX0gZnJvbSBcIjEyNmMzZjYwY2JmZGQzMzdcIlxyXG5pbXBvcnQge3ZpZXdvZiByb3RhdGVfVzJBfSBmcm9tIFwiMTI2YzNmNjBjYmZkZDMzN1wiXHJcbmltcG9ydCB7dmlld29mIG5iX1cyQX0gZnJvbSBcIjEyNmMzZjYwY2JmZGQzMzdcIlxyXG5pbXBvcnQge3Bsb3RfVzJBfSBmcm9tIFwiMTI2YzNmNjBjYmZkZDMzN1wiXHJcbmltcG9ydCB7d2NkX1cyQX0gZnJvbSBcIjEyNmMzZjYwY2JmZGQzMzdcIlxyXG5cblxyXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXHJcbmltcG9ydCB7dmlld29mIHllYXJfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXHJcbmltcG9ydCB7dmlld29mIHJvdGF0ZV9XMkJ9IGZyb20gXCI5MGIxMTBmZWExNmJmMjYwXCJcclxuaW1wb3J0IHt2aWV3b2YgbmJfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXHJcbmltcG9ydCB7cGxvdF9XMkJ9IGZyb20gXCI5MGIxMTBmZWExNmJmMjYwXCJcclxuaW1wb3J0IHt3Y2RfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXHJcblxuXHJcbmltcG9ydCB7dmlld29mIHNlbGVjdF9XMkN9IGZyb20gXCJkYWM3OWEwMGQxYjFjOWRiXCJcclxuaW1wb3J0IHt2aWV3b2Ygcm90YXRlX1cyQ30gZnJvbSBcImRhYzc5YTAwZDFiMWM5ZGJcIlxyXG5pbXBvcnQge3ZpZXdvZiBuYl9XMkN9IGZyb20gXCJkYWM3OWEwMGQxYjFjOWRiXCJcclxuaW1wb3J0IHtwbG90X1cyQ30gZnJvbSBcImRhYzc5YTAwZDFiMWM5ZGJcIlxyXG5pbXBvcnQge3djZF9XMkN9IGZyb20gXCJkYWM3OWEwMGQxYjFjOWRiXCJcclxuXG5cclxuXHJcbi8vICAge3s8IGluY2x1ZGUgLi4vc2NyaXB0cy9XM0FfYWZjX3N0dV9ldXIuUiA+fX1cclxuLy8gICB7ezwgaW5jbHVkZSAuLi9zY3JpcHRzL1czQl9hZmNfbWVkX3JlZC5SID59fVxyXG5cclxuLy8gIHt7PCBpbmNsdWRlIC4uL3NjcmlwdHMvVzNBX2FmY19zdHVfZXVyLmpzID59fVxyXG4vLyAge3s8IGluY2x1ZGUgLi4vc2NyaXB0cy9XM0JfYWZjX21lZF9yZWcuanMgPn19XHJcblxyXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzRBfSBmcm9tIFwiNGM4MGY0MTc5N2ZkNWI4ZVwiXHJcbmltcG9ydCB7dmlld29mIGluZGljX1c0QX0gZnJvbSBcIjRjODBmNDE3OTdmZDViOGVcIlxyXG5pbXBvcnQge21hcF9XNEF9IGZyb20gXCI0YzgwZjQxNzk3ZmQ1YjhlXCJcblxuXHJcbmltcG9ydCB7dmlld29mIHNlbGVjdF9XNEJ9IGZyb20gXCJiYmNlMzE3YjMzNjhmMDQ0XCJcclxuaW1wb3J0IHttYXBfVzRCfSBmcm9tIFwiYmJjZTMxN2IzMzY4ZjA0NFwiXG5cblxyXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzRDfSBmcm9tIFwiMWVhNDBlYjY3ZWYzNWMzYlwiXHJcbmltcG9ydCB7dmlld29mIHllYXJfVzRDfSBmcm9tIFwiMWVhNDBlYjY3ZWYzNWMzYlwiXHJcbmltcG9ydCB7bWFwX1c0Q30gZnJvbSBcIjFlYTQwZWI2N2VmMzVjM2JcIlxuXG5cclxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1c0RH0gZnJvbSBcIjViN2ZiMTNmNDQ4YWM1YWJcIlxyXG5pbXBvcnQge21hcF9XNER9IGZyb20gXCI1YjdmYjEzZjQ0OGFjNWFiXCJcblxuXHJcblxyXG5pbXBvcnQge3ZpZXdvZiBpZFRleHRfVzVBfSBmcm9tIFwiZjlkNmVmODc3ZTIyMTRiOFwiXHJcbmltcG9ydCB7dmlld29mIG5leHRUZXh0X1c1QX0gZnJvbSBcImY5ZDZlZjg3N2UyMjE0YjhcIlxyXG5pbXBvcnQge3ZpZXdvZiB0cmFkT25PZmZfVzVBfSBmcm9tIFwiZjlkNmVmODc3ZTIyMTRiOFwiXHJcbmltcG9ydCB7dGV4dFNlbF9XNUF9IGZyb20gXCJmOWQ2ZWY4NzdlMjIxNGI4XCJcclxuaW1wb3J0IHtJRF9QSV9XNUF9IGZyb20gXCJmOWQ2ZWY4NzdlMjIxNGI4XCJcblxuXHJcblxyXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzdBfSBmcm9tIFwiOTQ2NjY5NThkYWI5Y2JkNFwiXHJcbmltcG9ydCB7cGxvdF9XN0F9IGZyb20gXCI5NDY2Njk1OGRhYjljYmQ0XCJcblxuXHJcbmltcG9ydCB7dmlld29mIHNlbGVjdF9XN0J9IGZyb20gXCI4MjEyZWYzOGIyN2IxODE2XCJcclxuaW1wb3J0IHt2aWV3b2YgaW5kaWNfVzdCfSBmcm9tIFwiODIxMmVmMzhiMjdiMTgxNlwiXHJcbmltcG9ydCB7cGxvdF9XN0J9IGZyb20gXCI4MjEyZWYzOGIyN2IxODE2XCJcblxuXHJcbmltcG9ydCB7cGxvdF9XN0N9IGZyb20gXCJjODE4NGNiZWMyNTk3MTJiXCJcblxuXG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIElOUFVUU1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnZpZXdvZiBzZWxlY3RfVzFBID0gSW5wdXRzLnNlbGVjdChbXCJBbGxcIiwgXCJHZXJtYW55XCIsIFwiRnJhbmNlIE1ldHJvcG9saXRhblwiLCBcIkZyYW5jZSBBbnRpbGxlc1wiLCBcIklyZWxhbmRcIiwgXCJUdXJrZXlcIiwgXCJUdW5pc2lhXCJdLCB7bGFiZWw6IFwiU3VydmV5IHNhbXBsZVwifSlcclxuXHJcbnZpZXdvZiByZWdpb25fVzFBID0gSW5wdXRzLnNlbGVjdChuZXcgTWFwKFtbXCJBbGxcIiwnQWxsJ10sW1wiRXVyb3BlXCIsXCJldXJvcGVcIl0sW1wiV2VzdGVybiBFdXJvcGVcIixcImV1cm9wZV9vdWVzdFwiXSxcclxuICAgICAgICAgICAgICAgIFtcIkNlbnRyYWwgRXVyb3BlXCIsXCJldXJvcGVfY2VudHJcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJFdXJvcGVhbiBVbmlvblwiLFwidW5pb25fZXVyb3BcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJBZnJpY2FcIixcImFmcmljYVwiXSxcclxuICAgICAgICAgICAgICAgIFtcIk5vcnRoZXJuIEFmcmljYVwiLFwiYWZyaWNhX25vcmRcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJBbWVyaWNhXCIsXCJhbWVyaWNhXCJdLFxyXG4gICAgICAgICAgICAgICAgW1wiQ2VudHJhbCBBbWVyaWNhXCIsXCJhbWVyaWNhX2N0clwiXSxcclxuICAgICAgICAgICAgICAgIFtcIkFzaWEvRXVyYXNpYVwiLFwiYXNpYVwiXSxcclxuICAgICAgICAgICAgICAgIFtcIk1lZGl0ZXJyYW5lYW5cIixcIm1lZGl0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wiTWlkICYgTmVhciBFYXN0XCIsXCJtaWRlYXN0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wiQ2FycmliZWFuXCIsXCJjYXJyaWJcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJBbnRpbGxlc1wiLFwiYW50aWxcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJUaGUgV2VzdC9PY2lkZW50XCIsXCJ3ZXN0ZXJuXCJdXHJcbiAgICAgICAgICAgICAgICBdKSwge2xhYmVsOiBcIk5hbWUgb2YgbWFjcm9yZWdpb24gY29udGFpbnMgLi4uXCJ9KVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgTUFQXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxubWFwX1cxQSA9IHtcclxuICAvLyBTZXQgaGlnaGxpZ2h0XHJcbmZ1bmN0aW9uIGhpZ2hsaWdodEZlYXR1cmUoZSkge1xyXG4gICAgdmFyIGxheWVyID0gZS50YXJnZXQ7XHJcbiAgICBsYXllci5zZXRTdHlsZSh7XHJcbiAgICAgICAgd2VpZ2h0OiAxLFxyXG4gICAgICAgIGNvbG9yOiAnI2JhNjZhOScsXHJcbiAgICAgICAgZGFzaEFycmF5OiAnJyxcclxuICAgICAgICBmaWxsT3BhY2l0eTogMC41ICAgIFxyXG4gICAgfSk7XHJcbn1cclxuXHJcbiAgLy8gUmVzZXQgSGlnaGxpZ2h0XHJcbiAgZnVuY3Rpb24gcmVzZXRIaWdobGlnaHQoZSkge1xyXG4gICAgbGF5ZXIucmVzZXRTdHlsZShlLnRhcmdldCk7XHJcbn1cclxuXHJcbiAgLy8gT25FYWNoIGZlYXR1clxyXG5mdW5jdGlvbiBvbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7XHJcbiAgICBsYXllci5iaW5kUG9wdXAoZnVuY3Rpb24gKExheWVyKSB7XHJcbiAgICByZXR1cm4gXCI8Yj5Db3VudHJ5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmNvdW50cnkgKyBcIjxicj5cIiArXHJcbiAgICAgIFwiPGI+U2V4IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnNleCArIFwiPGJyPlwiICtcclxuICAgICAgXCI8Yj5GaWVsZHMgb2Ygc3R1ZHkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuZmllbGQgKyBcIjxicj5cIiArXHJcbiAgICAgIFwiPGI+T3BpbmlvbiBhYm91dCBFVSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5vcGlFVSArIFwiPGJyPlwiICtcclxuICAgICAgXCI8Yj5NYWNybyByZWdpb24gOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMubWFjcm8gKyBcIjxicj5cIiArXHJcbiAgICAgIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dCArICcgLSBcIicgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuSURfZ2VvbSArICdcIiA8YnI+JztcclxuICB9KVxyXG4gICAgbGF5ZXIub24oe1xyXG4gICAgICAgIG1vdXNlb3ZlcjogaGlnaGxpZ2h0RmVhdHVyZSxcclxuICAgICAgICBtb3VzZW91dDogcmVzZXRIaWdobGlnaHQsXHJcbiAgICB9KTtcclxufVxyXG5cclxuICAvLyBNQVBcclxuY29uc3QgY29udGFpbmVyID0geWllbGQgaHRsLmh0bWxgPGRpdiBzdHlsZT1cImhlaWdodDogNTB2aDsgd2lkdGg6IDUwdmhcIj5gO1xyXG5jb25zdCBtYXAgPSBMLm1hcChjb250YWluZXIpO1xyXG5jb25zdCBsYXllciA9IEwuZ2VvSlNPTihtYWNyb3JlZ19maWx0ZXJlZCwge1xyXG5vbkVhY2hGZWF0dXJlOiBvbkVhY2hGZWF0dXJlLFxyXG4gIHN0eWxlOiB7XHJcbiAgICBvcGFjaXR5OiAxLFxyXG4gICAgZmlsbE9wYWNpdHk6IG9wYWNpdHlfVzFBLFxyXG4gICAgY29sb3I6IFwiI2QxM2YwZlwiLFxyXG4gICAgd2VpZ2h0OiBzdHJva2VfVzFBIH1cclxuICB9KS5hZGRUbyhtYXApO1xyXG5cclxuLy8gZml0IG1hcCB0byBnZW9tIGJvdW5kcyAgXHJcbm1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiAxNX0pO1xyXG5cclxuLy8gVGlsZSBMYXllciAgXHJcbkwudGlsZUxheWVyKCdodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vcmFzdGVydGlsZXMvdm95YWdlci97en0ve3h9L3t5fXtyfS5wbmcnLFxyXG4gICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxyXG4gICAgICBzdWJkb21haW5zOiBcImFiY2RcIixcclxuICAgICAgbWF4Wm9vbTogMjBcclxuICAgIH0pLmFkZFRvKG1hcCk7XHJcbn1cclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICBUQUJMRVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgREFUQVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbm1hY3JvcmVnX3N0dWRlbnRzID0gRmlsZUF0dGFjaG1lbnQoXCIuLi9kYXRhL1cxQV9CREdfbWFjcm9yZWcuR2VvSlNPTlwiKS5qc29uKClcclxuXHJcbm1hY3JvcmVnID0gZ2VvLnNpbXBsaWZ5KG1hY3JvcmVnX3N0dWRlbnRzLCB7azowLjI1fSlcclxuXHJcbm1hY3JvcmVnX3NvcnRlZCA9IGdlby5mZWF0dXJlY29sbGVjdGlvbihtYWNyb3JlZy5mZWF0dXJlcy5zb3J0KChhLCBiKSA9PiBkMy5kZXNjZW5kaW5nKGEucHJvcGVydGllcy5hcmVhXzM4NTcsIGIucHJvcGVydGllcy5hcmVhXzM4NTcpKSlcclxuXHJcbm1hY3JvcmVnX2ZpbHRlcmVkID0ge1xyXG4gIGxldCBmaWx0ZXJlZCA9ICByZWdpb25fVzFBID09IFwiQWxsXCIgPyBtYWNyb3JlZyA6IGdlby5maWx0ZXIobWFjcm9yZWdfc29ydGVkLCAoZCkgPT4gZFtyZWdpb25fVzFBXSA9PSAxKVxyXG4gIGZpbHRlcmVkID0gc2VsZWN0X1cxQSA9PSBcIkFsbFwiID8gZmlsdGVyZWQgOiBnZW8uZmlsdGVyKGZpbHRlcmVkLCAoZCkgPT4gZC5jb3VudHJ5ID09IHNlbGVjdF9XMUEpXHJcbiAgcmV0dXJuIGdlby5yZXdpbmQoZmlsdGVyZWQpXHJcbn1cclxuXHJcbm9wYWNpdHlfVzFBID0ge2xldCBvcGFjaXR5XHJcbiAgaWYobWFjcm9yZWdfZmlsdGVyZWQuZmVhdHVyZXMubGVuZ3RoID4gNjApIHsgXHJcbiAgICByZXR1cm4gb3BhY2l0eSA9IDAuMFxyXG4gIH0gZWxzZSBpZihtYWNyb3JlZ19maWx0ZXJlZC5mZWF0dXJlcy5sZW5ndGggPCA2MCAmJiBtYWNyb3JlZ19maWx0ZXJlZC5mZWF0dXJlcy5sZW5ndGggPiAyMCkge1xyXG4gICAgcmV0dXJuIG9wYWNpdHkgPSAwLjAyXHJcbiAgfSBlbHNlIHsgXHJcbiAgICByZXR1cm4gb3BhY2l0eSA9IDAuMDZcclxuICB9XHJcbn1cclxuc3Ryb2tlX1cxQSA9IHtsZXQgc3Ryb2tlXHJcbiAgaWYobWFjcm9yZWdfZmlsdGVyZWQuZmVhdHVyZXMubGVuZ3RoID4gMzApIHsgXHJcbiAgICByZXR1cm4gc3Ryb2tlID0gMC4yXHJcbiAgfSBlbHNlIHsgXHJcbiAgICByZXR1cm4gc3Ryb2tlID0gMC41XHJcbiAgfVxyXG59XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIExJQlNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5nZW8gPSByZXF1aXJlKFwiZ2VvdG9vbGJveEAyLjAuM1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMjIFNlZSBzb21lIGV4YW1wbGVzIDogXHJcblxyXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUIsIFwiN3oyN285bW56M2MzXCIpfT4gSUQgOiA3ejI3bzltbnozYzM8L2J1dHRvbj5gfVxyXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUIsIFwiNDYyb2h5MjhhcHczXCIpfT4gSUQgOiA0NjJvaHkyOGFwdzM8L2J1dHRvbj5gfWBcclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgSU5QVVRTXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG52aWV3b2Ygc2VsZWN0X1cxQiA9IElucHV0cy5zZWxlY3QoW1wiQWxsXCIsIFwiR2VybWFueVwiLCBcIkZyYW5jZSBNZXRyb3BvbGl0YW5cIiwgXCJGcmFuY2UgQW50aWxsZXNcIiwgXCJJcmVsYW5kXCIsIFwiVHVya2V5XCIsIFwiVHVuaXNpYVwiXSwge2xhYmVsOiBcIlN1cnZleSBzYW1wbGVcIn0pXHJcblxyXG52aWV3b2Ygc3R1X3NlbF9XMUIgPSBJbnB1dHMudGV4dCh7bGFiZWw6IFwiU3R1ZGVudCdzIElEXCIsIHBsYWNlaG9sZGVyOiBcIjg4Mm9zdzZtdjQ5NlwiLCB2YWx1ZTogcmVzcExpc3RVbmlxdWVbMF19KVxyXG5cclxudmlld29mIG5leHRSZXNwX1cxQiA9IElucHV0cy5idXR0b24oW1xyXG4gIFtcIlLDqXBvbmRhbnQgcHLDqWNlZGVudFwiLCB2YWx1ZSA9PiB2YWx1ZSA9PSAwID8gcmVzcExpc3RVbmlxdWUubGVuZ3RoLSAxOiB2YWx1ZSAtIDFdLFxyXG4gIFtcIlLDqXBvbmRhbnQgc3VpdmFudFwiLCB2YWx1ZSA9PiB2YWx1ZSA+PSByZXNwTGlzdFVuaXF1ZS5sZW5ndGgtMSA/IDAgOiB2YWx1ZSArIDFdLFxyXG5dLCB7dmFsdWU6IHJlc3BMaXN0VW5pcXVlLmZpbmRJbmRleChkID0+IGQgPT09IHN0dV9zZWxfVzFCKSwgbGFiZWw6IFwiXCJ9KVxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIE1BUFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG5tYXBfVzFCID0ge1xyXG4gIC8vIFNldCBoaWdobGlnaHRcclxuZnVuY3Rpb24gaGlnaGxpZ2h0RmVhdHVyZShlKSB7XHJcbiAgICB2YXIgbGF5ZXIgPSBlLnRhcmdldDtcclxuICAgIGxheWVyLnNldFN0eWxlKHtcclxuICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgY29sb3I6ICcjYmE2NmE5JyxcclxuICAgICAgICBkYXNoQXJyYXk6ICcnLFxyXG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLjUgICAgXHJcbiAgICB9KTtcclxufVxyXG5cclxuICAvLyBSZXNldCBIaWdobGlnaHRcclxuICBmdW5jdGlvbiByZXNldEhpZ2hsaWdodChlKSB7XHJcbiAgICBsYXllci5yZXNldFN0eWxlKGUudGFyZ2V0KTtcclxufVxyXG5cclxuICAvLyBPbkVhY2ggZmVhdHVyXHJcbmZ1bmN0aW9uIG9uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHtcclxuICAgIGxheWVyLmJpbmRQb3B1cChmdW5jdGlvbiAoTGF5ZXIpIHtcclxuICAgIHJldHVybiBcIjxiPjxpPlJlZ2lvbiBkcmF3biA6IDwvYj48L2k+XCIgKyBcclxuICAgIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5JRF9nZW9tICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5SZWcgbmFtZSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5SZWcgbmFtZSAoZnIpIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfbGFiX2ZyICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5SZWcgbmFtZSAoZW4pIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfbGFiX2VuICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5SZWcgc2NhbGUgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9zY2FsZSArIFwiPGJyPlwiICtcclxuICAgIFwiPGI+UmVnIHBhcmVudCA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX3BhcmVudDFfZW4gKyBcIjxicj5cIiArXHJcbiAgICBcIjxicj5cIiArXHJcbiAgICBcIjxiPjxpPlJlc3BvbmRlbnQgOiA8L2I+PC9pPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlgwMDAxX21ldF9yZXNwSURfYXV0ICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5TZXggOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuc2V4ICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5Db3VudHJ5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmNvdW50cnkgKyBcIjxicj5cIiArXHJcbiAgICBcIjxiPkZpZWxkcyBvZiBzdHVkeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5maWVsZCArIFwiPGJyPlwiICtcclxuICAgIFwiPGI+TGV2ZWwgb2Ygc3R1ZHkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMubGV2ZWxzICsgXCI8YnI+XCIgK1xyXG4gICAgXCI8Yj5OYXRpb25hbGl0eSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZGRvYyArIFwiPGJyPlwiICtcclxuICAgIFwiPGI+T3BpbmlvbiBvZiBFVSA6PC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLm9waUVVIFxyXG4gIH0pXHJcbiAgICBsYXllci5vbih7XHJcbiAgICAgICAgbW91c2VvdmVyOiBoaWdobGlnaHRGZWF0dXJlLFxyXG4gICAgICAgIG1vdXNlb3V0OiByZXNldEhpZ2hsaWdodCxcclxuICAgIH0pO1xyXG59XHJcblxyXG4gIC8vIE1BUFxyXG5cclxuY29uc3QgY29udGFpbmVyID0geWllbGQgaHRsLmh0bWxgPGRpdiBzdHlsZT1cImhlaWdodDogNTB2aDsgd2lkdGg6IDUwdmhcIj5gO1xyXG5jb25zdCBtYXAgPSBMLm1hcChjb250YWluZXIpO1xyXG4gIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKG1hY3JvX3Jlc3BfVzFCLCB7XHJcbm9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUsXHJcbiAgc3R5bGU6IHtcclxuICAgIGZpbGxPcGFjaXR5OiAwLjIsXHJcbiAgICBjb2xvcjogXCIjRkZCQzUwXCIsXHJcbiAgICB3ZWlnaHQ6IDEuNX1cclxuICB9KS5hZGRUbyhtYXApO1xyXG5cclxuLy8gZml0IG1hcCB0byBnZW9tIGJvdW5kcyAgXHJcbm1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiA5fSk7XHJcblxyXG4vLyBUaWxlIExheWVyICBcclxuTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9e3J9LnBuZ1wiLFxyXG4gICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxyXG4gICAgICBzdWJkb21haW5zOiBcImFiY2RcIixcclxuICAgICAgbWF4Wm9vbTogMTBcclxuICAgIH0pLmFkZFRvKG1hcCk7XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIFRBQkxFXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIERBVEFcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5tYWNyb3JlZ19zdHVkZW50c19XMUIgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvQkRHXzQzMjZfY2FydG8uR2VvSlNPTlwiKS5qc29uKClcclxuXHJcbm1hY3JvcmVnX1cxQiA9IGdlb19XMUIuc2ltcGxpZnkobWFjcm9yZWdfc3R1ZGVudHNfVzFCLCB7azowLjJ9KVxyXG5cclxubWFjcm9yZWdfc29ydGVkX1cxQiA9IGdlb19XMUIuZmVhdHVyZWNvbGxlY3Rpb24obWFjcm9yZWdfVzFCLmZlYXR1cmVzLnNvcnQoKGEsIGIpID0+IGQzLmRlc2NlbmRpbmcoYS5wcm9wZXJ0aWVzLmFyZWFfMzg1NywgYi5wcm9wZXJ0aWVzLmFyZWFfMzg1NykpKVxyXG5cclxubWFjcm9yZWdfZmlsdGVyZWRfVzFCID0ge1xyXG4gIGxldCBmaWx0ZXJlZCA9ICBzZWxlY3RfVzFCID09IFwiQWxsXCIgPyBtYWNyb3JlZ19zb3J0ZWRfVzFCIDogZ2VvX1cxQi5maWx0ZXIobWFjcm9yZWdfc29ydGVkX1cxQiwgKGQpID0+IGQuY291bnRyeSA9PSBzZWxlY3RfVzFCKVxyXG4gIHJldHVybiBnZW9fVzFCLnJld2luZChmaWx0ZXJlZClcclxufVxyXG5cclxubWFjcm9fcmVzcF9XMUIgPSBnZW9fVzFCLmZpbHRlcihtYWNyb3JlZ19maWx0ZXJlZF9XMUIsIGQgPT4gZD8uWDAwMDFfbWV0X3Jlc3BJRF9hdXQgPT0gcmVzcExpc3RVbmlxdWVbbmV4dFJlc3BfVzFCXSlcclxuXHJcbnJlc3BMaXN0ID0gbWFjcm9yZWdfZmlsdGVyZWRfVzFCLmZlYXR1cmVzLm1hcChkID0+IGQucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dClcclxuXHJcbnJlc3BMaXN0VW5pcXVlID0gWy4uLm5ldyBTZXQocmVzcExpc3QuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSB1bmRlZmluZWQpKV1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIExJQlNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5nZW9fVzFCID0gcmVxdWlyZShcImdlb3Rvb2xib3hAMi4wLjNcIilcblxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBTZWUgc29tZSBleGFtcGxlcyA6IFxyXG5cclxuJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCLCBcIjc3ZGFpNmZzOTluOFwiKX0+IElEIDogNzdkYWk2ZnM5OW44PC9idXR0b24+YH1cclxuJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCLCBcIjJiOHp0ZzdkMzQ4OVwiKX0+IElEIDogMmI4enRnN2QzNDg5PC9idXR0b24+YH1gXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyMgU2VlIHNvbWUgZXhhbXBsZXMgOiBcclxuXHJcbiR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQiwgXCI3dTRyeW84eTQ5emFcIil9PiBJRCA6IDd1NHJ5bzh5NDl6YTwvYnV0dG9uPmB9XHJcbiR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQiwgXCIzd3cyazM0cGJmODRcIil9PiBJRCA6IDN3dzJrMzRwYmY4NDwvYnV0dG9uPmB9YFxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2Ygc2VsZWN0X1c0Q1xyXG52aWV3b2YgeWVhcl9XNENcclxubWFwX1c0Q1xyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2YgaWRUZXh0X1c1QVxyXG52aWV3b2YgbmV4dFRleHRfVzVBXHJcbnZpZXdvZiB0cmFkT25PZmZfVzVBXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IklEX1BJX1c1QVxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIHNlbGVjdF9XNEJcclxubWFwX1c0QlxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3NlbGVjdF9XMUEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncmVnaW9uX1cxQScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzZWxlY3RfVzFCJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3N0dV9zZWxfVzFCJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ25leHRSZXNwX1cxQicpIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../docs";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/imageun\.gitpages\.huma-num\.fr\/atlas_quarto\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Atlas Interactif - IMAGEUN · 2024 - <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.fr"><img src="https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png" class="img-fluid" alt="licensebuttons by-nc-sa"></a> - CIST</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>