<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Atlas Intéractif IMAGEUN – antilles</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../site_libs/scatterD3-binding-1.0.1/scatterD3.js"></script>



</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Atlas Intéractif IMAGEUN</span>
    </a>
  </div>
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../docs/macroregion.html"> 
<span class="menu-text">Imaginaires macrorégionaux</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-terrains-denquêtes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Terrains d’enquêtes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-terrains-denquêtes">    
        <li>
    <a class="dropdown-item" href="../docs/france.html">
 <span class="dropdown-text">Where is France</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/germany.html">
 <span class="dropdown-text">Where is Germany</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/antilles.html">
 <span class="dropdown-text">Where is French Caribbean</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/tunisia.html">
 <span class="dropdown-text">Where is Tunisia</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../docs/turkey.html">
 <span class="dropdown-text">Where is Turkey</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sur-leurope-et-lue" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Sur l’europe et l’UE</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sur-leurope-et-lue">    
        <li>
    <a class="dropdown-item" href="../docs/whereEurope.html">
 <span class="dropdown-text">Where is Europe</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../widgets.html"> 
<span class="menu-text">Widgets</span></a>
  </li>  
</ul>
          <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../docs/legal.html"> 
<span class="menu-text">Mentions légales</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/usage.html"> 
<span class="menu-text">Conditions d’utilisation</span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
</div>
            <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">




<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="11" data-source-offset="-70"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 10;"><span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">set</span>(input<span class="op">,</span> value) {</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">// WIDGETS ----------------------------------------------------</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W1A_map_stu_reg.js &gt;}}</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W1B_map_stu_explo.js &gt;}}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W1C} <span class="im">from</span> <span class="st">"753e135be027a598"</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W1D} <span class="im">from</span> <span class="st">"9144ae793b906e41"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2A} <span class="im">from</span> <span class="st">"126c3f60cbfdd337"</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof year_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2B} <span class="im">from</span> <span class="st">"90b110fea16bf260"</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof rotate_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nb_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {wcd_W2C} <span class="im">from</span> <span class="st">"dac79a00d1b1c9db"</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W3A_afc_stu_eur.R &gt;}}</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="co">//   {{&lt; include ../scripts/W3B_afc_med_red.R &gt;}}</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="co">//  {{&lt; include ../scripts/W3A_afc_stu_eur.js &gt;}}</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="co">//  {{&lt; include ../scripts/W3B_afc_med_reg.js &gt;}}</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof indic_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4A} <span class="im">from</span> <span class="st">"4c80f41797fd5b8e"</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4B} <span class="im">from</span> <span class="st">"bbce317b3368f044"</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4B} <span class="im">from</span> <span class="st">"bbce317b3368f044"</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof year_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4C} <span class="im">from</span> <span class="st">"1ea40eb67ef35c3b"</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W4D} <span class="im">from</span> <span class="st">"5b7fb13f448ac5ab"</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {map_W4D} <span class="im">from</span> <span class="st">"5b7fb13f448ac5ab"</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof idText_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof nextText_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof tradOnOff_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {textSel_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {ID_PI_W5A} <span class="im">from</span> <span class="st">"f9d6ef877e2214b8"</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W7A} <span class="im">from</span> <span class="st">"94666958dab9cbd4"</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7A} <span class="im">from</span> <span class="st">"94666958dab9cbd4"</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof select_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {viewof indic_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7C} <span class="im">from</span> <span class="st">"c8184cbec259712b"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-19" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-20" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-21" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-22" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-23" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-24" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-25" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-26" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-27" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-28" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-29" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-30" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-31" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-32" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-33" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-34" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-35" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-36" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-37" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-38" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-39" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-40" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<section>
<div class="para">
<section id="where-is-the-french-caribbean" class="level1 paraContent">
<h1>Where is the French Caribbean ?</h1>
<p>Camille Dabestani</p>
</section>
</div>
</section>
<div class="grid-container">
<div class="grid-nocol">
<p>Now, we are going to change the focus.</p>
<p>The aim is to consider imaginaries on and by the French Caribbean on macroregions (see. Story 1 – see. Story 2).</p>
<p>The Caribbean is an area of interstice in representations of the world’s regions. It may be forgotten, considered as a margin of the American continent, not knowing if it is in North, South or central America <span class="citation" data-cites="didelon-loiseau_mental_2018">(<a href="#ref-didelon-loiseau_mental_2018" role="doc-biblioref">Didelon-Loiseau, De Ruffray, and Lambert 2018</a>)</span>.</p>
<p>Martinique, Guadeloupe, Saint-Martin and Saint-Barthélémy are located in the Caribbean : at the interface of major regional groupings of the American continent, but also as and institutional and administrative links and statuses with France and the European Union.</p>
<p>There are a lot of macroregional imaginations that are at play in that context.</p>
<p>We are going to see how proximities, links, nuances, differences and distances are important in expressing imaginaries in the French Caribbean.</p>
</div>
</div>
<!-- --------- SECTION Martinique and Guadeloupeincar space---- -->
<section>
<div class="para">
<section id="martinique-and-guadeloupe-in-the-caribbean-space" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="martinique-and-guadeloupe-in-the-caribbean-space">Martinique and Guadeloupe in the Caribbean space</h2>
<section id="a-special-status-within-the-caribbean-region" class="level3">
<h3 class="anchored" data-anchor-id="a-special-status-within-the-caribbean-region">A <strong>special status</strong> within the Caribbean region :</h3>
</section>
</section>
</div>
<div class="grid-container">
<section id="martinique-and-guadeloupe-are-départements-et-régions-doutremer-or-drom-in-the-france" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="martinique-and-guadeloupe-are-départements-et-régions-doutremer-or-drom-in-the-france">Martinique and Guadeloupe are <strong>«&nbsp;Départements et régions d’outremer&nbsp;»</strong> or DROM in the France</h4>
<p>They are French territories, qualified as overseas in the <strong>French institutional framework</strong>. Martinique has had the status of territorial collectivity (in place of regional and departmental status) since 2015, and Guadeloupe the status of region.</p>
<p><img src="../figures/antilles/logo_mar.png" class="img-fluid" style="width:5em"> <img src="../figures/antilles/logo_gua.png" class="img-fluid" style="width:5em"></p>
</section>
<div class="grid-img">
<p><img src="../figures/antilles/loc.png" class="img-fluid" style="width:30em"></p>
</div>
<section id="martinique-and-guadeloupe-are-région-ultrapériphériques-or-rup-in-the-european-union" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="martinique-and-guadeloupe-are-région-ultrapériphériques-or-rup-in-the-european-union">Martinique and Guadeloupe are <strong>«&nbsp;Région UltraPériphériques&nbsp;»</strong> or RUP in the European Union</h4>
<p>They are <strong>member of the EU with the status of Outermost Regions.</strong></p>
<p>There are 9 European territories with this status due to there associations with EU member states.</p>
<p><img src="../figures/antilles/logo_rup.png" class="img-fluid" style="width:5em"></p>
</section>
<div class="grid-txt">
<p>That status consider that they are facing issues because of their “ultraperiphericity” to the European continent, of their insularity (not for French Guyana), their insertion into another regional grouping …</p>
<p>That ultraperiphericity is defined on the point of view of EU and Europe. In the point of view of the territory, it is different.</p>
</div>
<section id="martinique-and-guadeloupe-are-associated-with-regional-organizations." class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="martinique-and-guadeloupe-are-associated-with-regional-organizations.">Martinique and Guadeloupe are associated with regional organizations.</h4>
<p>They participate in regional economic and trade organizations in the Caribbean, notably the OECS, the ACS or the Caricom <span class="citation" data-cites="galy_adhesion_2019 galy_gestion_2018">(<a href="#ref-galy_adhesion_2019" role="doc-biblioref">Galy 2019</a>, <a href="#ref-galy_gestion_2018" role="doc-biblioref">2018</a>)</span>.</p>
<p><img src="../figures/antilles/logo_ecs.png" class="img-fluid" style="width:5em"> <img src="../figures/antilles/logo_acs.png" class="img-fluid" style="width:5em"> <img src="../figures/antilles/logo_caricom.png" class="img-fluid" style="width:4em"></p>
</section>
<div class="grid-txt">
<p>They tend to have some distance from those organizaitons: Martinique and Guadeloupe are associate members of OECS and ACS (not full members) and in the case of the latter institution, the two collectivities are represented by the French state (and not on their own behalf). They are candidates to the Caricom.</p>
</div>
</div>
<div class="grid-container">
<div class="grid-nocol">
<p>The Caribbean is therefore an area of contact between American and overseas spaces.</p>
<p>It is a complex ensemble, a construct influenced by geographical, political and institutional structure, mobilities as well as social and postcolonial relations <span class="citation" data-cites="audebert__2022">Cruse (<a href="#ref-cruse_geographie_2014" role="doc-biblioref">2014</a>)</span>.</p>
<p>For Martinique and Guadeloupe, the superimposition and interweaving of statuses, constructions, heritages and hierarchies produce a set of complex and multiple macro-regional imaginaries.</p>
<p>The production of geographical imaginaries thus appears to be an implicit and explicit political process, multiscalar and involving several actors (EU/Europe, State, community) <span class="citation" data-cites="piantoni_marquages_2009">(<a href="#ref-piantoni_marquages_2009" role="doc-biblioref">Piantoni 2009</a>)</span>.</p>
</div>
</div>
</section>
<!-- THE CARIB HEART -->
<section>
<div class="para">
<section id="the-caribbean-at-the-heart-of-imaginaries" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="the-caribbean-at-the-heart-of-imaginaries">The Caribbean at the heart of imaginaries</h2>
<section id="lets-focus-on-the-main-macroregions-that-make-sense-for-students-in-the-french-caribbean-martinique-and-guadeloupe" class="level3">
<h3 class="anchored" data-anchor-id="lets-focus-on-the-main-macroregions-that-make-sense-for-students-in-the-french-caribbean-martinique-and-guadeloupe">Lets focus on the main macroregions that make sense for students in the French Caribbean, Martinique and Guadeloupe</h3>
</section>
</section>
</div>
<!-- ------------- -->
<div class="grid-container">
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="118" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 117;"><span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### The Caribbean appears to be the space that most appeals to </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof select_W1A<span class="op">,</span> <span class="st">"France Antilles"</span>)<span class="sc">}</span><span class="vs">&gt;students'&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> imaginations.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
<p>Of the 275 regions traced by students, 90% include Caribbean island areas.</p>
<p>However, its definitions is variable, vague and the space is often segmented and/or associated with other macro-regional groupings in complex relationships.</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="132" data-source-offset="-192"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 131;"><span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>viewof select_W1A <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>([<span class="st">"All"</span><span class="op">,</span> <span class="st">"Germany"</span><span class="op">,</span> <span class="st">"France Metropolitan"</span><span class="op">,</span> <span class="st">"France Antilles"</span><span class="op">,</span> <span class="st">"Ireland"</span><span class="op">,</span> <span class="st">"Turkey"</span><span class="op">,</span> <span class="st">"Tunisia"</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Survey sample"</span>})</span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>viewof region_W1A <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>(<span class="kw">new</span> <span class="bu">Map</span>([[<span class="st">"All"</span><span class="op">,</span><span class="st">'All'</span>]<span class="op">,</span>[<span class="st">"Europe"</span><span class="op">,</span><span class="st">"europe"</span>]<span class="op">,</span>[<span class="st">"Western Europe"</span><span class="op">,</span><span class="st">"europe_ouest"</span>]<span class="op">,</span></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central Europe"</span><span class="op">,</span><span class="st">"europe_centr"</span>]<span class="op">,</span></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"European Union"</span><span class="op">,</span><span class="st">"union_europ"</span>]<span class="op">,</span></span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Africa"</span><span class="op">,</span><span class="st">"africa"</span>]<span class="op">,</span></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Northern Africa"</span><span class="op">,</span><span class="st">"africa_nord"</span>]<span class="op">,</span></span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"America"</span><span class="op">,</span><span class="st">"america"</span>]<span class="op">,</span></span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central America"</span><span class="op">,</span><span class="st">"america_ctr"</span>]<span class="op">,</span></span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Asia/Eurasia"</span><span class="op">,</span><span class="st">"asia"</span>]<span class="op">,</span></span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mediterranean"</span><span class="op">,</span><span class="st">"medit"</span>]<span class="op">,</span></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mid &amp; Near East"</span><span class="op">,</span><span class="st">"mideast"</span>]<span class="op">,</span></span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Carribean"</span><span class="op">,</span><span class="st">"carrib"</span>]<span class="op">,</span></span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Antilles"</span><span class="op">,</span><span class="st">"antil"</span>]<span class="op">,</span></span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"The West/Ocident"</span><span class="op">,</span><span class="st">"western"</span>]</span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>                ])<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Name of macroregion contains ..."</span>})</span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a><span class="co">//                        MAP</span></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>map_W1A <span class="op">=</span> {</span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Set highlight</span></span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>        <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>        <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Reset Highlight</span></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>  <span class="co">// OnEach featur</span></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Opinion about EU : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Macro region : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">macro</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>      Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">' - "'</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">'" &lt;br&gt;'</span><span class="op">;</span></span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a>  <span class="co">// MAP</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macroreg_filtered<span class="op">,</span> {</span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a><span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a>    <span class="dt">opacity</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fillOpacity</span><span class="op">:</span> opacity_W1A<span class="op">,</span></span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"#d13f0f"</span><span class="op">,</span></span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a>    <span class="dt">weight</span><span class="op">:</span> stroke_W1A }</span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a>  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a><span class="co">// fit map to geom bounds  </span></span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a>map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">15</span>})<span class="op">;</span></span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-201"><a href="#cb3-201" aria-hidden="true" tabindex="-1"></a><span class="co">// Tile Layer  </span></span>
<span id="cb3-202"><a href="#cb3-202" aria-hidden="true" tabindex="-1"></a>L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png'</span><span class="op">,</span></span>
<span id="cb3-203"><a href="#cb3-203" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb3-204"><a href="#cb3-204" aria-hidden="true" tabindex="-1"></a>      <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb3-205"><a href="#cb3-205" aria-hidden="true" tabindex="-1"></a>      <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">20</span></span>
<span id="cb3-206"><a href="#cb3-206" aria-hidden="true" tabindex="-1"></a>    })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb3-207"><a href="#cb3-207" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-208"><a href="#cb3-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-209"><a href="#cb3-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-210"><a href="#cb3-210" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-211"><a href="#cb3-211" aria-hidden="true" tabindex="-1"></a><span class="co">//                        TABLE</span></span>
<span id="cb3-212"><a href="#cb3-212" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-213"><a href="#cb3-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-214"><a href="#cb3-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-215"><a href="#cb3-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-216"><a href="#cb3-216" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-217"><a href="#cb3-217" aria-hidden="true" tabindex="-1"></a><span class="co">//                        DATA</span></span>
<span id="cb3-218"><a href="#cb3-218" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-219"><a href="#cb3-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-220"><a href="#cb3-220" aria-hidden="true" tabindex="-1"></a>macroreg_students <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1A_BDG_macroreg.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb3-221"><a href="#cb3-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-222"><a href="#cb3-222" aria-hidden="true" tabindex="-1"></a>macroreg <span class="op">=</span> geo<span class="op">.</span><span class="fu">simplify</span>(macroreg_students<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.25</span>})</span>
<span id="cb3-223"><a href="#cb3-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-224"><a href="#cb3-224" aria-hidden="true" tabindex="-1"></a>macroreg_sorted <span class="op">=</span> geo<span class="op">.</span><span class="fu">featurecollection</span>(macroreg<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb3-225"><a href="#cb3-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-226"><a href="#cb3-226" aria-hidden="true" tabindex="-1"></a>macroreg_filtered <span class="op">=</span> {</span>
<span id="cb3-227"><a href="#cb3-227" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> filtered <span class="op">=</span>  region_W1A <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg <span class="op">:</span> geo<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted<span class="op">,</span> (d) <span class="kw">=&gt;</span> d[region_W1A] <span class="op">==</span> <span class="dv">1</span>)</span>
<span id="cb3-228"><a href="#cb3-228" aria-hidden="true" tabindex="-1"></a>  filtered <span class="op">=</span> select_W1A <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> filtered <span class="op">:</span> geo<span class="op">.</span><span class="fu">filter</span>(filtered<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1A)</span>
<span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> geo<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a>opacity_W1A <span class="op">=</span> {<span class="kw">let</span> opacity</span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">60</span>) { </span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb3-235"><a href="#cb3-235" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> <span class="dv">60</span> <span class="op">&amp;&amp;</span> macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">20</span>) {</span>
<span id="cb3-236"><a href="#cb3-236" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.02</span></span>
<span id="cb3-237"><a href="#cb3-237" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb3-238"><a href="#cb3-238" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.06</span></span>
<span id="cb3-239"><a href="#cb3-239" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-240"><a href="#cb3-240" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-241"><a href="#cb3-241" aria-hidden="true" tabindex="-1"></a>stroke_W1A <span class="op">=</span> {<span class="kw">let</span> stroke</span>
<span id="cb3-242"><a href="#cb3-242" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">30</span>) { </span>
<span id="cb3-243"><a href="#cb3-243" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="cb3-244"><a href="#cb3-244" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb3-245"><a href="#cb3-245" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb3-246"><a href="#cb3-246" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-247"><a href="#cb3-247" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-248"><a href="#cb3-248" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-249"><a href="#cb3-249" aria-hidden="true" tabindex="-1"></a><span class="co">//                        LIBS</span></span>
<span id="cb3-250"><a href="#cb3-250" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb3-251"><a href="#cb3-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-252"><a href="#cb3-252" aria-hidden="true" tabindex="-1"></a>geo <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-10" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="132" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 131;"><span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Indeed, a third of people represented more than two spaces in their mental maps, producing, for example, internal divisions within a region (e.g., a </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof region_W1A<span class="op">,</span> <span class="st">"carrib"</span>)<span class="sc">}</span><span class="vs">&gt;“Caribbean”&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> region integrating all island areas, and two regions separating the region into </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof region_W1A<span class="op">,</span> <span class="st">"antil"</span>)<span class="sc">}</span><span class="vs">&gt;“Lesser Antilles” and “Greater Antilles”&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">), two regions intersecting at the level of their territory of residence, or discontinuous and distinct spaces associated administratively or from a personal point of view by representing their migratory routes or family origins.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="143" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 142;"><span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`It is also the case in the names given to the regions in the mental maps by the  </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof select_W2C<span class="op">,</span> <span class="st">"France Antilles"</span>)<span class="sc">}</span><span class="vs">&gt;Antilles students&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="expression">

</div>
</div>
</div>
<p>Here, we look at the 10 most frequently given names: 1/3 of regions named directly Caribbean.</p>
<p>If we include the West Indies and associated subdivisions (Lesser and Greater Antilles : 40%) and the two territories surveyed (Martinique/Guadeloupe : 12%), it represents around 85% of responses in this Caribbean regional space.</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="154" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 153;"><span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a>viewof select_W2C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="155" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 154;"><span id="cb7-155"><a href="#cb7-155" aria-hidden="true" tabindex="-1"></a>plot_W2C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="156" data-source-offset="-27"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 155;"><span id="cb8-156"><a href="#cb8-156" aria-hidden="true" tabindex="-1"></a>viewof rotate_W2C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="157" data-source-offset="-45"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 156;"><span id="cb9-157"><a href="#cb9-157" aria-hidden="true" tabindex="-1"></a>viewof nb_W2C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="158" data-source-offset="-59"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 157;"><span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a>wcd_W2C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="para">
<section id="a-multitude-of-representations-of-the-caribbean" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="a-multitude-of-representations-of-the-caribbean">A multitude of representations of the Caribbean</h2>
</section>
</div>
<div class="grid-container">
<section id="cuba-in-the-caribbean" class="level3 grid-txt">
<h3 class="anchored" data-anchor-id="cuba-in-the-caribbean">Cuba in the Caribbean</h3>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="174" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 173;"><span id="cb11-174"><a href="#cb11-174" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`The size of their Caribbean region change a lot. For some </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button&gt; Antilles students&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">, their Caribbean stops at Cuba.</span></span>
<span id="cb11-175"><a href="#cb11-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-176"><a href="#cb11-176" aria-hidden="true" tabindex="-1"></a><span class="vs">The imaginaries mobilized are based on three main elements:</span></span>
<span id="cb11-177"><a href="#cb11-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-178"><a href="#cb11-178" aria-hidden="true" tabindex="-1"></a><span class="vs">- cultural, historical and political proximity to the United States, rather than to other Caribbean states and territories (through migratory links, for example) </span></span>
<span id="cb11-179"><a href="#cb11-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-180"><a href="#cb11-180" aria-hidden="true" tabindex="-1"></a><span class="vs">- the absence of French or Creole languages</span></span>
<span id="cb11-181"><a href="#cb11-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-182"><a href="#cb11-182" aria-hidden="true" tabindex="-1"></a><span class="vs">- differences in regimes appear to create distances</span></span>
<span id="cb11-183"><a href="#cb11-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-184"><a href="#cb11-184" aria-hidden="true" tabindex="-1"></a><span class="vs">#### See some examples :  </span></span>
<span id="cb11-185"><a href="#cb11-185" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"8hc2o7bvw3z6"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 8hc2o7bvw3z6&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"882osw6mv496"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 882osw6mv496&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">  </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"7u7s36vn8wz7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7u7s36vn8wz7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
</section>
<div class="grid-img">
<div class="cell hidden">
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="192" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 191;"><span id="cb12-192"><a href="#cb12-192" aria-hidden="true" tabindex="-1"></a>Inputs<span class="op">.</span><span class="fu">bind</span>(viewof stu_sel_W1B_2<span class="op">,</span> viewof nextResp_W1B_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display hidden">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="203" data-source-offset="-386"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 202;"><span id="cb13-203"><a href="#cb13-203" aria-hidden="true" tabindex="-1"></a>select_W1B_2 <span class="op">=</span> <span class="st">"France Antilles"</span></span>
<span id="cb13-204"><a href="#cb13-204" aria-hidden="true" tabindex="-1"></a>  viewof stu_sel_W1B_2 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Student's ID"</span><span class="op">,</span> <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"882osw6mv496"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> respListUnique_W1B_2[<span class="dv">0</span>]})</span>
<span id="cb13-205"><a href="#cb13-205" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-206"><a href="#cb13-206" aria-hidden="true" tabindex="-1"></a>  viewof nextResp_W1B_2 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>([</span>
<span id="cb13-207"><a href="#cb13-207" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant précedent"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> respListUnique_W1B_2<span class="op">.</span><span class="at">length</span><span class="op">-</span> <span class="dv">1</span><span class="op">:</span> value <span class="op">-</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb13-208"><a href="#cb13-208" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant suivant"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">&gt;=</span> respListUnique_W1B_2<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> value <span class="op">+</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb13-209"><a href="#cb13-209" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> respListUnique_W1B_2<span class="op">.</span><span class="fu">findIndex</span>(d <span class="kw">=&gt;</span> d <span class="op">===</span> stu_sel_W1B_2)<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">""</span>})</span>
<span id="cb13-210"><a href="#cb13-210" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-211"><a href="#cb13-211" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-212"><a href="#cb13-212" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-213"><a href="#cb13-213" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        MAP</span></span>
<span id="cb13-214"><a href="#cb13-214" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-215"><a href="#cb13-215" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-216"><a href="#cb13-216" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-217"><a href="#cb13-217" aria-hidden="true" tabindex="-1"></a>    map_W1B_2 <span class="op">=</span> {</span>
<span id="cb13-218"><a href="#cb13-218" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Set highlight</span></span>
<span id="cb13-219"><a href="#cb13-219" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb13-220"><a href="#cb13-220" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb13-221"><a href="#cb13-221" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb13-222"><a href="#cb13-222" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb13-223"><a href="#cb13-223" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb13-224"><a href="#cb13-224" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb13-225"><a href="#cb13-225" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb13-226"><a href="#cb13-226" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb13-227"><a href="#cb13-227" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb13-228"><a href="#cb13-228" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-229"><a href="#cb13-229" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Reset Highlight</span></span>
<span id="cb13-230"><a href="#cb13-230" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb13-231"><a href="#cb13-231" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb13-232"><a href="#cb13-232" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb13-233"><a href="#cb13-233" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-234"><a href="#cb13-234" aria-hidden="true" tabindex="-1"></a>      <span class="co">// OnEach featur</span></span>
<span id="cb13-235"><a href="#cb13-235" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb13-236"><a href="#cb13-236" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb13-237"><a href="#cb13-237" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> <span class="st">"&lt;b&gt;&lt;i&gt;Region drawn : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> </span>
<span id="cb13-238"><a href="#cb13-238" aria-hidden="true" tabindex="-1"></a>            Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-239"><a href="#cb13-239" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-240"><a href="#cb13-240" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (fr) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_fr</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-241"><a href="#cb13-241" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (en) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-242"><a href="#cb13-242" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg scale : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_scale</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-243"><a href="#cb13-243" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg parent : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_parent1_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-244"><a href="#cb13-244" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-245"><a href="#cb13-245" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;&lt;i&gt;Respondent : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-246"><a href="#cb13-246" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-247"><a href="#cb13-247" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-248"><a href="#cb13-248" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-249"><a href="#cb13-249" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Level of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">levels</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-250"><a href="#cb13-250" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Nationality : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">iddoc</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb13-251"><a href="#cb13-251" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Opinion of EU :&lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> </span>
<span id="cb13-252"><a href="#cb13-252" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb13-253"><a href="#cb13-253" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb13-254"><a href="#cb13-254" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb13-255"><a href="#cb13-255" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb13-256"><a href="#cb13-256" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb13-257"><a href="#cb13-257" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb13-258"><a href="#cb13-258" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-259"><a href="#cb13-259" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MAP</span></span>
<span id="cb13-260"><a href="#cb13-260" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-261"><a href="#cb13-261" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb13-262"><a href="#cb13-262" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb13-263"><a href="#cb13-263" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macro_resp_W1B_2<span class="op">,</span> {</span>
<span id="cb13-264"><a href="#cb13-264" aria-hidden="true" tabindex="-1"></a>        <span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb13-265"><a href="#cb13-265" aria-hidden="true" tabindex="-1"></a>        <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb13-266"><a href="#cb13-266" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb13-267"><a href="#cb13-267" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">"#FFBC50"</span><span class="op">,</span></span>
<span id="cb13-268"><a href="#cb13-268" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="fl">1.5</span>}</span>
<span id="cb13-269"><a href="#cb13-269" aria-hidden="true" tabindex="-1"></a>      })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb13-270"><a href="#cb13-270" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-271"><a href="#cb13-271" aria-hidden="true" tabindex="-1"></a>      <span class="co">// fit map to geom bounds  </span></span>
<span id="cb13-272"><a href="#cb13-272" aria-hidden="true" tabindex="-1"></a>      map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">9</span>})<span class="op">;</span></span>
<span id="cb13-273"><a href="#cb13-273" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb13-274"><a href="#cb13-274" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Tile Layer  </span></span>
<span id="cb13-275"><a href="#cb13-275" aria-hidden="true" tabindex="-1"></a>      L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"</span><span class="op">,</span></span>
<span id="cb13-276"><a href="#cb13-276" aria-hidden="true" tabindex="-1"></a>                  {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb13-277"><a href="#cb13-277" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb13-278"><a href="#cb13-278" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb13-279"><a href="#cb13-279" aria-hidden="true" tabindex="-1"></a>                  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb13-280"><a href="#cb13-280" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb13-281"><a href="#cb13-281" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-282"><a href="#cb13-282" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-283"><a href="#cb13-283" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        TABLE</span></span>
<span id="cb13-284"><a href="#cb13-284" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-285"><a href="#cb13-285" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-286"><a href="#cb13-286" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-287"><a href="#cb13-287" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-288"><a href="#cb13-288" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        DATA</span></span>
<span id="cb13-289"><a href="#cb13-289" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-290"><a href="#cb13-290" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-291"><a href="#cb13-291" aria-hidden="true" tabindex="-1"></a>  macroreg_students_W1B_2 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1B_2.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb13-292"><a href="#cb13-292" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-293"><a href="#cb13-293" aria-hidden="true" tabindex="-1"></a>  macroreg_W1B_2 <span class="op">=</span> geo_W1B_2<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1B_2<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.2</span>})</span>
<span id="cb13-294"><a href="#cb13-294" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-295"><a href="#cb13-295" aria-hidden="true" tabindex="-1"></a>  macroreg_sorted_W1B_2 <span class="op">=</span> geo_W1B_2<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1B_2<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb13-296"><a href="#cb13-296" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-297"><a href="#cb13-297" aria-hidden="true" tabindex="-1"></a>  macroreg_filtered_W1B_2 <span class="op">=</span> {</span>
<span id="cb13-298"><a href="#cb13-298" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> filtered <span class="op">=</span>  select_W1B_2 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_sorted_W1B_2 <span class="op">:</span> geo_W1B_2<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1B_2<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1B_2)</span>
<span id="cb13-299"><a href="#cb13-299" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> geo_W1B_2<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb13-300"><a href="#cb13-300" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb13-301"><a href="#cb13-301" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-302"><a href="#cb13-302" aria-hidden="true" tabindex="-1"></a>  macro_resp_W1B_2 <span class="op">=</span> geo_W1B_2<span class="op">.</span><span class="fu">filter</span>(macroreg_filtered_W1B_2<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">?.</span><span class="at">X0001_met_respID_aut</span> <span class="op">==</span> respListUnique_W1B_2[nextResp_W1B_2])</span>
<span id="cb13-303"><a href="#cb13-303" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-304"><a href="#cb13-304" aria-hidden="true" tabindex="-1"></a>  respList_W1B_2 <span class="op">=</span> macroreg_filtered_W1B_2<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span>)</span>
<span id="cb13-305"><a href="#cb13-305" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-306"><a href="#cb13-306" aria-hidden="true" tabindex="-1"></a>  respListUnique_W1B_2 <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(respList_W1B_2<span class="op">.</span><span class="fu">filter</span>(value <span class="kw">=&gt;</span> value <span class="op">!==</span> <span class="kw">undefined</span>))]</span>
<span id="cb13-307"><a href="#cb13-307" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-308"><a href="#cb13-308" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-309"><a href="#cb13-309" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        LIBS</span></span>
<span id="cb13-310"><a href="#cb13-310" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb13-311"><a href="#cb13-311" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-312"><a href="#cb13-312" aria-hidden="true" tabindex="-1"></a>    geo_W1B_2 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-12" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<section id="haiti-in-the-caribbean" class="level3 grid-txt">
<h3 class="anchored" data-anchor-id="haiti-in-the-caribbean">Haiti in the Caribbean</h3>
<p>For others, their Caribbean region interrogate links to Haiti.</p>
<p>Haiti also appears as a node, an evoked frontier of the Caribbean space perceived by certain students. &nbsp; Discourses on the lack of consideration for Haiti in the Caribbean region and in French territories, including references to racism and the migratory context relating to the situation of political instability.</p>
<p>With Haiti, there is a paradoxical relationship of both historical and cultural proximity and distance from the political and economic image <span class="citation" data-cites="audebert_regionalisme_2011">(<a href="#ref-audebert_regionalisme_2011" role="doc-biblioref">Audebert 2011a</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="213" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 212;"><span id="cb14-213"><a href="#cb14-213" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples :  </span></span>
<span id="cb14-214"><a href="#cb14-214" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"9eb9rbi98do7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 9eb9rbi98do7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"7ur8ol79chp8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7ur8ol79chp8&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-10" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="island-caribbean-or-continental-caribbean" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="island-caribbean-or-continental-caribbean">Island Caribbean or Continental Caribbean</h4>
<p>A lot of representation correspond to an “Island Caribbean”. But some of them integrate a “Continental Caribbean”.</p>
<p>Florida and more particularly Miami are important here.</p>
<p>They are a major location for Caribbean diasporas <span class="citation" data-cites="audebert_miami_2016">(<a href="#ref-audebert_miami_2016" role="doc-biblioref">Audebert 2016</a>)</span> and a major transport hub between the Caribbean and the world (Paris and Miami were the obligatory transport hubs for air travel outside the region) <span class="citation" data-cites="ranely_verge-depre_desserte_2014">(<a href="#ref-ranely_verge-depre_desserte_2014" role="doc-biblioref">Ranély Vergé-Dépré 2014</a>)</span>.</p>
<p>Proximity to the USA remains on the bangs of representations, but when this country is evoked, it’s under the prism of Miami and Florida: the borders of the Caribbean integrate cultural, linguistic and geographical proximities with this key space.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="229" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 228;"><span id="cb15-229"><a href="#cb15-229" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb15-230"><a href="#cb15-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-231"><a href="#cb15-231" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"83n8yph8uw43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 83n8yph8uw43&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"2si67yr6fzk7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 2si67yr6fzk7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"3isk4kup6hf4"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3isk4kup6hf4&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"3r9bjw2mee43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3r9bjw2mee43&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="places-of-the-seas-in-caribbean-macroregional-imaginaries" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="places-of-the-seas-in-caribbean-macroregional-imaginaries">Places of the seas in Caribbean macroregional imaginaries</h4>
<p>As the Caribbean is often associated to seas, insularity, etc., what places have seas in their representations?</p>
<p>Whether insular or continental for students, the Caribbean often takes the Caribbean Sea, the Caribbean basin, as the anchor point for its definition <span class="citation" data-cites="cruse_definir_2013 begot_position_nodate">(<a href="#ref-cruse_definir_2013" role="doc-biblioref">Cruse and Saffache 2013</a>; <a href="#ref-begot_position_nodate" role="doc-biblioref">Bégot and Buleon, n.d.</a>)</span>.</p>
<p>Insularity and maritimity are among the elements that characterize the Caribbean <span class="citation" data-cites="rodriguez_quest_2013 roth_decoupage_nodate">(<a href="#ref-rodriguez_quest_2013" role="doc-biblioref">Rodriguez 2013</a>; <a href="#ref-roth_decoupage_nodate" role="doc-biblioref">Roth and Buleon, n.d.</a>)</span>.</p>
<p>For the majority of representations, it is the islands that constitute the routes taken.</p>
<p>But for some students, maritime spaces figure prominently in the definitions of their regions.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="248" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 247;"><span id="cb16-248"><a href="#cb16-248" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb16-249"><a href="#cb16-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-250"><a href="#cb16-250" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"8f34whf3ivh8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 8f34whf3ivh8&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"3zm8d7vx92c9"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3zm8d7vx92c9&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_2<span class="op">,</span> <span class="st">"3isk4kup6hf4"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3isk4kup6hf4&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="expression">

</div>
</div>
</div>
</section>
</div>
<div class="separator">

</div>
<div class="grid-container">
<section id="antilles-or-caraïbe-west-indies-or-caribbean" class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="antilles-or-caraïbe-west-indies-or-caribbean">“Antilles” or “Caraïbe” ? “West Indies or Caribbean ?</h4>
<p>A major ambiguity that emerges from both mental maps and discourse is based on the terms “Antilles” and “Caraïbe”. It is reflected both in the meanings given to the two words and in the associated spatial representations.</p>
<p>Those words appears as synonyms in different languages (Spanish, Dutch, English). In French, the definition of “Antilles” is narrower: it groups mainly Martinique and Guadeloupe (and Guyane in some definitions) <span class="citation" data-cites="cruse_introduction_2013">(<a href="#ref-cruse_introduction_2013" role="doc-biblioref">Cruse 2013</a>)</span>.</p>
<p>Even if the Caribbean region is often distinguished as larger than the Antilles region (the former encompassing the latter), questions persist around the spatial definitions, delimitations and uses of the two terms.</p>
</section>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="272" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 271;"><span id="cb17-272"><a href="#cb17-272" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### Antilles`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="273" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 272;"><span id="cb18-273"><a href="#cb18-273" aria-hidden="true" tabindex="-1"></a>map_W1C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb19" data-startfrom="277" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 276;"><span id="cb19-277"><a href="#cb19-277" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### Caraibes`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb20" data-startfrom="278" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 277;"><span id="cb20-278"><a href="#cb20-278" aria-hidden="true" tabindex="-1"></a>map_W1D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<div class="grid-txt">
<p>For some people, “Antilles” and “Caraïbe” are synonyms, both spatially and semantically, and in the mental maps we have seen the two terms sometimes used interchangeably.</p>
<p>For others, the question of the difference, of the boundary between the two terms, intrinsically contains a notion of vagueness.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb21" data-startfrom="292" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 291;"><span id="cb21-292"><a href="#cb21-292" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb21-293"><a href="#cb21-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-294"><a href="#cb21-294" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"7rl388j2n9r7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7rl388j2n9r7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"9pz7pgv2nwz8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 9pz7pgv2nwz8&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"97r7ktm64cea"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 97r7ktm64cea&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb22" data-startfrom="304" data-source-offset="-383"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 303;"><span id="cb22-304"><a href="#cb22-304" aria-hidden="true" tabindex="-1"></a>select_W1B_3 <span class="op">=</span> <span class="st">"France Antilles"</span></span>
<span id="cb22-305"><a href="#cb22-305" aria-hidden="true" tabindex="-1"></a>  viewof stu_sel_W1B_3 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Student's ID"</span><span class="op">,</span> <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"882osw6mv496"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> respListUnique_W1B_3[<span class="dv">0</span>]})</span>
<span id="cb22-306"><a href="#cb22-306" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-307"><a href="#cb22-307" aria-hidden="true" tabindex="-1"></a>  viewof nextResp_W1B_3 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>([</span>
<span id="cb22-308"><a href="#cb22-308" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant précedent"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> respListUnique_W1B_3<span class="op">.</span><span class="at">length</span><span class="op">-</span> <span class="dv">1</span><span class="op">:</span> value <span class="op">-</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb22-309"><a href="#cb22-309" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant suivant"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">&gt;=</span> respListUnique_W1B_3<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> value <span class="op">+</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb22-310"><a href="#cb22-310" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> respListUnique_W1B_3<span class="op">.</span><span class="fu">findIndex</span>(d <span class="kw">=&gt;</span> d <span class="op">===</span> stu_sel_W1B_3)<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">""</span>})</span>
<span id="cb22-311"><a href="#cb22-311" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-312"><a href="#cb22-312" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-313"><a href="#cb22-313" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-314"><a href="#cb22-314" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        MAP</span></span>
<span id="cb22-315"><a href="#cb22-315" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-316"><a href="#cb22-316" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-317"><a href="#cb22-317" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-318"><a href="#cb22-318" aria-hidden="true" tabindex="-1"></a>    map_W1B_3 <span class="op">=</span> {</span>
<span id="cb22-319"><a href="#cb22-319" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Set highlight</span></span>
<span id="cb22-320"><a href="#cb22-320" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb22-321"><a href="#cb22-321" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb22-322"><a href="#cb22-322" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb22-323"><a href="#cb22-323" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb22-324"><a href="#cb22-324" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb22-325"><a href="#cb22-325" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb22-326"><a href="#cb22-326" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb22-327"><a href="#cb22-327" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb22-328"><a href="#cb22-328" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-329"><a href="#cb22-329" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-330"><a href="#cb22-330" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Reset Highlight</span></span>
<span id="cb22-331"><a href="#cb22-331" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb22-332"><a href="#cb22-332" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb22-333"><a href="#cb22-333" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-334"><a href="#cb22-334" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-335"><a href="#cb22-335" aria-hidden="true" tabindex="-1"></a>      <span class="co">// OnEach featur</span></span>
<span id="cb22-336"><a href="#cb22-336" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb22-337"><a href="#cb22-337" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb22-338"><a href="#cb22-338" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> <span class="st">"&lt;b&gt;&lt;i&gt;Region drawn : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> </span>
<span id="cb22-339"><a href="#cb22-339" aria-hidden="true" tabindex="-1"></a>            Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-340"><a href="#cb22-340" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-341"><a href="#cb22-341" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (fr) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_fr</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-342"><a href="#cb22-342" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (en) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-343"><a href="#cb22-343" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg scale : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_scale</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-344"><a href="#cb22-344" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg parent : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_parent1_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-345"><a href="#cb22-345" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-346"><a href="#cb22-346" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;&lt;i&gt;Respondent : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-347"><a href="#cb22-347" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-348"><a href="#cb22-348" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-349"><a href="#cb22-349" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-350"><a href="#cb22-350" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Level of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">levels</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-351"><a href="#cb22-351" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Nationality : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">iddoc</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb22-352"><a href="#cb22-352" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Opinion of EU :&lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> </span>
<span id="cb22-353"><a href="#cb22-353" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb22-354"><a href="#cb22-354" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb22-355"><a href="#cb22-355" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb22-356"><a href="#cb22-356" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb22-357"><a href="#cb22-357" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb22-358"><a href="#cb22-358" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-359"><a href="#cb22-359" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-360"><a href="#cb22-360" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MAP</span></span>
<span id="cb22-361"><a href="#cb22-361" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-362"><a href="#cb22-362" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb22-363"><a href="#cb22-363" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb22-364"><a href="#cb22-364" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macro_resp_W1B_3<span class="op">,</span> {</span>
<span id="cb22-365"><a href="#cb22-365" aria-hidden="true" tabindex="-1"></a>        <span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb22-366"><a href="#cb22-366" aria-hidden="true" tabindex="-1"></a>        <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb22-367"><a href="#cb22-367" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb22-368"><a href="#cb22-368" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">"#FFBC50"</span><span class="op">,</span></span>
<span id="cb22-369"><a href="#cb22-369" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="fl">1.5</span>}</span>
<span id="cb22-370"><a href="#cb22-370" aria-hidden="true" tabindex="-1"></a>      })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb22-371"><a href="#cb22-371" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-372"><a href="#cb22-372" aria-hidden="true" tabindex="-1"></a>      <span class="co">// fit map to geom bounds  </span></span>
<span id="cb22-373"><a href="#cb22-373" aria-hidden="true" tabindex="-1"></a>      map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">9</span>})<span class="op">;</span></span>
<span id="cb22-374"><a href="#cb22-374" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb22-375"><a href="#cb22-375" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Tile Layer  </span></span>
<span id="cb22-376"><a href="#cb22-376" aria-hidden="true" tabindex="-1"></a>      L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"</span><span class="op">,</span></span>
<span id="cb22-377"><a href="#cb22-377" aria-hidden="true" tabindex="-1"></a>                  {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb22-378"><a href="#cb22-378" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb22-379"><a href="#cb22-379" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb22-380"><a href="#cb22-380" aria-hidden="true" tabindex="-1"></a>                  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb22-381"><a href="#cb22-381" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-382"><a href="#cb22-382" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-383"><a href="#cb22-383" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-384"><a href="#cb22-384" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        TABLE</span></span>
<span id="cb22-385"><a href="#cb22-385" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-386"><a href="#cb22-386" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-387"><a href="#cb22-387" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-388"><a href="#cb22-388" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-389"><a href="#cb22-389" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        DATA</span></span>
<span id="cb22-390"><a href="#cb22-390" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-391"><a href="#cb22-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-392"><a href="#cb22-392" aria-hidden="true" tabindex="-1"></a>  macroreg_students_W1B_3 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1B_2.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb22-393"><a href="#cb22-393" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-394"><a href="#cb22-394" aria-hidden="true" tabindex="-1"></a>  macroreg_W1B_3 <span class="op">=</span> geo_W1B_3<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1B_3<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.2</span>})</span>
<span id="cb22-395"><a href="#cb22-395" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-396"><a href="#cb22-396" aria-hidden="true" tabindex="-1"></a>  macroreg_sorted_W1B_3 <span class="op">=</span> geo_W1B_3<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1B_3<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb22-397"><a href="#cb22-397" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-398"><a href="#cb22-398" aria-hidden="true" tabindex="-1"></a>  macroreg_filtered_W1B_3 <span class="op">=</span> {</span>
<span id="cb22-399"><a href="#cb22-399" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> filtered <span class="op">=</span>  select_W1B_3 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_sorted_W1B_3 <span class="op">:</span> geo_W1B_3<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1B_3<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1B_3)</span>
<span id="cb22-400"><a href="#cb22-400" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> geo_W1B_3<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb22-401"><a href="#cb22-401" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-402"><a href="#cb22-402" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-403"><a href="#cb22-403" aria-hidden="true" tabindex="-1"></a>  macro_resp_W1B_3 <span class="op">=</span> geo_W1B_3<span class="op">.</span><span class="fu">filter</span>(macroreg_filtered_W1B_3<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">?.</span><span class="at">X0001_met_respID_aut</span> <span class="op">==</span> respListUnique_W1B_3[nextResp_W1B_3])</span>
<span id="cb22-404"><a href="#cb22-404" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-405"><a href="#cb22-405" aria-hidden="true" tabindex="-1"></a>  respList_W1B_3 <span class="op">=</span> macroreg_filtered_W1B_3<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span>)</span>
<span id="cb22-406"><a href="#cb22-406" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-407"><a href="#cb22-407" aria-hidden="true" tabindex="-1"></a>  respListUnique_W1B_3 <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(respList_W1B_3<span class="op">.</span><span class="fu">filter</span>(value <span class="kw">=&gt;</span> value <span class="op">!==</span> <span class="kw">undefined</span>))]</span>
<span id="cb22-408"><a href="#cb22-408" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-409"><a href="#cb22-409" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-410"><a href="#cb22-410" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        LIBS</span></span>
<span id="cb22-411"><a href="#cb22-411" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb22-412"><a href="#cb22-412" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-413"><a href="#cb22-413" aria-hidden="true" tabindex="-1"></a>    geo_W1B_3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-12" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<div class="grid-txt">
<p>Differences expressed are spatial but mainly administrative or cultural for some students. For example, Antilles refer to French territories, or to French speaking Creole territories in the Caribbean (Sainte-Lucie, Dominique, Haiti).</p>
<p>For others, the differences expressed are spatial, but more a matter of point of view than definition. The term “Antilles” is also seen by some as an exogenous, a colonial denomination, given from France hexagonale.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb23" data-startfrom="308" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 307;"><span id="cb23-308"><a href="#cb23-308" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples : </span></span>
<span id="cb23-309"><a href="#cb23-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-310"><a href="#cb23-310" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"882osw6mv496"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 882osw6mv496&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"3w4lof9fdv48"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3w4lof9fdv48&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">   </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_3<span class="op">,</span> <span class="st">"4mh8f2zul2pg"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 4mh8f2zul2pg&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</section>
<!-- ____ END SEC______ -->
<section>
<div class="para">
<section id="americas-between-north-and-south-cultures-identities-and-politics" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="americas-between-north-and-south-cultures-identities-and-politics">Americas: between North and South, cultures, identities and politics</h2>
<section id="relations-between-caribbean-and-south-america" class="level3">
<h3 class="anchored" data-anchor-id="relations-between-caribbean-and-south-america">Relations between Caribbean and South America</h3>
</section>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>In some representations, the Caribbean is also linked with South America, firstly thanks to French Guiana.</p>
<p>For some students, French Guiana is positioned as a link, a bridge between the Caribbean and South America.</p>
<p>Contexts are quite different in many sense (localization, neighborhood, economy, socio-cultural, etc.), but French Guiana, Guadeloupe and Martinique have indeed a common national situation, share a relative geographical proximity and common political and institutional stakes with their relation to France and EUrope.</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb24" data-startfrom="341" data-source-offset="-383"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 340;"><span id="cb24-341"><a href="#cb24-341" aria-hidden="true" tabindex="-1"></a>select_W1B_4 <span class="op">=</span> <span class="st">"France Antilles"</span></span>
<span id="cb24-342"><a href="#cb24-342" aria-hidden="true" tabindex="-1"></a>  viewof stu_sel_W1B_4 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Student's ID"</span><span class="op">,</span> <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"882osw6mv496"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> respListUnique_W1B_4[<span class="dv">0</span>]})</span>
<span id="cb24-343"><a href="#cb24-343" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-344"><a href="#cb24-344" aria-hidden="true" tabindex="-1"></a>  viewof nextResp_W1B_4 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>([</span>
<span id="cb24-345"><a href="#cb24-345" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant précedent"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> respListUnique_W1B_4<span class="op">.</span><span class="at">length</span><span class="op">-</span> <span class="dv">1</span><span class="op">:</span> value <span class="op">-</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb24-346"><a href="#cb24-346" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant suivant"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">&gt;=</span> respListUnique_W1B_4<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> value <span class="op">+</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb24-347"><a href="#cb24-347" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> respListUnique_W1B_4<span class="op">.</span><span class="fu">findIndex</span>(d <span class="kw">=&gt;</span> d <span class="op">===</span> stu_sel_W1B_4)<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">""</span>})</span>
<span id="cb24-348"><a href="#cb24-348" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-349"><a href="#cb24-349" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-350"><a href="#cb24-350" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-351"><a href="#cb24-351" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        MAP</span></span>
<span id="cb24-352"><a href="#cb24-352" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-353"><a href="#cb24-353" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-354"><a href="#cb24-354" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-355"><a href="#cb24-355" aria-hidden="true" tabindex="-1"></a>    map_W1B_4 <span class="op">=</span> {</span>
<span id="cb24-356"><a href="#cb24-356" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Set highlight</span></span>
<span id="cb24-357"><a href="#cb24-357" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb24-358"><a href="#cb24-358" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb24-359"><a href="#cb24-359" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb24-360"><a href="#cb24-360" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb24-361"><a href="#cb24-361" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb24-362"><a href="#cb24-362" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb24-363"><a href="#cb24-363" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb24-364"><a href="#cb24-364" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb24-365"><a href="#cb24-365" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb24-366"><a href="#cb24-366" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-367"><a href="#cb24-367" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Reset Highlight</span></span>
<span id="cb24-368"><a href="#cb24-368" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb24-369"><a href="#cb24-369" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb24-370"><a href="#cb24-370" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb24-371"><a href="#cb24-371" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-372"><a href="#cb24-372" aria-hidden="true" tabindex="-1"></a>      <span class="co">// OnEach featur</span></span>
<span id="cb24-373"><a href="#cb24-373" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb24-374"><a href="#cb24-374" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb24-375"><a href="#cb24-375" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> <span class="st">"&lt;b&gt;&lt;i&gt;Region drawn : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> </span>
<span id="cb24-376"><a href="#cb24-376" aria-hidden="true" tabindex="-1"></a>            Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-377"><a href="#cb24-377" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-378"><a href="#cb24-378" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (fr) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_fr</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-379"><a href="#cb24-379" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (en) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-380"><a href="#cb24-380" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg scale : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_scale</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-381"><a href="#cb24-381" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg parent : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_parent1_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-382"><a href="#cb24-382" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-383"><a href="#cb24-383" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;&lt;i&gt;Respondent : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-384"><a href="#cb24-384" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-385"><a href="#cb24-385" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-386"><a href="#cb24-386" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-387"><a href="#cb24-387" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Level of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">levels</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-388"><a href="#cb24-388" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Nationality : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">iddoc</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb24-389"><a href="#cb24-389" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Opinion of EU :&lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> </span>
<span id="cb24-390"><a href="#cb24-390" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb24-391"><a href="#cb24-391" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb24-392"><a href="#cb24-392" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb24-393"><a href="#cb24-393" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb24-394"><a href="#cb24-394" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb24-395"><a href="#cb24-395" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb24-396"><a href="#cb24-396" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-397"><a href="#cb24-397" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MAP</span></span>
<span id="cb24-398"><a href="#cb24-398" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-399"><a href="#cb24-399" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb24-400"><a href="#cb24-400" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb24-401"><a href="#cb24-401" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macro_resp_W1B_4<span class="op">,</span> {</span>
<span id="cb24-402"><a href="#cb24-402" aria-hidden="true" tabindex="-1"></a>        <span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb24-403"><a href="#cb24-403" aria-hidden="true" tabindex="-1"></a>        <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb24-404"><a href="#cb24-404" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb24-405"><a href="#cb24-405" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">"#FFBC50"</span><span class="op">,</span></span>
<span id="cb24-406"><a href="#cb24-406" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="fl">1.5</span>}</span>
<span id="cb24-407"><a href="#cb24-407" aria-hidden="true" tabindex="-1"></a>      })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb24-408"><a href="#cb24-408" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-409"><a href="#cb24-409" aria-hidden="true" tabindex="-1"></a>      <span class="co">// fit map to geom bounds  </span></span>
<span id="cb24-410"><a href="#cb24-410" aria-hidden="true" tabindex="-1"></a>      map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">9</span>})<span class="op">;</span></span>
<span id="cb24-411"><a href="#cb24-411" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-412"><a href="#cb24-412" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Tile Layer  </span></span>
<span id="cb24-413"><a href="#cb24-413" aria-hidden="true" tabindex="-1"></a>      L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"</span><span class="op">,</span></span>
<span id="cb24-414"><a href="#cb24-414" aria-hidden="true" tabindex="-1"></a>                  {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb24-415"><a href="#cb24-415" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb24-416"><a href="#cb24-416" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb24-417"><a href="#cb24-417" aria-hidden="true" tabindex="-1"></a>                  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb24-418"><a href="#cb24-418" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-419"><a href="#cb24-419" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-420"><a href="#cb24-420" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-421"><a href="#cb24-421" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        TABLE</span></span>
<span id="cb24-422"><a href="#cb24-422" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-423"><a href="#cb24-423" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-424"><a href="#cb24-424" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-425"><a href="#cb24-425" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-426"><a href="#cb24-426" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        DATA</span></span>
<span id="cb24-427"><a href="#cb24-427" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-428"><a href="#cb24-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-429"><a href="#cb24-429" aria-hidden="true" tabindex="-1"></a>  macroreg_students_W1B_4 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1B_2.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb24-430"><a href="#cb24-430" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-431"><a href="#cb24-431" aria-hidden="true" tabindex="-1"></a>  macroreg_W1B_4 <span class="op">=</span> geo_W1B_4<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1B_4<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.2</span>})</span>
<span id="cb24-432"><a href="#cb24-432" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-433"><a href="#cb24-433" aria-hidden="true" tabindex="-1"></a>  macroreg_sorted_W1B_4 <span class="op">=</span> geo_W1B_4<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1B_4<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb24-434"><a href="#cb24-434" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-435"><a href="#cb24-435" aria-hidden="true" tabindex="-1"></a>  macroreg_filtered_W1B_4 <span class="op">=</span> {</span>
<span id="cb24-436"><a href="#cb24-436" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> filtered <span class="op">=</span>  select_W1B_4 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_sorted_W1B_4 <span class="op">:</span> geo_W1B_4<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1B_4<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1B_4)</span>
<span id="cb24-437"><a href="#cb24-437" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> geo_W1B_4<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb24-438"><a href="#cb24-438" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-439"><a href="#cb24-439" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-440"><a href="#cb24-440" aria-hidden="true" tabindex="-1"></a>  macro_resp_W1B_4 <span class="op">=</span> geo_W1B_4<span class="op">.</span><span class="fu">filter</span>(macroreg_filtered_W1B_4<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">?.</span><span class="at">X0001_met_respID_aut</span> <span class="op">==</span> respListUnique_W1B_4[nextResp_W1B_4])</span>
<span id="cb24-441"><a href="#cb24-441" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-442"><a href="#cb24-442" aria-hidden="true" tabindex="-1"></a>  respList_W1B_4 <span class="op">=</span> macroreg_filtered_W1B_4<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span>)</span>
<span id="cb24-443"><a href="#cb24-443" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-444"><a href="#cb24-444" aria-hidden="true" tabindex="-1"></a>  respListUnique_W1B_4 <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(respList_W1B_4<span class="op">.</span><span class="fu">filter</span>(value <span class="kw">=&gt;</span> value <span class="op">!==</span> <span class="kw">undefined</span>))]</span>
<span id="cb24-445"><a href="#cb24-445" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-446"><a href="#cb24-446" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-447"><a href="#cb24-447" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        LIBS</span></span>
<span id="cb24-448"><a href="#cb24-448" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb24-449"><a href="#cb24-449" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-450"><a href="#cb24-450" aria-hidden="true" tabindex="-1"></a>    geo_W1B_4 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-12" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<div class="grid-txt">
<p>Some students express their proximities with French Guiana, especially since there are students mobilities between those three territories (and commun university until 2014, now split in two universities: Université des Antilles and Université de Guyane).</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb25" data-startfrom="343" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 342;"><span id="cb25-343"><a href="#cb25-343" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples including **French Guyana** : </span></span>
<span id="cb25-344"><a href="#cb25-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-345"><a href="#cb25-345" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"6jvt2fvm67w6"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 6jvt2fvm67w6&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb25-346"><a href="#cb25-346" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"9znw8hh2xcm7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 9znw8hh2xcm7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="grid-txt">
<p>There are also links with the whole South American continent.</p>
<p>The Caribbean and South America are linked for some students even beyond French Guiana. They tend to associate more the Caribbean to South America rather than North America.</p>
<p>That proximity may be based on socio-cultural aspect, but also through urbanization and architecture <span class="citation" data-cites="audebert_regionalisme_2011">(<a href="#ref-audebert_regionalisme_2011" role="doc-biblioref">Audebert 2011a</a>)</span>.</p>
<p>South America is also perceived and associated with the expression of a political position, critical of colonialism and imperialism of the United States or Europe states, a belonging to the South <span class="citation" data-cites="belaise_mondialisation_2007 dubesset_penser_2012">(<a href="#ref-belaise_mondialisation_2007" role="doc-biblioref">Bélaise 2007</a>; <a href="#ref-dubesset_penser_2012" role="doc-biblioref">Dubesset 2012</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb26" data-startfrom="359" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 358;"><span id="cb26-359"><a href="#cb26-359" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`#### See some examples including **South America** : </span></span>
<span id="cb26-360"><a href="#cb26-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-361"><a href="#cb26-361" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"2g4cx8cfo383"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 2g4cx8cfo383&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-362"><a href="#cb26-362" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"3r9bjw2mee43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3r9bjw2mee43&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-363"><a href="#cb26-363" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"6hf46ijv9fs8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 6hf46ijv9fs8&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-364"><a href="#cb26-364" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"3r9bjw2mee43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3r9bjw2mee43&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-365"><a href="#cb26-365" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"6hf46ijv9fs8"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 6hf46ijv9fs8&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-366"><a href="#cb26-366" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"3r9bjw2mee43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 3r9bjw2mee43&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-367"><a href="#cb26-367" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"7gzz3y6mfs78"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 7gzz3y6mfs78&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-368"><a href="#cb26-368" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"83n8yph8uw43"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 83n8yph8uw43&lt;/button&gt;`</span><span class="sc">}</span></span>
<span id="cb26-369"><a href="#cb26-369" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_4<span class="op">,</span> <span class="st">"87i7p6y3stt7"</span>)<span class="sc">}</span><span class="vs">&gt; ID : 87i7p6y3stt7&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
<div class="para">
<section id="relations-between-caribbean-and-north-america-canada-and-mobilities" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="relations-between-caribbean-and-north-america-canada-and-mobilities">Relations between Caribbean and North America: Canada and mobilities</h3>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>We have seen that Florida and Miami may be included in the Caribbean. But students also see North America as a macroregion in relation to their Caribbean, particularly when they project of student mobility.</p>
<p>Institutional membership of the EU and the measures put in place direct student mobility, whether achieved or desired, towards Europe. However, belonging to the Caribbean and the American continent has created other prospects for mobility, towards North America, and more specifically Canada and Quebec <span class="citation" data-cites="chevallier_mobilite_2017">(<a href="#ref-chevallier_mobilite_2017" role="doc-biblioref">Chevallier 2017</a>)</span>. The interests of both students and institutions are shifting.</p>
<p>On an institutional level, these student mobilities are promoted by the Canadian state and the Quebec region by creating exchange partnerships with French overseas communities such as Guadeloupe. The aim: to attract foreign students from a socio-economic and demographic perspective, away from major urban centers <span class="citation" data-cites="gagnon_etre_2019">(<a href="#ref-gagnon_etre_2019" role="doc-biblioref">Gagnon 2019</a>)</span>.</p>
<p>Among students, Canada enjoys a very positive image of openness towards immigrant populations, and Quebec is identified by some as the “United States in French” <span class="citation" data-cites="chevallier_mobilite_2017">(<a href="#ref-chevallier_mobilite_2017" role="doc-biblioref">Chevallier 2017</a>)</span>.</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb27" data-startfrom="392" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 391;"><span id="cb27-392"><a href="#cb27-392" aria-hidden="true" tabindex="-1"></a>plot_W7C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb28" data-startfrom="401" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 400;"><span id="cb28-401"><a href="#cb28-401" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`When we compare the places  </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof select_W4B<span class="op">,</span> <span class="st">"France Antilles"</span>)<span class="sc">}</span><span class="vs">&gt; West indies&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">students want to visit with those they want to work in, two main areas emerge.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-22" data-nodetype="expression">

</div>
</div>
</div>
<p>As discussed earlier for attractive places to study, North America is the most professionally attractive area, particularly Canada. In Europe, the United Kingdom stands out.France and Spain, for example, stand out for both tourism and work.</p>
<p>The Caribbean states and territories are largely associated with tourism.</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb29" data-startfrom="411" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 410;"><span id="cb29-411"><a href="#cb29-411" aria-hidden="true" tabindex="-1"></a>viewof select_W4B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb30" data-startfrom="412" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 411;"><span id="cb30-412"><a href="#cb30-412" aria-hidden="true" tabindex="-1"></a>map_W4B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="para">
<section id="relations-between-caribbean-and-north-america" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="relations-between-caribbean-and-north-america">Relations between Caribbean and North America</h3>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>One element that came up is the in-between position, between two areas, between two continents.</p>
<p>Positions of in-betweenness <span class="citation" data-cites="rey_concepts_2013">(<a href="#ref-rey_concepts_2013" role="doc-biblioref">Rey 2013</a>)</span> or multi-affiliation <span class="citation" data-cites="pourchez_metissage_2014">(<a href="#ref-pourchez_metissage_2014" role="doc-biblioref">Pourchez 2014</a>)</span> with all or part of the spaces evoked are expressed in the discourses as well as in the mapping exercise through different strategies.</p>
<p>In the mental maps, this may involve the representation of several nested spaces and/or proposals for intermediate spaces, semantically or spatially, between North America, South America and Central America.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb31" data-startfrom="431" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 430;"><span id="cb31-431"><a href="#cb31-431" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`This is the case, for example, of a proposal made by a </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof stu_sel_W1B_5<span class="op">,</span> <span class="st">"38lfi8kf8wj4"</span>)<span class="sc">}</span><span class="vs">&gt;student&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> who represented a region called the “Greater Near American Basin”, an extended region stretching from the northern United States to Paraguay, incorporating Central America, the insular Caribbean and half the Atlantic Ocean.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-24" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb32" data-startfrom="441" data-source-offset="-383"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 440;"><span id="cb32-441"><a href="#cb32-441" aria-hidden="true" tabindex="-1"></a>select_W1B_5 <span class="op">=</span> <span class="st">"France Antilles"</span></span>
<span id="cb32-442"><a href="#cb32-442" aria-hidden="true" tabindex="-1"></a>  viewof stu_sel_W1B_5 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Student's ID"</span><span class="op">,</span> <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"882osw6mv496"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> respListUnique_W1B_5[<span class="dv">0</span>]})</span>
<span id="cb32-443"><a href="#cb32-443" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-444"><a href="#cb32-444" aria-hidden="true" tabindex="-1"></a>  viewof nextResp_W1B_5 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">button</span>([</span>
<span id="cb32-445"><a href="#cb32-445" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant précedent"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">==</span> <span class="dv">0</span> <span class="op">?</span> respListUnique_W1B_5<span class="op">.</span><span class="at">length</span><span class="op">-</span> <span class="dv">1</span><span class="op">:</span> value <span class="op">-</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb32-446"><a href="#cb32-446" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Répondant suivant"</span><span class="op">,</span> value <span class="kw">=&gt;</span> value <span class="op">&gt;=</span> respListUnique_W1B_5<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> value <span class="op">+</span> <span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb32-447"><a href="#cb32-447" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> respListUnique_W1B_5<span class="op">.</span><span class="fu">findIndex</span>(d <span class="kw">=&gt;</span> d <span class="op">===</span> stu_sel_W1B_5)<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">""</span>})</span>
<span id="cb32-448"><a href="#cb32-448" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-449"><a href="#cb32-449" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-450"><a href="#cb32-450" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-451"><a href="#cb32-451" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        MAP</span></span>
<span id="cb32-452"><a href="#cb32-452" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-453"><a href="#cb32-453" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-454"><a href="#cb32-454" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-455"><a href="#cb32-455" aria-hidden="true" tabindex="-1"></a>    map_W1B_5 <span class="op">=</span> {</span>
<span id="cb32-456"><a href="#cb32-456" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Set highlight</span></span>
<span id="cb32-457"><a href="#cb32-457" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb32-458"><a href="#cb32-458" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb32-459"><a href="#cb32-459" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb32-460"><a href="#cb32-460" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb32-461"><a href="#cb32-461" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb32-462"><a href="#cb32-462" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb32-463"><a href="#cb32-463" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb32-464"><a href="#cb32-464" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb32-465"><a href="#cb32-465" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb32-466"><a href="#cb32-466" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-467"><a href="#cb32-467" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Reset Highlight</span></span>
<span id="cb32-468"><a href="#cb32-468" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb32-469"><a href="#cb32-469" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb32-470"><a href="#cb32-470" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb32-471"><a href="#cb32-471" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-472"><a href="#cb32-472" aria-hidden="true" tabindex="-1"></a>      <span class="co">// OnEach featur</span></span>
<span id="cb32-473"><a href="#cb32-473" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb32-474"><a href="#cb32-474" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb32-475"><a href="#cb32-475" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> <span class="st">"&lt;b&gt;&lt;i&gt;Region drawn : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> </span>
<span id="cb32-476"><a href="#cb32-476" aria-hidden="true" tabindex="-1"></a>            Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-477"><a href="#cb32-477" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-478"><a href="#cb32-478" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (fr) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_fr</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-479"><a href="#cb32-479" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg name (en) : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_lab_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-480"><a href="#cb32-480" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg scale : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_scale</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-481"><a href="#cb32-481" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Reg parent : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">E1903_map_rgname_parent1_en</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-482"><a href="#cb32-482" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-483"><a href="#cb32-483" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;&lt;i&gt;Respondent : &lt;/b&gt;&lt;/i&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-484"><a href="#cb32-484" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-485"><a href="#cb32-485" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-486"><a href="#cb32-486" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-487"><a href="#cb32-487" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Level of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">levels</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-488"><a href="#cb32-488" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Nationality : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">iddoc</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb32-489"><a href="#cb32-489" aria-hidden="true" tabindex="-1"></a>            <span class="st">"&lt;b&gt;Opinion of EU :&lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> </span>
<span id="cb32-490"><a href="#cb32-490" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb32-491"><a href="#cb32-491" aria-hidden="true" tabindex="-1"></a>        layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb32-492"><a href="#cb32-492" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb32-493"><a href="#cb32-493" aria-hidden="true" tabindex="-1"></a>          <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb32-494"><a href="#cb32-494" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb32-495"><a href="#cb32-495" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb32-496"><a href="#cb32-496" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-497"><a href="#cb32-497" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MAP</span></span>
<span id="cb32-498"><a href="#cb32-498" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-499"><a href="#cb32-499" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb32-500"><a href="#cb32-500" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb32-501"><a href="#cb32-501" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macro_resp_W1B_5<span class="op">,</span> {</span>
<span id="cb32-502"><a href="#cb32-502" aria-hidden="true" tabindex="-1"></a>        <span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb32-503"><a href="#cb32-503" aria-hidden="true" tabindex="-1"></a>        <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb32-504"><a href="#cb32-504" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb32-505"><a href="#cb32-505" aria-hidden="true" tabindex="-1"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">"#FFBC50"</span><span class="op">,</span></span>
<span id="cb32-506"><a href="#cb32-506" aria-hidden="true" tabindex="-1"></a>          <span class="dt">weight</span><span class="op">:</span> <span class="fl">1.5</span>}</span>
<span id="cb32-507"><a href="#cb32-507" aria-hidden="true" tabindex="-1"></a>      })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb32-508"><a href="#cb32-508" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-509"><a href="#cb32-509" aria-hidden="true" tabindex="-1"></a>      <span class="co">// fit map to geom bounds  </span></span>
<span id="cb32-510"><a href="#cb32-510" aria-hidden="true" tabindex="-1"></a>      map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">9</span>})<span class="op">;</span></span>
<span id="cb32-511"><a href="#cb32-511" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb32-512"><a href="#cb32-512" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Tile Layer  </span></span>
<span id="cb32-513"><a href="#cb32-513" aria-hidden="true" tabindex="-1"></a>      L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"</span><span class="op">,</span></span>
<span id="cb32-514"><a href="#cb32-514" aria-hidden="true" tabindex="-1"></a>                  {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb32-515"><a href="#cb32-515" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb32-516"><a href="#cb32-516" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb32-517"><a href="#cb32-517" aria-hidden="true" tabindex="-1"></a>                  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb32-518"><a href="#cb32-518" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-519"><a href="#cb32-519" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-520"><a href="#cb32-520" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-521"><a href="#cb32-521" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        TABLE</span></span>
<span id="cb32-522"><a href="#cb32-522" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-523"><a href="#cb32-523" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-524"><a href="#cb32-524" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-525"><a href="#cb32-525" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-526"><a href="#cb32-526" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        DATA</span></span>
<span id="cb32-527"><a href="#cb32-527" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-528"><a href="#cb32-528" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-529"><a href="#cb32-529" aria-hidden="true" tabindex="-1"></a>    macroreg_students_W1B_5 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1B_2.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb32-530"><a href="#cb32-530" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-531"><a href="#cb32-531" aria-hidden="true" tabindex="-1"></a>  macroreg_W1B_5 <span class="op">=</span> geo_W1B_5<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1B_5<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.2</span>})</span>
<span id="cb32-532"><a href="#cb32-532" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-533"><a href="#cb32-533" aria-hidden="true" tabindex="-1"></a>  macroreg_sorted_W1B_5 <span class="op">=</span> geo_W1B_5<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1B_5<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb32-534"><a href="#cb32-534" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-535"><a href="#cb32-535" aria-hidden="true" tabindex="-1"></a>  macroreg_filtered_W1B_5 <span class="op">=</span> {</span>
<span id="cb32-536"><a href="#cb32-536" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> filtered <span class="op">=</span>  select_W1B_5 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_sorted_W1B_5 <span class="op">:</span> geo_W1B_5<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1B_5<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1B_5)</span>
<span id="cb32-537"><a href="#cb32-537" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> geo_W1B_5<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb32-538"><a href="#cb32-538" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-539"><a href="#cb32-539" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-540"><a href="#cb32-540" aria-hidden="true" tabindex="-1"></a>  macro_resp_W1B_5 <span class="op">=</span> geo_W1B_5<span class="op">.</span><span class="fu">filter</span>(macroreg_filtered_W1B_5<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">?.</span><span class="at">X0001_met_respID_aut</span> <span class="op">==</span> respListUnique_W1B_5[nextResp_W1B_5])</span>
<span id="cb32-541"><a href="#cb32-541" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-542"><a href="#cb32-542" aria-hidden="true" tabindex="-1"></a>  respList_W1B_5 <span class="op">=</span> macroreg_filtered_W1B_5<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span>)</span>
<span id="cb32-543"><a href="#cb32-543" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-544"><a href="#cb32-544" aria-hidden="true" tabindex="-1"></a>  respListUnique_W1B_5 <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(respList_W1B_5<span class="op">.</span><span class="fu">filter</span>(value <span class="kw">=&gt;</span> value <span class="op">!==</span> <span class="kw">undefined</span>))]</span>
<span id="cb32-545"><a href="#cb32-545" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-546"><a href="#cb32-546" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-547"><a href="#cb32-547" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                        LIBS</span></span>
<span id="cb32-548"><a href="#cb32-548" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb32-549"><a href="#cb32-549" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-550"><a href="#cb32-550" aria-hidden="true" tabindex="-1"></a>    geo_W1B_5 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-12" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<!-- ____ END SEC______ -->
<section>
<div class="para">
<section id="relations-with-eu-europe-a-secondary-imaginary" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="relations-with-eu-europe-a-secondary-imaginary">Relations with EU, Europe: a secondary imaginary</h2>
<section id="france-and-europe-in-mental-maps-external-representations" class="level3">
<h3 class="anchored" data-anchor-id="france-and-europe-in-mental-maps-external-representations">France and Europe in mental maps: external representations</h3>
</section>
</section>
</div>
<!-- ------------- -->
<div class="grid-container">
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb33" data-startfrom="453" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 452;"><span id="cb33-453"><a href="#cb33-453" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Unsurprisingly, </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof region_W1A_2<span class="op">,</span> <span class="st">"europe"</span>)<span class="sc">}</span><span class="vs">&gt;Europe&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> and the EU are rarely represented and named in </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof select_W1A_2<span class="op">,</span> <span class="st">"France Antilles"</span>)<span class="sc">}</span><span class="vs">&gt;West Indies&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> students’ mental maps.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-26" data-nodetype="expression">

</div>
</div>
</div>
<p>European regions appeared on around of the mental maps, either alone or in combination with Caribbean regions. Names relating to Europe (e.g.&nbsp;EU, European Union) were also given in the same proportion.</p>
<p>Confusions between Europe and the EU are also important, as Europe is mobilized to express administrative and institutional status within the EU (see. Story 4).</p>
</div>
<div class="grid-img">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb34" data-startfrom="468" data-source-offset="-192"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 467;"><span id="cb34-468"><a href="#cb34-468" aria-hidden="true" tabindex="-1"></a>viewof select_W1A_2 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>([<span class="st">"All"</span><span class="op">,</span> <span class="st">"Germany"</span><span class="op">,</span> <span class="st">"France Metropolitan"</span><span class="op">,</span> <span class="st">"France Antilles"</span><span class="op">,</span> <span class="st">"Ireland"</span><span class="op">,</span> <span class="st">"Turkey"</span><span class="op">,</span> <span class="st">"Tunisia"</span>]<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Survey sample"</span>})</span>
<span id="cb34-469"><a href="#cb34-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-470"><a href="#cb34-470" aria-hidden="true" tabindex="-1"></a>viewof region_W1A_2 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>(<span class="kw">new</span> <span class="bu">Map</span>([[<span class="st">"All"</span><span class="op">,</span><span class="st">'All'</span>]<span class="op">,</span>[<span class="st">"Europe"</span><span class="op">,</span><span class="st">"europe"</span>]<span class="op">,</span>[<span class="st">"Western Europe"</span><span class="op">,</span><span class="st">"europe_ouest"</span>]<span class="op">,</span></span>
<span id="cb34-471"><a href="#cb34-471" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central Europe"</span><span class="op">,</span><span class="st">"europe_centr"</span>]<span class="op">,</span></span>
<span id="cb34-472"><a href="#cb34-472" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"European Union"</span><span class="op">,</span><span class="st">"union_europ"</span>]<span class="op">,</span></span>
<span id="cb34-473"><a href="#cb34-473" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Africa"</span><span class="op">,</span><span class="st">"africa"</span>]<span class="op">,</span></span>
<span id="cb34-474"><a href="#cb34-474" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Northern Africa"</span><span class="op">,</span><span class="st">"africa_nord"</span>]<span class="op">,</span></span>
<span id="cb34-475"><a href="#cb34-475" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"America"</span><span class="op">,</span><span class="st">"america"</span>]<span class="op">,</span></span>
<span id="cb34-476"><a href="#cb34-476" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Central America"</span><span class="op">,</span><span class="st">"america_ctr"</span>]<span class="op">,</span></span>
<span id="cb34-477"><a href="#cb34-477" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Asia/Eurasia"</span><span class="op">,</span><span class="st">"asia"</span>]<span class="op">,</span></span>
<span id="cb34-478"><a href="#cb34-478" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mediterranean"</span><span class="op">,</span><span class="st">"medit"</span>]<span class="op">,</span></span>
<span id="cb34-479"><a href="#cb34-479" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Mid &amp; Near East"</span><span class="op">,</span><span class="st">"mideast"</span>]<span class="op">,</span></span>
<span id="cb34-480"><a href="#cb34-480" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Carribean"</span><span class="op">,</span><span class="st">"carrib"</span>]<span class="op">,</span></span>
<span id="cb34-481"><a href="#cb34-481" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"Antilles"</span><span class="op">,</span><span class="st">"antil"</span>]<span class="op">,</span></span>
<span id="cb34-482"><a href="#cb34-482" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"The West/Ocident"</span><span class="op">,</span><span class="st">"western"</span>]</span>
<span id="cb34-483"><a href="#cb34-483" aria-hidden="true" tabindex="-1"></a>                ])<span class="op">,</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Name of macroregion contains ..."</span>})</span>
<span id="cb34-484"><a href="#cb34-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-485"><a href="#cb34-485" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-486"><a href="#cb34-486" aria-hidden="true" tabindex="-1"></a><span class="co">//                        MAP</span></span>
<span id="cb34-487"><a href="#cb34-487" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-488"><a href="#cb34-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-489"><a href="#cb34-489" aria-hidden="true" tabindex="-1"></a>map_W1A_2 <span class="op">=</span> {</span>
<span id="cb34-490"><a href="#cb34-490" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Set highlight</span></span>
<span id="cb34-491"><a href="#cb34-491" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">highlightFeature</span>(e) {</span>
<span id="cb34-492"><a href="#cb34-492" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> layer <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb34-493"><a href="#cb34-493" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">setStyle</span>({</span>
<span id="cb34-494"><a href="#cb34-494" aria-hidden="true" tabindex="-1"></a>        <span class="dt">weight</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb34-495"><a href="#cb34-495" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">'#ba66a9'</span><span class="op">,</span></span>
<span id="cb34-496"><a href="#cb34-496" aria-hidden="true" tabindex="-1"></a>        <span class="dt">dashArray</span><span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb34-497"><a href="#cb34-497" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.5</span>    </span>
<span id="cb34-498"><a href="#cb34-498" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb34-499"><a href="#cb34-499" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-500"><a href="#cb34-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-501"><a href="#cb34-501" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Reset Highlight</span></span>
<span id="cb34-502"><a href="#cb34-502" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">resetHighlight</span>(e) {</span>
<span id="cb34-503"><a href="#cb34-503" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">resetStyle</span>(e<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb34-504"><a href="#cb34-504" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-505"><a href="#cb34-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-506"><a href="#cb34-506" aria-hidden="true" tabindex="-1"></a>  <span class="co">// OnEach featur</span></span>
<span id="cb34-507"><a href="#cb34-507" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">onEachFeature</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb34-508"><a href="#cb34-508" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">bindPopup</span>(<span class="kw">function</span> (Layer) {</span>
<span id="cb34-509"><a href="#cb34-509" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"&lt;b&gt;Country : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">country</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb34-510"><a href="#cb34-510" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Sex : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">sex</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb34-511"><a href="#cb34-511" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Fields of study : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">field</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb34-512"><a href="#cb34-512" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Opinion about EU : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">opiEU</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb34-513"><a href="#cb34-513" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Macro region : &lt;/b&gt;"</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">macro</span> <span class="op">+</span> <span class="st">"&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb34-514"><a href="#cb34-514" aria-hidden="true" tabindex="-1"></a>      Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">X0001_met_respID_aut</span> <span class="op">+</span> <span class="st">' - "'</span> <span class="op">+</span> Layer<span class="op">.</span><span class="at">feature</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">ID_geom</span> <span class="op">+</span> <span class="st">'" &lt;br&gt;'</span><span class="op">;</span></span>
<span id="cb34-515"><a href="#cb34-515" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb34-516"><a href="#cb34-516" aria-hidden="true" tabindex="-1"></a>    layer<span class="op">.</span><span class="fu">on</span>({</span>
<span id="cb34-517"><a href="#cb34-517" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseover</span><span class="op">:</span> highlightFeature<span class="op">,</span></span>
<span id="cb34-518"><a href="#cb34-518" aria-hidden="true" tabindex="-1"></a>        <span class="dt">mouseout</span><span class="op">:</span> resetHighlight<span class="op">,</span></span>
<span id="cb34-519"><a href="#cb34-519" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb34-520"><a href="#cb34-520" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-521"><a href="#cb34-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-522"><a href="#cb34-522" aria-hidden="true" tabindex="-1"></a>  <span class="co">// MAP</span></span>
<span id="cb34-523"><a href="#cb34-523" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> container <span class="op">=</span> <span class="kw">yield</span> htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;div style="height: 50vh; width: 50vh"&gt;`</span><span class="op">;</span></span>
<span id="cb34-524"><a href="#cb34-524" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(container)<span class="op">;</span></span>
<span id="cb34-525"><a href="#cb34-525" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> layer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJSON</span>(macroreg_filtered_W1A_2<span class="op">,</span> {</span>
<span id="cb34-526"><a href="#cb34-526" aria-hidden="true" tabindex="-1"></a><span class="dt">onEachFeature</span><span class="op">:</span> onEachFeature<span class="op">,</span></span>
<span id="cb34-527"><a href="#cb34-527" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb34-528"><a href="#cb34-528" aria-hidden="true" tabindex="-1"></a>    <span class="dt">opacity</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb34-529"><a href="#cb34-529" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fillOpacity</span><span class="op">:</span> opacity_W1A<span class="op">,</span></span>
<span id="cb34-530"><a href="#cb34-530" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"#d13f0f"</span><span class="op">,</span></span>
<span id="cb34-531"><a href="#cb34-531" aria-hidden="true" tabindex="-1"></a>    <span class="dt">weight</span><span class="op">:</span> stroke_W1A }</span>
<span id="cb34-532"><a href="#cb34-532" aria-hidden="true" tabindex="-1"></a>  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb34-533"><a href="#cb34-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-534"><a href="#cb34-534" aria-hidden="true" tabindex="-1"></a><span class="co">// fit map to geom bounds  </span></span>
<span id="cb34-535"><a href="#cb34-535" aria-hidden="true" tabindex="-1"></a>map<span class="op">.</span><span class="fu">fitBounds</span>(layer<span class="op">.</span><span class="fu">getBounds</span>()<span class="op">,</span> {<span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">15</span>})<span class="op">;</span></span>
<span id="cb34-536"><a href="#cb34-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-537"><a href="#cb34-537" aria-hidden="true" tabindex="-1"></a><span class="co">// Tile Layer  </span></span>
<span id="cb34-538"><a href="#cb34-538" aria-hidden="true" tabindex="-1"></a>L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png'</span><span class="op">,</span></span>
<span id="cb34-539"><a href="#cb34-539" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">attribution</span><span class="op">:</span> <span class="st">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="op">,</span></span>
<span id="cb34-540"><a href="#cb34-540" aria-hidden="true" tabindex="-1"></a>      <span class="dt">subdomains</span><span class="op">:</span> <span class="st">"abcd"</span><span class="op">,</span></span>
<span id="cb34-541"><a href="#cb34-541" aria-hidden="true" tabindex="-1"></a>      <span class="dt">maxZoom</span><span class="op">:</span> <span class="dv">20</span></span>
<span id="cb34-542"><a href="#cb34-542" aria-hidden="true" tabindex="-1"></a>    })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb34-543"><a href="#cb34-543" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-544"><a href="#cb34-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-545"><a href="#cb34-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-546"><a href="#cb34-546" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-547"><a href="#cb34-547" aria-hidden="true" tabindex="-1"></a><span class="co">//                        TABLE</span></span>
<span id="cb34-548"><a href="#cb34-548" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-549"><a href="#cb34-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-550"><a href="#cb34-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-551"><a href="#cb34-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-552"><a href="#cb34-552" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-553"><a href="#cb34-553" aria-hidden="true" tabindex="-1"></a><span class="co">//                        DATA</span></span>
<span id="cb34-554"><a href="#cb34-554" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-555"><a href="#cb34-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-556"><a href="#cb34-556" aria-hidden="true" tabindex="-1"></a>macroreg_students_W1A_2 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"../data/W1A_BDG_macroreg.GeoJSON"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb34-557"><a href="#cb34-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-558"><a href="#cb34-558" aria-hidden="true" tabindex="-1"></a>macroreg_W1A_2 <span class="op">=</span> geo_W1A_2<span class="op">.</span><span class="fu">simplify</span>(macroreg_students_W1A_2<span class="op">,</span> {<span class="dt">k</span><span class="op">:</span><span class="fl">0.25</span>})</span>
<span id="cb34-559"><a href="#cb34-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-560"><a href="#cb34-560" aria-hidden="true" tabindex="-1"></a>macroreg_sorted_W1A_2 <span class="op">=</span> geo_W1A_2<span class="op">.</span><span class="fu">featurecollection</span>(macroreg_W1A_2<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span><span class="op">,</span> b<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">area_3857</span>)))</span>
<span id="cb34-561"><a href="#cb34-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-562"><a href="#cb34-562" aria-hidden="true" tabindex="-1"></a>macroreg_filtered_W1A_2 <span class="op">=</span> {</span>
<span id="cb34-563"><a href="#cb34-563" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> filtered <span class="op">=</span>  region_W1A_2 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> macroreg_W1A_2 <span class="op">:</span> geo_W1A_2<span class="op">.</span><span class="fu">filter</span>(macroreg_sorted_W1A_2<span class="op">,</span> (d) <span class="kw">=&gt;</span> d[region_W1A_2] <span class="op">==</span> <span class="dv">1</span>)</span>
<span id="cb34-564"><a href="#cb34-564" aria-hidden="true" tabindex="-1"></a>  filtered <span class="op">=</span> select_W1A_2 <span class="op">==</span> <span class="st">"All"</span> <span class="op">?</span> filtered <span class="op">:</span> geo_W1A_2<span class="op">.</span><span class="fu">filter</span>(filtered<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">country</span> <span class="op">==</span> select_W1A_2)</span>
<span id="cb34-565"><a href="#cb34-565" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> geo_W1A_2<span class="op">.</span><span class="fu">rewind</span>(filtered)</span>
<span id="cb34-566"><a href="#cb34-566" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-567"><a href="#cb34-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-568"><a href="#cb34-568" aria-hidden="true" tabindex="-1"></a>opacity_W1A <span class="op">=</span> {<span class="kw">let</span> opacity</span>
<span id="cb34-569"><a href="#cb34-569" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">60</span>) { </span>
<span id="cb34-570"><a href="#cb34-570" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb34-571"><a href="#cb34-571" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> <span class="dv">60</span> <span class="op">&amp;&amp;</span> macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">20</span>) {</span>
<span id="cb34-572"><a href="#cb34-572" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.02</span></span>
<span id="cb34-573"><a href="#cb34-573" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb34-574"><a href="#cb34-574" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> opacity <span class="op">=</span> <span class="fl">0.06</span></span>
<span id="cb34-575"><a href="#cb34-575" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb34-576"><a href="#cb34-576" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-577"><a href="#cb34-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-578"><a href="#cb34-578" aria-hidden="true" tabindex="-1"></a>stroke_W1A <span class="op">=</span> {<span class="kw">let</span> stroke</span>
<span id="cb34-579"><a href="#cb34-579" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(macroreg_filtered<span class="op">.</span><span class="at">features</span><span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">30</span>) { </span>
<span id="cb34-580"><a href="#cb34-580" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.2</span></span>
<span id="cb34-581"><a href="#cb34-581" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb34-582"><a href="#cb34-582" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stroke <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb34-583"><a href="#cb34-583" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb34-584"><a href="#cb34-584" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-585"><a href="#cb34-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-586"><a href="#cb34-586" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-587"><a href="#cb34-587" aria-hidden="true" tabindex="-1"></a><span class="co">//                        LIBS</span></span>
<span id="cb34-588"><a href="#cb34-588" aria-hidden="true" tabindex="-1"></a><span class="co">// ---------------------------------------------------------------------------</span></span>
<span id="cb34-589"><a href="#cb34-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-590"><a href="#cb34-590" aria-hidden="true" tabindex="-1"></a>geo_W1A_2 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"geotoolbox@2.0.3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-27-10" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb35" data-startfrom="469" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 468;"><span id="cb35-469"><a href="#cb35-469" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Mental maps using France are quite rare. They are always associated with other spaces.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-28" data-nodetype="expression">

</div>
</div>
</div>
<p>In mental maps, there is no mention of RUP status or the notion of ultraperipherality. Rare references to the category “outremer” appear in the mental maps (“région d’outre-mer”, “France + outre mer” or “DROM”), mainly from students born in France hexagonale. That category regroup a very large range of contexts and questions. More than a practiced category, it is a political one <span class="citation" data-cites="beauvallet_etat_2016">(<a href="#ref-beauvallet_etat_2016" role="doc-biblioref">Beauvallet, Célestine, and Roger 2016</a>)</span>.</p>
<p>When France and EUrope are drawn in mental maps, it often comes from students doing academic mobilities in Martinique and Guadeloupe through Campus France or Erasmus framework for example.</p>
<p>France and EU are institutions with which these students in mobility have to interact, and which define the territories where they are coming to study <span class="citation" data-cites="bertile_ou_2014">(<a href="#ref-bertile_ou_2014" role="doc-biblioref">Bertile 2014</a>)</span>.</p>
</div>
</div>
<div class="para">
<section id="europe-as-margins" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="europe-as-margins">EUrope as margins ?</h3>
</section>
</div>
<div class="grid-container">
<section id="eu-and-europe-appear-as-margin-in-their-representations." class="level4 grid-txt">
<h4 class="anchored" data-anchor-id="eu-and-europe-appear-as-margin-in-their-representations.">EU and Europe appear as margin in their representations.</h4>
<p>Geographical remoteness, separation by an ocean and association with another continent are predictable elements in this distancing. The scale and size of the European space are also highlighted in the imaginations associated by students in the questionnaire.</p>
<p>Europe is also associated to EU institutions, domains and values («&nbsp;schengen&nbsp;», «&nbsp;economy&nbsp;», «&nbsp;solidarity&nbsp;»).</p>
<p>Ambiguity in the relationship with Europe is central. Europe can be perceived as a distant entity, to be maintained as such, and associated with colonial ideologies.</p>
<p>(see. Story 1 – see. Story 2).</p>
</section>
<div class="grid-img">
<p>Words associated with Europe by students at the University of the West Indies (2814 occurrences, 853 different words)</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb36" data-startfrom="502" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 501;"><span id="cb36-502"><a href="#cb36-502" aria-hidden="true" tabindex="-1"></a>viewof select_W2A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb37" data-startfrom="503" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 502;"><span id="cb37-503"><a href="#cb37-503" aria-hidden="true" tabindex="-1"></a>plot_W2A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb38" data-startfrom="505" data-source-offset="-28"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 504;"><span id="cb38-505"><a href="#cb38-505" aria-hidden="true" tabindex="-1"></a>viewof rotate_W2A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-3" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb39" data-startfrom="506" data-source-offset="-46"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 505;"><span id="cb39-506"><a href="#cb39-506" aria-hidden="true" tabindex="-1"></a>viewof nb_W2A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb40" data-startfrom="507" data-source-offset="-60"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 506;"><span id="cb40-507"><a href="#cb40-507" aria-hidden="true" tabindex="-1"></a>wcd_W2A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="para">
<section id="europe-pragmatic-representations" class="level3 paraContent">
<h3 class="anchored" data-anchor-id="europe-pragmatic-representations">EUrope: pragmatic representations</h3>
</section>
</div>
<div class="grid-container">
<div class="grid-txt">
<p>The vocabulary used to describe Europe in Martinique and Guadeloupe is quite similar to that in mainland France.</p>
<p>There is little idealization of Europe among the students: the critical dimension of the colonial heritage associated with Europe can be found at the margins, but it is above all the absence of economic or other idealization of Europe that emerges. In contrast to the responses to the survey in Tunisia and Turkey, the economically attractive dimension (towards the right of the graph) that Europe can represent appears only very rarely among students in Martinique and Guadeloupe.</p>
<p>Instead, the pragmatic and materialistic attributes of the European Union (to the left) are more prevalent (top of graph). (see. Story 1 – see. Story 2).</p>
</div>
<div class="grid-img">
<div class="callout callout-style-simple callout-tip no-icon callout-titled" title="About the data">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
About the data
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Le graphique d’analyse factorielle permet de voir pour chaque lieu d’enquête les mots qui lui sont les plus spécifiques et les lieux qui en sont proches ou éloignés.</p>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-4c12eb9bf8d2f3732503" style="width:90%;height:480px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-4c12eb9bf8d2f3732503">{"x":{"data":{"x":[-0.39341281738772,1.50346405436082,-0.179588744619665,-0.35431980287804,-0.369394677249691,-0.443631465158338,0.7803108140117661,-0.360553366914703,1.86061943046537,-0.443631465158338,-0.0119798204213089,2.04606326864239,0.333536259777914,2.63288970714891,-0.404640761057282,-0.443631465158338,-0.362803533035147,-0.43671187493152,-0.379565073452027,0.136641359822352,0.102987402067746,0.122802774995344,1.768499607693,-0.0936306861809086,-0.346341676967021,-0.443631465158338,-0.0522168423417497,2.94164634444559,-0.380034477771266,-0.158152819981099,-0.28156749522604,-0.367730923801592,-0.443631465158338,-0.443631465158338,-0.00550069702961768,-0.413117148791998,-0.357908530489707,0.7463481329424581,-0.0074576016452198,-0.274822598541038,0.78737864742491,1.55224147661051,2.94164634444559,-0.388059665734661,1.9587471958681,1.46615590977966,0.457490804415562,-0.251355200209959,-0.361535734729701,-0.393631353875848,0.198897208521526,-0.374306516324682,-0.28037818880708,-0.443631465158338,-0.258860293533239,-0.443631465158338,-0.319121257092688,-0.07908621459619029,0.155130417372318,-0.443631465158338,2.78726802579725,-0.115437008607185,0.08790757070821389,-0.190336620905342,-0.39355131039244,-0.316730915207457,-0.33299249031413,-0.369394677249689,-0.0814027538068238,-0.372014324756352,-0.343631242593358,0.06729506689575381,-0.443631465158338,-0.312868968500971,-0.262289253508985,-0.263702687869857,-0.443631465158338,-0.374306516324682,1.12738143577184,0.347618769566768,2.94164634444559,-0.223353591993929,1.55224147661051,-0.275004940210521,-0.237987252693953,-0.298517278846566,-0.0293587842975432,1.04449512287223,1.97941834842447],"y":[0.118556701248466,0.48393768993127,0.907575615609471,0.415157327046492,0.88948364679416,-1.29043163484895,0.362037433920988,0.853678960426437,0.177993549427299,-1.29043163484895,0.786052028146366,-0.362727801225228,0.993133216219299,-0.112597187419473,-0.802835030342147,-1.29043163484895,0.270346885221636,-1.12764221131985,0.93067073699494,0.142042740217357,-1.03567876607184,0.86310419609699,0.246486569740417,-0.354986657695249,-0.0533481379302998,-1.29043163484895,0.285245997166642,-0.423317575625038,0.481562181810896,0.0721978884876433,-0.0183568330725945,0.424155286449626,-1.29043163484895,-1.29043163484895,0.989320360189623,-0.549570690146268,0.84296815681216,-0.508744541213898,0.354811106004441,-1.07665878572659,-0.975117431494802,0.974924171300004,-0.423317575625038,0.96507131801491,-0.493838224028146,0.717034996767383,0.816681963092602,0.491617501857485,0.8576572589117391,-1.15679663811271,0.654601388574154,0.909375139220673,0.871058356289252,-1.29043163484895,-0.584497620077898,-1.29043163484895,0.811168989295692,0.765640726793493,-0.610824893004266,-1.29043163484895,-0.267957381522255,0.844467533563154,0.28056628352851,0.84848179779968,0.198044219990607,-0.858659516514973,0.761012192918145,0.88948364679416,0.847129913925131,0.900092442754967,-1.02316164137647,-0.239729639969694,-1.29043163484895,0.645680334069365,0.0805153778899648,-0.456310066580416,-1.29043163484895,0.909375139220673,0.406124556288688,0.303592072003598,-0.423317575625038,-1.13225931869086,0.974924171300004,0.639048915697171,0.503279113549937,-0.786416822217004,-0.134896468052112,0.594139780823056,-0.257978844923942],"lab":["alliance","art","border","brexit","bruxelles","bureaucracy","capitalism","circulation","civilization","cohesion","cold","colonialism","colonisation","comfort","community","community_of","continent","cooperation","country","culture","democracy","democraty","development","diverse","diversity","economic_area","economy","education","erasmus","euro","european_union","exchange","foreclosure","fortress","france","free_movement","free_trade","freedom","history","home","human_rights","job","justice","large","modern","modernity","money","multicultural","mutual_aid","no_border","occident","old","old_continent","open_border","peace","policy","political","power","progress","prosperity","racism","region","rich","schengen","schengen_space","security","solidarity","space","strengh","territory","trade","travel","unification","union","united","unity","values","vast","wealth","wealthy","welfare","west","work","France Antilles","France Metropolitan","Germany","Ireland","Tunisia","Turkey"],"col_var":["Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Words","Survey","Survey","Survey","Survey","Survey","Survey"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":"auto","point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"coo1","ylab":"coo2","has_labels":true,"col_lab":"inr","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-CHIXKDSB","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"x_levels":null,"y_levels":null,"menu":false,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<div class="separator">

</div>
<div class="grid-container">
<div class="grid-txt">
<p>When asking about the opinion on EU specifically, nearly half of students indicate a “neutral” opinion.</p>
<p>For students, references to the EU are often associated with regional aid funds and schemes, but above all with student mobility programs for incoming students (Erasmus) and those wishing to undertake mobility.</p>
<p>Over the past thirty years, public action in these territories has been organized around three dynamics: decentralization, regionalization and Europeanization (Daniel, 2018). As a result, the EU and its funds are particularly visible in the public arena and therefore identified <span class="citation" data-cites="piantoni_marquages_2009 daniel_quoi_2018">(<a href="#ref-piantoni_marquages_2009" role="doc-biblioref">Piantoni 2009</a>; <a href="#ref-daniel_quoi_2018" role="doc-biblioref">Daniel 2018</a>)</span>.</p>
<p>(see. Story 1 – see. Story 2).</p>
</div>
<section id="west-indies-students-opinion-about-europe" class="level4 grid-img">
<h4 class="anchored" data-anchor-id="west-indies-students-opinion-about-europe">West Indies student’s opinion about Europe</h4>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb41" data-startfrom="556" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 555;"><span id="cb41-556"><a href="#cb41-556" aria-hidden="true" tabindex="-1"></a>opiEU <span class="op">=</span> <span class="st">"opiEU"</span></span>
<span id="cb41-557"><a href="#cb41-557" aria-hidden="true" tabindex="-1"></a>survey_opiEU <span class="op">=</span> <span class="st">"France Antilles"</span></span>
<span id="cb41-558"><a href="#cb41-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-559"><a href="#cb41-559" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {plot_W7B <span class="im">as</span> plot_opiEU} <span class="cf">with</span> {opiEU <span class="im">as</span> indic_W7B<span class="op">,</span> survey_opiEU <span class="im">as</span> select_W7B} <span class="im">from</span> <span class="st">"8212ef38b27b1816"</span></span>
<span id="cb41-560"><a href="#cb41-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-561"><a href="#cb41-561" aria-hidden="true" tabindex="-1"></a>plot_opiEU</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-30-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
</div>
</section>
<!-- ____ END SEC______ -->
<section>
<div class="para">
<section id="students-who-participate-in-that-survey" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="students-who-participate-in-that-survey">Students who participate in that survey</h2>
</section>
</div>
<!-- ------------- -->
<div class="grid-container">
<div class="grid-txt">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb42" data-startfrom="576" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 575;"><span id="cb42-576"><a href="#cb42-576" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`The 231 </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof select_W7B<span class="op">,</span> <span class="st">"caribbean students"</span>)<span class="sc">}</span><span class="vs">&gt;caribbean students&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> who took part in the survey were enrolled at the Université des Antilles in 2021.</span></span>
<span id="cb42-577"><a href="#cb42-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-578"><a href="#cb42-578" aria-hidden="true" tabindex="-1"></a><span class="vs">Most of the respondents were </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof indic_W7B<span class="op">,</span> <span class="st">"sex"</span>)<span class="sc">}</span><span class="vs">&gt;women&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">, at 80%. This is in line with their university's ratio, albeit higher (67% women studying at the Université des Antilles in 2021/22, DataESR).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-31" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb43" data-startfrom="582" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 581;"><span id="cb43-582"><a href="#cb43-582" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Nearly two-thirds of the students were enrolled in </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof indic_W7B<span class="op">,</span> <span class="st">"level"</span>)<span class="sc">}</span><span class="vs">&gt;bachelor's programs&lt;/button&gt;`</span><span class="sc">}</span><span class="vs"> (64%), one-third in master's programs (33%) and, marginally, in doctoral programs (1.7%, 3% of doctoral students enrolled at the Université des Antilles in the year of the survey, DataESR).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-32" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb44" data-startfrom="586" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 585;"><span id="cb44-586"><a href="#cb44-586" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Nearly a third of the responses were from students in the </span><span class="sc">${</span>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`&lt;button onclick=</span><span class="sc">${</span>() <span class="kw">=&gt;</span> <span class="kw">set</span>(viewof indic_W7B<span class="op">,</span> <span class="st">"field"</span>)<span class="sc">}</span><span class="vs">&gt;Humanities&lt;/button&gt;`</span><span class="sc">}</span><span class="vs">, Languages, Arts and Social Sciences (the same proportion as at university). All other disciplines tend to be under-represented compared to the university of enrolment (between 5 and 7 points difference).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-33" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="grid-img">
<p>Graphiques descriptifs : pole de l’université, genre, disciplines, niveaux (L1, etc.)</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb45" data-startfrom="593" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 592;"><span id="cb45-593"><a href="#cb45-593" aria-hidden="true" tabindex="-1"></a>viewof select_W7B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-34-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb46" data-startfrom="594" data-source-offset="-18"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 593;"><span id="cb46-594"><a href="#cb46-594" aria-hidden="true" tabindex="-1"></a>viewof indic_W7B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-34-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb47" data-startfrom="595" data-source-offset="-35"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 594;"><span id="cb47-595"><a href="#cb47-595" aria-hidden="true" tabindex="-1"></a>plot_W7B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-34-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<!-- ____ END SEC______ -->
<section>
<div class="para">
<section id="to-sum-up" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="to-sum-up">To sum up</h2>
</section>
</div>
<div class="grid-container">
<div class="grid-nocol">
<p>In Martinique and Guadeloupe, macro-regional imaginaries are mainly concentrated in the Caribbean. However, they reveal a wide diversity of representations within this space, as well as relationships with the world.</p>
<p>The eastern part of the Caribbean is particularly prominent, due to its proximity.</p>
<p>We also see the emergence of plural definitions of a Greater Caribbean, at the heart of ambiguities and debates <span class="citation" data-cites="dubesset_penser_2012">(<a href="#ref-dubesset_penser_2012" role="doc-biblioref">Dubesset 2012</a>)</span>.</p>
<p>Proximity, attachment or rejection towards a space or a group that may or may not be associated with its part of the world are expressed on socio-cultural or political levels, discussed around a number of divisive figures.</p>
<p>These macro-regions give expression to identities, through mobilities, practices and representations of an in-between, a multi-affiliation position or circulatory <span class="citation" data-cites="audebert_constructions_2010 puig_franceetats-uniscaraibe_2018">(<a href="#ref-audebert_constructions_2010" role="doc-biblioref">Audebert 2010</a>; <a href="#ref-puig_franceetats-uniscaraibe_2018" role="doc-biblioref">Puig 2018</a>)</span>.</p>
<p>Secondly, the transatlantic space and social field <span class="citation" data-cites="audebert_antilles_2011 condon_migrants_1996">(<a href="#ref-audebert_antilles_2011" role="doc-biblioref">Audebert 2011b</a>; <a href="#ref-condon_migrants_1996" role="doc-biblioref">Condon 1996</a>)</span> figures in the expression of spaces and links evoked with French or European spaces, territories and institutions. But beyond these dynamics, the territorialities represented and/or desired are articulated more within the Caribbean region or the American whole.</p>
</div>
</div>
</section>
<!-- ------------- -->
<section>
<div class="para">
<section id="for-further-information-in-french" class="level2 paraContent">
<h2 class="anchored" data-anchor-id="for-further-information-in-french">For further information (in French)</h2>
</section>
</div>
<div class="grid-container">
<div class="grid-nocol">
<section id="on-france-culture-radio" class="level4">
<h4 class="anchored" data-anchor-id="on-france-culture-radio">On France Culture radio:</h4>
<ul>
<li>Emission radio <a href="https://www.franceculture.fr/emissions/culturesmonde/tours-et-detours-de-la-langue-francaise-44-des-caraibes-montreal-la">“Tours et détours de la langue française (4/4) - Des Caraïbes à Montréal :la créolisation des langues”. Cultures Monde, France Culture, 2017, 59 min.</a></li>
<li>Emission radio <a href="https://www.franceculture.fr/emissions/geographie-a-la-carte/le-territoire-francais-bien-au-dela-de-l-hexagone">“Le territoire français : bien au-delà de l’Hexagone”. Géographie à la carte, France Culture, 2021, 58min</a></li>
</ul>
</section>
<section id="other-media" class="level4">
<h4 class="anchored" data-anchor-id="other-media">Other media:</h4>
<ul>
<li>Podcast <a href="https://podcasts.google.com/feed/aHR0cHM6Ly9yc3MuYXJ0MTkuY29tL3NwbGFzaA/episode/Z2lkOi8vYXJ0MTktZXBpc29kZS1sb2NhdG9yL1YwLzBsOUo1WENWQUtYTUZ3cTFZZDZFOHh6RTQtdUQwdDhtcDBtTkxQamNmQnM?ep=14">“Comment renouer le lien entre l’Hexagone et les Outre-mer ?”. Nouvelles écoutes, Splash Politique, 2022, 20min</a></li>
<li>Emission <a href="https://www.youtube.com/watch?v=V0lXpyc2n6s">“Les Antillais·es&nbsp;VS Clichés”. France TV Slash, 2022, 30min,</a></li>
<li>Podcast <a href="https://www.binge.audio/podcast/kiffetarace/outre-mer-decoloniser-lespace-public">“Outre-mer : décoloniser l’espace public”. Kiffe ta race, Binge Audio, 2020, 36min</a></li>
<li>Bande dessinée de Jessica Oublié et Marie-Ange Rousseau “Peyi an nou”, Steinkis, 2017.</li>
</ul>
</section>
<section id="on-the-oliwon-lakarayib-platform-a-digital-platform-dedicated-to-the-caribbean-videos-and-podcasts-in-shs" class="level4">
<h4 class="anchored" data-anchor-id="on-the-oliwon-lakarayib-platform-a-digital-platform-dedicated-to-the-caribbean-videos-and-podcasts-in-shs">On the Oliwon Lakarayib platform, a digital platform dedicated to the Caribbean (videos and podcasts in SHS)”:</h4>
<ul>
<li>Podcast <a href="https://oliwonlakarayib.com/podcast-4-migrations-et-diasporas-dans-la-caraibe/">“Migrations et diasporas dans la Caraïbe avec Cédric AUDEBERT”. Oliwon Lakarayib, 41min.</a></li>
<li>Podcast <a href="https://oliwonlakarayib.com/les-enjeux-des-transports-aux-antilles-francaises-une-analyse-a-toutes-les-echelles-avec-colette-ranely-verge-depre/">“Les enjeux des transports aux Antilles françaises, une analyse à toutes les échelles avec Colette RANÉLY – VERGÉ – DÉPRÉ”. Oliwon Lakarayib, 28min</a>*</li>
<li>Podcast <a href="https://oliwonlakarayib.com/podcast-31-les-petites-antilles-objets-de-recherche-en-geographie-avec-maurice-burac/">“Les Petites Antilles : objets de recherche en géographie avec Maurice Burac”. Oliwon Lakarayib, 33min</a></li>
<li>Podcast <a href="https://oliwonlakarayib.com/une-autre-geographie-de-la-caraibe-populaire-et-culturelle-avec-romain-cruse/">“Une autre géographie de la Caraïbe : populaire et culturelle avec Romain Cruse”. Oliwon Lakarayib, 25min</a></li>
</ul>
</section>
</div>
</div>
</section>




<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-audebert_constructions_2010" class="csl-entry" role="listitem">
Audebert, Cédric. 2010. <span>“Constructions Sociales Héritées Et Productions Territoriales Antillaises : Une Contribution Géographique à l’analyse de Sociétés <span>‘Mobilisées’</span>:”</span> In <em>Les Traites Et Les Esclavages</em>, 257–73. Karthala. <a href="https://doi.org/10.3917/kart.cotti.2010.01.0257">https://doi.org/10.3917/kart.cotti.2010.01.0257</a>.
</div>
<div id="ref-audebert_regionalisme_2011" class="csl-entry" role="listitem">
———. 2011a. <span>“Régionalisme Et Migrations Dans La <span>Caraïbe</span>.”</span> In <em>La <span>Caraïbe</span> Dans La Mondialisation : <span>Quelles</span> Dynamiques Régionalistes ?</em>, L’Harmattan, 23–37. Paris.
</div>
<div id="ref-audebert_antilles_2011" class="csl-entry" role="listitem">
———. 2011b. <span>“Les <span>Antilles</span> Françaises à La Croisée Des Chemins: De Nouveaux Enjeux de Développement Pour Des Sociétés En Crise.”</span> <em>Les Cahiers d’Outre-Mer</em> 64 (256): 523–49. <a href="https://doi.org/10.4000/com.6409">https://doi.org/10.4000/com.6409</a>.
</div>
<div id="ref-audebert_miami_2016" class="csl-entry" role="listitem">
———. 2016. <span>“Miami, Métropole-Carrefour Des <span>Amériques</span>. <span>Réflexions</span> à Partir de l’expérience Migratoire Haïtienne.”</span> <em>Problèmes d’Amérique Latine</em> N° 96-97 (1): 105–21. <a href="https://doi.org/10.3917/pal.096.0105">https://doi.org/10.3917/pal.096.0105</a>.
</div>
<div id="ref-audebert__2022" class="csl-entry" role="listitem">
———. 2022. <span>“La « Caribéanisation » Des États-<span>Unis</span> : Mutations Sociétales Et Réagencements Spatiaux.”</span> <em>L’Information Géographique</em> Vol. 86 (1): 19–40. <a href="https://doi.org/10.3917/lig.861.0019">https://doi.org/10.3917/lig.861.0019</a>.
</div>
<div id="ref-beauvallet_etat_2016" class="csl-entry" role="listitem">
Beauvallet, Willy, Audrey Célestine, and Aurélie Roger. 2016. <span>“L’<span>Etat</span> Outre-Mer - <span>La</span> Construction Sociale Et Institutionnelle d’une Spécificité Ultramarine.”</span> <em>Politix</em>, De <span>Boeck</span> <span>Supérieur</span>, no. 116 (April): 139–61.
</div>
<div id="ref-begot_position_nodate" class="csl-entry" role="listitem">
Bégot, Monique, and Pascal Buleon. n.d. <span>“Position Dans Le Monde.”</span> <em>Atlas Caraïbe</em>, <span>AREC</span>,. <a href="http://atlas-caraibe.certic.unicaen.fr/fr/theme-15.html#">http://atlas-caraibe.certic.unicaen.fr/fr/theme-15.html#</a>.
</div>
<div id="ref-belaise_mondialisation_2007" class="csl-entry" role="listitem">
Bélaise, Max. 2007. <span>“Mondialisation Et Territoires Créolisés : L’inévitable Questionnement Identitaire.”</span> In <em>Les <span>Caraïbes</span> Dans La Géopolitique Mondiale</em>, Ellipses, 179–93. Carrefours - <span>Les</span> <span>Dossiers</span>. Paris.
</div>
<div id="ref-bertile_ou_2014" class="csl-entry" role="listitem">
Bertile, Wilfrid. 2014. <span>“Où En Sont Les Politiques Ultramarines de Mobilité ?”</span> In <em>Mobilités Ultramarines</em>, 35–61. Paris: Editions des Archives contemporaines.
</div>
<div id="ref-chevallier_mobilite_2017" class="csl-entry" role="listitem">
Chevallier, Carline. 2017. <span>“La Mobilité Des Jeunes En <span>Martinique</span>. <span>Les</span> Initiatives de l’<span>Espace</span> <span>Sud</span>, Plateforme de Promotion de La Mobilité:”</span> <em>Cahiers de l’action</em> N° 49 (2): 47–56. <a href="https://doi.org/10.3917/cact.049.0047">https://doi.org/10.3917/cact.049.0047</a>.
</div>
<div id="ref-condon_migrants_1996" class="csl-entry" role="listitem">
Condon, Stéphanie. 1996. <span>“Les Migrants Antillais En Métropole : Un Espace de Vie Transatlantique.”</span> <em>Espace Populations Sociétés</em> 2-3: 513–20. <a href="https://www.persee.fr/doc/espos_0755-7809_1996_num_14_2_1778">https://www.persee.fr/doc/espos_0755-7809_1996_num_14_2_1778</a>.
</div>
<div id="ref-cruse_introduction_2013" class="csl-entry" role="listitem">
Cruse, Romain. 2013. <span>“Introduction à La <span>Caraïbe</span> Perçue.”</span> <em>Caribbean Atlas</em>. <a href="http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/introduction-a-la-caraibe-percue.html">http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/introduction-a-la-caraibe-percue.html</a>.
</div>
<div id="ref-cruse_geographie_2014" class="csl-entry" role="listitem">
———. 2014. <em>Une Géographie Populaire de La <span>Caraïbe</span></em>. Collection <span>Essai</span>. Montréal: Mémoire d’encrier.
</div>
<div id="ref-cruse_definir_2013" class="csl-entry" role="listitem">
Cruse, Romain, and Pascal Saffache. 2013. <span>“Définir Les Frontières de La <span>Caraïbe</span> : <span>Une</span> <span>Introduction</span>.”</span> <em>Caribbean Atlas</em>. <a href="http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/definir-les-frontieres-de-la-caraibe-une-introduction.html">http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/definir-les-frontieres-de-la-caraibe-une-introduction.html</a>.
</div>
<div id="ref-daniel_quoi_2018" class="csl-entry" role="listitem">
Daniel, Justin. 2018. <span>“De Quoi Les "Outre-Mer" Sont-Ils Aujourd’hui Le Nom ?”</span> In <em>Penser Et Repenser Le Postcolonial Dans Le Monde Atlantique</em>, L’Harmattan, 43–59.
</div>
<div id="ref-didelon-loiseau_mental_2018" class="csl-entry" role="listitem">
Didelon-Loiseau, Clarisse, Sophie De Ruffray, and Nicolas Lambert. 2018. <span>“Mental Maps of Global Regions: Identifying and Characterizing "Hard" and "Soft" Regions.”</span> <em>Journal of Cultural Geography</em> 2 (35): 210–29.
</div>
<div id="ref-dubesset_penser_2012" class="csl-entry" role="listitem">
Dubesset, Éric. 2012. <span>“Penser Autrement l’identité Régionale Caribéenne.”</span> <em>Études Caribéennes</em>, no. 21. <a href="https://doi.org/10.4000/etudescaribeennes.5739">https://doi.org/10.4000/etudescaribeennes.5739</a>.
</div>
<div id="ref-gagnon_etre_2019" class="csl-entry" role="listitem">
Gagnon, Véronique. 2019. <span>“Être Étudiant d’origine Étrangère En Région Au <span>Québec</span>:”</span> <em>Journal of International Mobility</em> N° 6 (1): 119–33. <a href="https://doi.org/10.3917/jim.006.0119">https://doi.org/10.3917/jim.006.0119</a>.
</div>
<div id="ref-galy_gestion_2018" class="csl-entry" role="listitem">
Galy, Karine. 2018. <span>“La Gestion Des Programmes de Coopération Territoriale En Vue de Construire La <span>Grande</span> <span>Caraïbe</span> : Freins Et Opportunités.”</span> In <em>L’<span>Union</span> Européenne Et La Coopération Régioànale Des Outre-Mers. <span>Vers</span> Un Renforcement Du Soutien Européen ?</em>, L’Harmattan, 293–308. Grale. Paris.
</div>
<div id="ref-galy_adhesion_2019" class="csl-entry" role="listitem">
———. 2019. <span>“L’adhésion Des Collectivités Infra-Étatiques Aux Organisations Régionales. <span>Enjeux</span> de La Participation Des Collectivités Territoriales Françaises d’<span>Amérique</span> Dans Les Organisations Régionales de l’espace <span>Amérique</span>-<span>Caraïbe</span>.”</span> <em>Etudes Caribéennes</em>, no. 42 (April): 1–17.
</div>
<div id="ref-piantoni_marquages_2009" class="csl-entry" role="listitem">
Piantoni, Frédéric. 2009. <span>“Marquages Territoriaux Et Catégories Sociales Dans l’espace Ultramarin Français.”</span> <em>L’Espace Politique</em>, no. 6 (March). <a href="https://doi.org/10.4000/espacepolitique.1090">https://doi.org/10.4000/espacepolitique.1090</a>.
</div>
<div id="ref-pourchez_metissage_2014" class="csl-entry" role="listitem">
Pourchez, Laurence. 2014. <span>“Métissage, Multi-Appartenance, Créolité à l’île de <span>La</span> <span>Réunion</span>.”</span> <em>Anthropologie Et Sociétés</em> 38 (2): 45–66. <a href="https://doi.org/10.7202/1026164ar">https://doi.org/10.7202/1026164ar</a>.
</div>
<div id="ref-puig_franceetats-uniscaraibe_2018" class="csl-entry" role="listitem">
Puig, Stève. 2018. <span>“France/<span>Etats</span>-<span>Unis</span>/<span>Caraïbe</span> : Le Développement d’une Pensée Postcoloniale.”</span> In <em>Penser Et Repenser Le Postcolonial Dans La Monde Atlantique</em>, Harmattan, 31–42.
</div>
<div id="ref-ranely_verge-depre_desserte_2014" class="csl-entry" role="listitem">
Ranély Vergé-Dépré, Colette. 2014. <span>“La Desserte Aérienne de l’archipel Des <span>Antilles</span> : Entre Extraversion Et Intégration Régionale.”</span> <em>Géotransports</em>, no. 3 - Transport et territoires insulaires: 23–38. <a href="https://irp.cdn-website.com/bf2583a0/files/uploaded/bK5phIYJSdCpTYq8Gcwa_G3-4-pp%2023-38%20-%20Desserte%20ae%CC%81rienne%20des%20Antilles%2C%20C.Rane%CC%81ly%20Verge%CC%81-De%CC%81pre%CC%81.pdf">https://irp.cdn-website.com/bf2583a0/files/uploaded/bK5phIYJSdCpTYq8Gcwa_G3-4-pp%2023-38%20-%20Desserte%20ae%CC%81rienne%20des%20Antilles%2C%20C.Rane%CC%81ly%20Verge%CC%81-De%CC%81pre%CC%81.pdf</a>.
</div>
<div id="ref-rey_concepts_2013" class="csl-entry" role="listitem">
Rey, Violette. 2013. <span>“Concepts Flous Pour Réalités Ambiguës, Comment Lire La Balkanisation Avec « l’entre-Deux ».”</span> <em>Anatoli</em>, no. 4 (October): 93–107. <a href="https://doi.org/10.4000/anatoli.466">https://doi.org/10.4000/anatoli.466</a>.
</div>
<div id="ref-rodriguez_quest_2013" class="csl-entry" role="listitem">
Rodriguez, José M. Mateo. 2013. <span>“Qu’est Ce Que La <span>Caraïbe</span> ? <span>Vers</span> Une Définition Géographique.”</span> Edited by Romain Cruse and Rhiney. <em>Caribbean Atlas</em>. <a href="http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/qu-est-ce-que-la-caraibe-vers-une-definition-geographique/">http://www.caribbean-atlas.com/fr/thematiques/qu-est-ce-que-la-caraibe/qu-est-ce-que-la-caraibe-vers-une-definition-geographique/</a>.
</div>
<div id="ref-roth_decoupage_nodate" class="csl-entry" role="listitem">
Roth, Patrice, and Pascal Buleon. n.d. <span>“Découpage de La Mer.”</span> <em>Atlas Caraïbe</em>. <a href="http://atlas-caraibe.certic.unicaen.fr/fr/theme-15.html#">http://atlas-caraibe.certic.unicaen.fr/fr/theme-15.html#</a>.
</div>
</div></section></div></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIEZVTkNUSU9OIFNFVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHNldChpbnB1dCwgdmFsdWUpIHtcbiAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7YnViYmxlczogdHJ1ZX0pKTtcbn1cblxuXG4vLyBXSURHRVRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gICB7ezwgaW5jbHVkZSAuLi9zY3JpcHRzL1cxQV9tYXBfc3R1X3JlZy5qcyA+fX1cbi8vICAge3s8IGluY2x1ZGUgLi4vc2NyaXB0cy9XMUJfbWFwX3N0dV9leHBsby5qcyA+fX1cblxuXG5cbmltcG9ydCB7bWFwX1cxQ30gZnJvbSBcIjc1M2UxMzViZTAyN2E1OThcIlxuXG5cbmltcG9ydCB7bWFwX1cxRH0gZnJvbSBcIjkxNDRhZTc5M2I5MDZlNDFcIlxuXG5cblxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1cyQX0gZnJvbSBcIjEyNmMzZjYwY2JmZGQzMzdcIlxuaW1wb3J0IHt2aWV3b2Ygcm90YXRlX1cyQX0gZnJvbSBcIjEyNmMzZjYwY2JmZGQzMzdcIlxuaW1wb3J0IHt2aWV3b2YgbmJfVzJBfSBmcm9tIFwiMTI2YzNmNjBjYmZkZDMzN1wiXG5pbXBvcnQge3Bsb3RfVzJBfSBmcm9tIFwiMTI2YzNmNjBjYmZkZDMzN1wiXG5pbXBvcnQge3djZF9XMkF9IGZyb20gXCIxMjZjM2Y2MGNiZmRkMzM3XCJcblxuXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXG5pbXBvcnQge3ZpZXdvZiB5ZWFyX1cyQn0gZnJvbSBcIjkwYjExMGZlYTE2YmYyNjBcIlxuaW1wb3J0IHt2aWV3b2Ygcm90YXRlX1cyQn0gZnJvbSBcIjkwYjExMGZlYTE2YmYyNjBcIlxuaW1wb3J0IHt2aWV3b2YgbmJfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXG5pbXBvcnQge3Bsb3RfVzJCfSBmcm9tIFwiOTBiMTEwZmVhMTZiZjI2MFwiXG5pbXBvcnQge3djZF9XMkJ9IGZyb20gXCI5MGIxMTBmZWExNmJmMjYwXCJcblxuXG5pbXBvcnQge3ZpZXdvZiBzZWxlY3RfVzJDfSBmcm9tIFwiZGFjNzlhMDBkMWIxYzlkYlwiXG5pbXBvcnQge3ZpZXdvZiByb3RhdGVfVzJDfSBmcm9tIFwiZGFjNzlhMDBkMWIxYzlkYlwiXG5pbXBvcnQge3ZpZXdvZiBuYl9XMkN9IGZyb20gXCJkYWM3OWEwMGQxYjFjOWRiXCJcbmltcG9ydCB7cGxvdF9XMkN9IGZyb20gXCJkYWM3OWEwMGQxYjFjOWRiXCJcbmltcG9ydCB7d2NkX1cyQ30gZnJvbSBcImRhYzc5YTAwZDFiMWM5ZGJcIlxuXG5cblxuLy8gICB7ezwgaW5jbHVkZSAuLi9zY3JpcHRzL1czQV9hZmNfc3R1X2V1ci5SID59fVxuLy8gICB7ezwgaW5jbHVkZSAuLi9zY3JpcHRzL1czQl9hZmNfbWVkX3JlZC5SID59fVxuXG4vLyAge3s8IGluY2x1ZGUgLi4vc2NyaXB0cy9XM0FfYWZjX3N0dV9ldXIuanMgPn19XG4vLyAge3s8IGluY2x1ZGUgLi4vc2NyaXB0cy9XM0JfYWZjX21lZF9yZWcuanMgPn19XG5cbmltcG9ydCB7dmlld29mIHNlbGVjdF9XNEF9IGZyb20gXCI0YzgwZjQxNzk3ZmQ1YjhlXCJcbmltcG9ydCB7dmlld29mIGluZGljX1c0QX0gZnJvbSBcIjRjODBmNDE3OTdmZDViOGVcIlxuaW1wb3J0IHttYXBfVzRBfSBmcm9tIFwiNGM4MGY0MTc5N2ZkNWI4ZVwiXG5cblxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1c0Qn0gZnJvbSBcImJiY2UzMTdiMzM2OGYwNDRcIlxuaW1wb3J0IHttYXBfVzRCfSBmcm9tIFwiYmJjZTMxN2IzMzY4ZjA0NFwiXG5cblxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1c0Q30gZnJvbSBcIjFlYTQwZWI2N2VmMzVjM2JcIlxuaW1wb3J0IHt2aWV3b2YgeWVhcl9XNEN9IGZyb20gXCIxZWE0MGViNjdlZjM1YzNiXCJcbmltcG9ydCB7bWFwX1c0Q30gZnJvbSBcIjFlYTQwZWI2N2VmMzVjM2JcIlxuXG5cbmltcG9ydCB7dmlld29mIHNlbGVjdF9XNER9IGZyb20gXCI1YjdmYjEzZjQ0OGFjNWFiXCJcbmltcG9ydCB7bWFwX1c0RH0gZnJvbSBcIjViN2ZiMTNmNDQ4YWM1YWJcIlxuXG5cblxuaW1wb3J0IHt2aWV3b2YgaWRUZXh0X1c1QX0gZnJvbSBcImY5ZDZlZjg3N2UyMjE0YjhcIlxuaW1wb3J0IHt2aWV3b2YgbmV4dFRleHRfVzVBfSBmcm9tIFwiZjlkNmVmODc3ZTIyMTRiOFwiXG5pbXBvcnQge3ZpZXdvZiB0cmFkT25PZmZfVzVBfSBmcm9tIFwiZjlkNmVmODc3ZTIyMTRiOFwiXG5pbXBvcnQge3RleHRTZWxfVzVBfSBmcm9tIFwiZjlkNmVmODc3ZTIyMTRiOFwiXG5pbXBvcnQge0lEX1BJX1c1QX0gZnJvbSBcImY5ZDZlZjg3N2UyMjE0YjhcIlxuXG5cblxuaW1wb3J0IHt2aWV3b2Ygc2VsZWN0X1c3QX0gZnJvbSBcIjk0NjY2OTU4ZGFiOWNiZDRcIlxuaW1wb3J0IHtwbG90X1c3QX0gZnJvbSBcIjk0NjY2OTU4ZGFiOWNiZDRcIlxuXG5cbmltcG9ydCB7dmlld29mIHNlbGVjdF9XN0J9IGZyb20gXCI4MjEyZWYzOGIyN2IxODE2XCJcbmltcG9ydCB7dmlld29mIGluZGljX1c3Qn0gZnJvbSBcIjgyMTJlZjM4YjI3YjE4MTZcIlxuaW1wb3J0IHtwbG90X1c3Qn0gZnJvbSBcIjgyMTJlZjM4YjI3YjE4MTZcIlxuXG5cbmltcG9ydCB7cGxvdF9XN0N9IGZyb20gXCJjODE4NGNiZWMyNTk3MTJiXCJcblxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBUaGUgQ2FyaWJiZWFuIGFwcGVhcnMgdG8gYmUgdGhlIHNwYWNlIHRoYXQgbW9zdCBhcHBlYWxzIHRvICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzZWxlY3RfVzFBLCBcIkZyYW5jZSBBbnRpbGxlc1wiKX0+c3R1ZGVudHMnPC9idXR0b24+YH0gaW1hZ2luYXRpb25zLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICBJTlBVVFNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52aWV3b2Ygc2VsZWN0X1cxQSA9IElucHV0cy5zZWxlY3QoW1wiQWxsXCIsIFwiR2VybWFueVwiLCBcIkZyYW5jZSBNZXRyb3BvbGl0YW5cIiwgXCJGcmFuY2UgQW50aWxsZXNcIiwgXCJJcmVsYW5kXCIsIFwiVHVya2V5XCIsIFwiVHVuaXNpYVwiXSwge2xhYmVsOiBcIlN1cnZleSBzYW1wbGVcIn0pXG5cbnZpZXdvZiByZWdpb25fVzFBID0gSW5wdXRzLnNlbGVjdChuZXcgTWFwKFtbXCJBbGxcIiwnQWxsJ10sW1wiRXVyb3BlXCIsXCJldXJvcGVcIl0sW1wiV2VzdGVybiBFdXJvcGVcIixcImV1cm9wZV9vdWVzdFwiXSxcbiAgICAgICAgICAgICAgICBbXCJDZW50cmFsIEV1cm9wZVwiLFwiZXVyb3BlX2NlbnRyXCJdLFxuICAgICAgICAgICAgICAgIFtcIkV1cm9wZWFuIFVuaW9uXCIsXCJ1bmlvbl9ldXJvcFwiXSxcbiAgICAgICAgICAgICAgICBbXCJBZnJpY2FcIixcImFmcmljYVwiXSxcbiAgICAgICAgICAgICAgICBbXCJOb3J0aGVybiBBZnJpY2FcIixcImFmcmljYV9ub3JkXCJdLFxuICAgICAgICAgICAgICAgIFtcIkFtZXJpY2FcIixcImFtZXJpY2FcIl0sXG4gICAgICAgICAgICAgICAgW1wiQ2VudHJhbCBBbWVyaWNhXCIsXCJhbWVyaWNhX2N0clwiXSxcbiAgICAgICAgICAgICAgICBbXCJBc2lhL0V1cmFzaWFcIixcImFzaWFcIl0sXG4gICAgICAgICAgICAgICAgW1wiTWVkaXRlcnJhbmVhblwiLFwibWVkaXRcIl0sXG4gICAgICAgICAgICAgICAgW1wiTWlkICYgTmVhciBFYXN0XCIsXCJtaWRlYXN0XCJdLFxuICAgICAgICAgICAgICAgIFtcIkNhcnJpYmVhblwiLFwiY2FycmliXCJdLFxuICAgICAgICAgICAgICAgIFtcIkFudGlsbGVzXCIsXCJhbnRpbFwiXSxcbiAgICAgICAgICAgICAgICBbXCJUaGUgV2VzdC9PY2lkZW50XCIsXCJ3ZXN0ZXJuXCJdXG4gICAgICAgICAgICAgICAgXSksIHtsYWJlbDogXCJOYW1lIG9mIG1hY3JvcmVnaW9uIGNvbnRhaW5zIC4uLlwifSlcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIE1BUFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbm1hcF9XMUEgPSB7XG4gIC8vIFNldCBoaWdobGlnaHRcbmZ1bmN0aW9uIGhpZ2hsaWdodEZlYXR1cmUoZSkge1xuICAgIHZhciBsYXllciA9IGUudGFyZ2V0O1xuICAgIGxheWVyLnNldFN0eWxlKHtcbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBjb2xvcjogJyNiYTY2YTknLFxuICAgICAgICBkYXNoQXJyYXk6ICcnLFxuICAgICAgICBmaWxsT3BhY2l0eTogMC41ICAgIFxuICAgIH0pO1xufVxuXG4gIC8vIFJlc2V0IEhpZ2hsaWdodFxuICBmdW5jdGlvbiByZXNldEhpZ2hsaWdodChlKSB7XG4gICAgbGF5ZXIucmVzZXRTdHlsZShlLnRhcmdldCk7XG59XG5cbiAgLy8gT25FYWNoIGZlYXR1clxuZnVuY3Rpb24gb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikge1xuICAgIGxheWVyLmJpbmRQb3B1cChmdW5jdGlvbiAoTGF5ZXIpIHtcbiAgICByZXR1cm4gXCI8Yj5Db3VudHJ5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmNvdW50cnkgKyBcIjxicj5cIiArXG4gICAgICBcIjxiPlNleCA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5zZXggKyBcIjxicj5cIiArXG4gICAgICBcIjxiPkZpZWxkcyBvZiBzdHVkeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5maWVsZCArIFwiPGJyPlwiICtcbiAgICAgIFwiPGI+T3BpbmlvbiBhYm91dCBFVSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5vcGlFVSArIFwiPGJyPlwiICtcbiAgICAgIFwiPGI+TWFjcm8gcmVnaW9uIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLm1hY3JvICsgXCI8YnI+XCIgK1xuICAgICAgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlgwMDAxX21ldF9yZXNwSURfYXV0ICsgJyAtIFwiJyArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5JRF9nZW9tICsgJ1wiIDxicj4nO1xuICB9KVxuICAgIGxheWVyLm9uKHtcbiAgICAgICAgbW91c2VvdmVyOiBoaWdobGlnaHRGZWF0dXJlLFxuICAgICAgICBtb3VzZW91dDogcmVzZXRIaWdobGlnaHQsXG4gICAgfSk7XG59XG5cbiAgLy8gTUFQXG5jb25zdCBjb250YWluZXIgPSB5aWVsZCBodGwuaHRtbGA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA1MHZoOyB3aWR0aDogNTB2aFwiPmA7XG5jb25zdCBtYXAgPSBMLm1hcChjb250YWluZXIpO1xuY29uc3QgbGF5ZXIgPSBMLmdlb0pTT04obWFjcm9yZWdfZmlsdGVyZWQsIHtcbm9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUsXG4gIHN0eWxlOiB7XG4gICAgb3BhY2l0eTogMSxcbiAgICBmaWxsT3BhY2l0eTogb3BhY2l0eV9XMUEsXG4gICAgY29sb3I6IFwiI2QxM2YwZlwiLFxuICAgIHdlaWdodDogc3Ryb2tlX1cxQSB9XG4gIH0pLmFkZFRvKG1hcCk7XG5cbi8vIGZpdCBtYXAgdG8gZ2VvbSBib3VuZHMgIFxubWFwLmZpdEJvdW5kcyhsYXllci5nZXRCb3VuZHMoKSwge21heFpvb206IDE1fSk7XG5cbi8vIFRpbGUgTGF5ZXIgIFxuTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsXG4gICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxuICAgICAgc3ViZG9tYWluczogXCJhYmNkXCIsXG4gICAgICBtYXhab29tOiAyMFxuICAgIH0pLmFkZFRvKG1hcCk7XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIFRBQkxFXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICBEQVRBXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxubWFjcm9yZWdfc3R1ZGVudHMgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvVzFBX0JER19tYWNyb3JlZy5HZW9KU09OXCIpLmpzb24oKVxuXG5tYWNyb3JlZyA9IGdlby5zaW1wbGlmeShtYWNyb3JlZ19zdHVkZW50cywge2s6MC4yNX0pXG5cbm1hY3JvcmVnX3NvcnRlZCA9IGdlby5mZWF0dXJlY29sbGVjdGlvbihtYWNyb3JlZy5mZWF0dXJlcy5zb3J0KChhLCBiKSA9PiBkMy5kZXNjZW5kaW5nKGEucHJvcGVydGllcy5hcmVhXzM4NTcsIGIucHJvcGVydGllcy5hcmVhXzM4NTcpKSlcblxubWFjcm9yZWdfZmlsdGVyZWQgPSB7XG4gIGxldCBmaWx0ZXJlZCA9ICByZWdpb25fVzFBID09IFwiQWxsXCIgPyBtYWNyb3JlZyA6IGdlby5maWx0ZXIobWFjcm9yZWdfc29ydGVkLCAoZCkgPT4gZFtyZWdpb25fVzFBXSA9PSAxKVxuICBmaWx0ZXJlZCA9IHNlbGVjdF9XMUEgPT0gXCJBbGxcIiA/IGZpbHRlcmVkIDogZ2VvLmZpbHRlcihmaWx0ZXJlZCwgKGQpID0+IGQuY291bnRyeSA9PSBzZWxlY3RfVzFBKVxuICByZXR1cm4gZ2VvLnJld2luZChmaWx0ZXJlZClcbn1cblxub3BhY2l0eV9XMUEgPSB7bGV0IG9wYWNpdHlcbiAgaWYobWFjcm9yZWdfZmlsdGVyZWQuZmVhdHVyZXMubGVuZ3RoID4gNjApIHsgXG4gICAgcmV0dXJuIG9wYWNpdHkgPSAwLjBcbiAgfSBlbHNlIGlmKG1hY3JvcmVnX2ZpbHRlcmVkLmZlYXR1cmVzLmxlbmd0aCA8IDYwICYmIG1hY3JvcmVnX2ZpbHRlcmVkLmZlYXR1cmVzLmxlbmd0aCA+IDIwKSB7XG4gICAgcmV0dXJuIG9wYWNpdHkgPSAwLjAyXG4gIH0gZWxzZSB7IFxuICAgIHJldHVybiBvcGFjaXR5ID0gMC4wNlxuICB9XG59XG5zdHJva2VfVzFBID0ge2xldCBzdHJva2VcbiAgaWYobWFjcm9yZWdfZmlsdGVyZWQuZmVhdHVyZXMubGVuZ3RoID4gMzApIHsgXG4gICAgcmV0dXJuIHN0cm9rZSA9IDAuMlxuICB9IGVsc2UgeyBcbiAgICByZXR1cm4gc3Ryb2tlID0gMC41XG4gIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICBMSUJTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZ2VvID0gcmVxdWlyZShcImdlb3Rvb2xib3hAMi4wLjNcIilcblxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgSW5kZWVkLCBhIHRoaXJkIG9mIHBlb3BsZSByZXByZXNlbnRlZCBtb3JlIHRoYW4gdHdvIHNwYWNlcyBpbiB0aGVpciBtZW50YWwgbWFwcywgcHJvZHVjaW5nLCBmb3IgZXhhbXBsZSwgaW50ZXJuYWwgZGl2aXNpb25zIHdpdGhpbiBhIHJlZ2lvbiAoZS5nLiwgYSAke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2YgcmVnaW9uX1cxQSwgXCJjYXJyaWJcIil9PuKAnENhcmliYmVhbuKAnTwvYnV0dG9uPmB9IHJlZ2lvbiBpbnRlZ3JhdGluZyBhbGwgaXNsYW5kIGFyZWFzLCBhbmQgdHdvIHJlZ2lvbnMgc2VwYXJhdGluZyB0aGUgcmVnaW9uIGludG8gJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHJlZ2lvbl9XMUEsIFwiYW50aWxcIil9PuKAnExlc3NlciBBbnRpbGxlc+KAnSBhbmQg4oCcR3JlYXRlciBBbnRpbGxlc+KAnTwvYnV0dG9uPmB9KSwgdHdvIHJlZ2lvbnMgaW50ZXJzZWN0aW5nIGF0IHRoZSBsZXZlbCBvZiB0aGVpciB0ZXJyaXRvcnkgb2YgcmVzaWRlbmNlLCBvciBkaXNjb250aW51b3VzIGFuZCBkaXN0aW5jdCBzcGFjZXMgYXNzb2NpYXRlZCBhZG1pbmlzdHJhdGl2ZWx5IG9yIGZyb20gYSBwZXJzb25hbCBwb2ludCBvZiB2aWV3IGJ5IHJlcHJlc2VudGluZyB0aGVpciBtaWdyYXRvcnkgcm91dGVzIG9yIGZhbWlseSBvcmlnaW5zLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYEl0IGlzIGFsc28gdGhlIGNhc2UgaW4gdGhlIG5hbWVzIGdpdmVuIHRvIHRoZSByZWdpb25zIGluIHRoZSBtZW50YWwgbWFwcyBieSB0aGUgICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzZWxlY3RfVzJDLCBcIkZyYW5jZSBBbnRpbGxlc1wiKX0+QW50aWxsZXMgc3R1ZGVudHM8L2J1dHRvbj5gfS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2Ygc2VsZWN0X1cyQ1xucGxvdF9XMkNcbnZpZXdvZiByb3RhdGVfVzJDXG52aWV3b2YgbmJfVzJDXG53Y2RfVzJDXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUaGUgc2l6ZSBvZiB0aGVpciBDYXJpYmJlYW4gcmVnaW9uIGNoYW5nZSBhIGxvdC4gRm9yIHNvbWUgJHtodGwuaHRtbGA8YnV0dG9uPiBBbnRpbGxlcyBzdHVkZW50czwvYnV0dG9uPmB9LCB0aGVpciBDYXJpYmJlYW4gc3RvcHMgYXQgQ3ViYS5cblxuVGhlIGltYWdpbmFyaWVzIG1vYmlsaXplZCBhcmUgYmFzZWQgb24gdGhyZWUgbWFpbiBlbGVtZW50czpcblxuLSBjdWx0dXJhbCwgaGlzdG9yaWNhbCBhbmQgcG9saXRpY2FsIHByb3hpbWl0eSB0byB0aGUgVW5pdGVkIFN0YXRlcywgcmF0aGVyIHRoYW4gdG8gb3RoZXIgQ2FyaWJiZWFuIHN0YXRlcyBhbmQgdGVycml0b3JpZXMgKHRocm91Z2ggbWlncmF0b3J5IGxpbmtzLCBmb3IgZXhhbXBsZSkgXG5cbi0gdGhlIGFic2VuY2Ugb2YgRnJlbmNoIG9yIENyZW9sZSBsYW5ndWFnZXNcblxuLSBkaWZmZXJlbmNlcyBpbiByZWdpbWVzIGFwcGVhciB0byBjcmVhdGUgZGlzdGFuY2VzXG5cbiMjIyMgU2VlIHNvbWUgZXhhbXBsZXMgOiAgXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMiwgXCI4aGMybzdidnczejZcIil9PiBJRCA6IDhoYzJvN2J2dzN6NjwvYnV0dG9uPmB9ICAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzIsIFwiODgyb3N3Nm12NDk2XCIpfT4gSUQgOiA4ODJvc3c2bXY0OTY8L2J1dHRvbj5gfSAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzIsIFwiN3U3czM2dm44d3o3XCIpfT4gSUQgOiA3dTdzMzZ2bjh3ejc8L2J1dHRvbj5gfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuSW5wdXRzLmJpbmQodmlld29mIHN0dV9zZWxfVzFCXzIsIHZpZXdvZiBuZXh0UmVzcF9XMUJfMilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICAgICAgICAgICAgICAgICAgICAgIElOUFVUU1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qdmlld29mIHNlbGVjdF9XMUJfMiA9IElucHV0cy5zZWxlY3QoW1wiQWxsXCIsIFwiR2VybWFueVwiLCBcIkZyYW5jZSBNZXRyb3BvbGl0YW5cIiwgXCJGcmFuY2UgQW50aWxsZXNcIiwgXCJJcmVsYW5kXCIsIFwiVHVya2V5XCIsIFwiVHVuaXNpYVwiXSwge2xhYmVsOiBcIlN1cnZleSBzYW1wbGVcIiwgdmFsdWU6IFwiRnJhbmNlIEFudGlsbGVzXCJ9KVxuICAqL1xuICBzZWxlY3RfVzFCXzIgPSBcIkZyYW5jZSBBbnRpbGxlc1wiXG4gIHZpZXdvZiBzdHVfc2VsX1cxQl8yID0gSW5wdXRzLnRleHQoe2xhYmVsOiBcIlN0dWRlbnQncyBJRFwiLCBwbGFjZWhvbGRlcjogXCI4ODJvc3c2bXY0OTZcIiwgdmFsdWU6IHJlc3BMaXN0VW5pcXVlX1cxQl8yWzBdfSlcbiAgXG4gIHZpZXdvZiBuZXh0UmVzcF9XMUJfMiA9IElucHV0cy5idXR0b24oW1xuICAgIFtcIlLDqXBvbmRhbnQgcHLDqWNlZGVudFwiLCB2YWx1ZSA9PiB2YWx1ZSA9PSAwID8gcmVzcExpc3RVbmlxdWVfVzFCXzIubGVuZ3RoLSAxOiB2YWx1ZSAtIDFdLFxuICAgIFtcIlLDqXBvbmRhbnQgc3VpdmFudFwiLCB2YWx1ZSA9PiB2YWx1ZSA+PSByZXNwTGlzdFVuaXF1ZV9XMUJfMi5sZW5ndGgtMSA/IDAgOiB2YWx1ZSArIDFdLFxuICBdLCB7dmFsdWU6IHJlc3BMaXN0VW5pcXVlX1cxQl8yLmZpbmRJbmRleChkID0+IGQgPT09IHN0dV9zZWxfVzFCXzIpLCBsYWJlbDogXCJcIn0pXG4gIFxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBNQVBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgXG4gICAgXG4gICAgbWFwX1cxQl8yID0ge1xuICAgICAgLy8gU2V0IGhpZ2hsaWdodFxuICAgICAgZnVuY3Rpb24gaGlnaGxpZ2h0RmVhdHVyZShlKSB7XG4gICAgICAgIHZhciBsYXllciA9IGUudGFyZ2V0O1xuICAgICAgICBsYXllci5zZXRTdHlsZSh7XG4gICAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICAgIGNvbG9yOiAnI2JhNjZhOScsXG4gICAgICAgICAgZGFzaEFycmF5OiAnJyxcbiAgICAgICAgICBmaWxsT3BhY2l0eTogMC41ICAgIFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmVzZXQgSGlnaGxpZ2h0XG4gICAgICBmdW5jdGlvbiByZXNldEhpZ2hsaWdodChlKSB7XG4gICAgICAgIGxheWVyLnJlc2V0U3R5bGUoZS50YXJnZXQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPbkVhY2ggZmVhdHVyXG4gICAgICBmdW5jdGlvbiBvbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgIGxheWVyLmJpbmRQb3B1cChmdW5jdGlvbiAoTGF5ZXIpIHtcbiAgICAgICAgICByZXR1cm4gXCI8Yj48aT5SZWdpb24gZHJhd24gOiA8L2I+PC9pPlwiICsgXG4gICAgICAgICAgICBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuSURfZ2VvbSArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+UmVnIG5hbWUgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZSArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+UmVnIG5hbWUgKGZyKSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX2xhYl9mciArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+UmVnIG5hbWUgKGVuKSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX2xhYl9lbiArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+UmVnIHNjYWxlIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfc2NhbGUgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBwYXJlbnQgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9wYXJlbnQxX2VuICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj48aT5SZXNwb25kZW50IDogPC9iPjwvaT5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dCArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+U2V4IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnNleCArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+Q291bnRyeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5jb3VudHJ5ICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5GaWVsZHMgb2Ygc3R1ZHkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuZmllbGQgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPkxldmVsIG9mIHN0dWR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmxldmVscyArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+TmF0aW9uYWxpdHkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWRkb2MgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPk9waW5pb24gb2YgRVUgOjwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5vcGlFVSBcbiAgICAgICAgfSlcbiAgICAgICAgbGF5ZXIub24oe1xuICAgICAgICAgIG1vdXNlb3ZlcjogaGlnaGxpZ2h0RmVhdHVyZSxcbiAgICAgICAgICBtb3VzZW91dDogcmVzZXRIaWdobGlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNQVBcbiAgICAgIFxuICAgICAgY29uc3QgY29udGFpbmVyID0geWllbGQgaHRsLmh0bWxgPGRpdiBzdHlsZT1cImhlaWdodDogNTB2aDsgd2lkdGg6IDUwdmhcIj5gO1xuICAgICAgY29uc3QgbWFwID0gTC5tYXAoY29udGFpbmVyKTtcbiAgICAgIGNvbnN0IGxheWVyID0gTC5nZW9KU09OKG1hY3JvX3Jlc3BfVzFCXzIsIHtcbiAgICAgICAgb25FYWNoRmVhdHVyZTogb25FYWNoRmVhdHVyZSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBmaWxsT3BhY2l0eTogMC4yLFxuICAgICAgICAgIGNvbG9yOiBcIiNGRkJDNTBcIixcbiAgICAgICAgICB3ZWlnaHQ6IDEuNX1cbiAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICBcbiAgICAgIC8vIGZpdCBtYXAgdG8gZ2VvbSBib3VuZHMgIFxuICAgICAgbWFwLmZpdEJvdW5kcyhsYXllci5nZXRCb3VuZHMoKSwge21heFpvb206IDl9KTtcbiAgICAgIFxuICAgICAgLy8gVGlsZSBMYXllciAgXG4gICAgICBMLnRpbGVMYXllcihcImh0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9saWdodF9hbGwve3p9L3t4fS97eX17cn0ucG5nXCIsXG4gICAgICAgICAgICAgICAgICB7YXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPicsXG4gICAgICAgICAgICAgICAgICAgIHN1YmRvbWFpbnM6IFwiYWJjZFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiAxMFxuICAgICAgICAgICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIFRBQkxFXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgREFUQVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgbWFjcm9yZWdfc3R1ZGVudHNfVzFCXzIgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvVzFCXzIuR2VvSlNPTlwiKS5qc29uKClcbiAgXG4gIG1hY3JvcmVnX1cxQl8yID0gZ2VvX1cxQl8yLnNpbXBsaWZ5KG1hY3JvcmVnX3N0dWRlbnRzX1cxQl8yLCB7azowLjJ9KVxuICBcbiAgbWFjcm9yZWdfc29ydGVkX1cxQl8yID0gZ2VvX1cxQl8yLmZlYXR1cmVjb2xsZWN0aW9uKG1hY3JvcmVnX1cxQl8yLmZlYXR1cmVzLnNvcnQoKGEsIGIpID0+IGQzLmRlc2NlbmRpbmcoYS5wcm9wZXJ0aWVzLmFyZWFfMzg1NywgYi5wcm9wZXJ0aWVzLmFyZWFfMzg1NykpKVxuICBcbiAgbWFjcm9yZWdfZmlsdGVyZWRfVzFCXzIgPSB7XG4gICAgbGV0IGZpbHRlcmVkID0gIHNlbGVjdF9XMUJfMiA9PSBcIkFsbFwiID8gbWFjcm9yZWdfc29ydGVkX1cxQl8yIDogZ2VvX1cxQl8yLmZpbHRlcihtYWNyb3JlZ19zb3J0ZWRfVzFCXzIsIChkKSA9PiBkLmNvdW50cnkgPT0gc2VsZWN0X1cxQl8yKVxuICAgIHJldHVybiBnZW9fVzFCXzIucmV3aW5kKGZpbHRlcmVkKVxuICB9XG4gIFxuICBtYWNyb19yZXNwX1cxQl8yID0gZ2VvX1cxQl8yLmZpbHRlcihtYWNyb3JlZ19maWx0ZXJlZF9XMUJfMiwgZCA9PiBkPy5YMDAwMV9tZXRfcmVzcElEX2F1dCA9PSByZXNwTGlzdFVuaXF1ZV9XMUJfMltuZXh0UmVzcF9XMUJfMl0pXG4gIFxuICByZXNwTGlzdF9XMUJfMiA9IG1hY3JvcmVnX2ZpbHRlcmVkX1cxQl8yLmZlYXR1cmVzLm1hcChkID0+IGQucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dClcbiAgXG4gIHJlc3BMaXN0VW5pcXVlX1cxQl8yID0gWy4uLm5ldyBTZXQocmVzcExpc3RfVzFCXzIuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSB1bmRlZmluZWQpKV1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTElCU1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBnZW9fVzFCXzIgPSByZXF1aXJlKFwiZ2VvdG9vbGJveEAyLjAuM1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBTZWUgc29tZSBleGFtcGxlcyA6ICBcbiR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQl8yLCBcIjllYjlyYmk5OGRvN1wiKX0+IElEIDogOWViOXJiaTk4ZG83PC9idXR0b24+YH0gICAke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMiwgXCI3dXI4b2w3OWNocDhcIil9PiBJRCA6IDd1cjhvbDc5Y2hwODwvYnV0dG9uPmB9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyMgU2VlIHNvbWUgZXhhbXBsZXMgOiBcblxuJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzIsIFwiODNuOHlwaDh1dzQzXCIpfT4gSUQgOiA4M244eXBoOHV3NDM8L2J1dHRvbj5gfSAgICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQl8yLCBcIjJzaTY3eXI2ZnprN1wiKX0+IElEIDogMnNpNjd5cjZmems3PC9idXR0b24+YH0gICAke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMiwgXCIzaXNrNGt1cDZoZjRcIil9PiBJRCA6IDNpc2s0a3VwNmhmNDwvYnV0dG9uPmB9ICAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzIsIFwiM3I5Ymp3Mm1lZTQzXCIpfT4gSUQgOiAzcjliancybWVlNDM8L2J1dHRvbj5gfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMjIFNlZSBzb21lIGV4YW1wbGVzIDogXG5cbiR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQl8yLCBcIjhmMzR3aGYzaXZoOFwiKX0+IElEIDogOGYzNHdoZjNpdmg4PC9idXR0b24+YH0gICAke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMiwgXCIzem04ZDd2eDkyYzlcIil9PiBJRCA6IDN6bThkN3Z4OTJjOTwvYnV0dG9uPmB9ICAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzIsIFwiM2lzazRrdXA2aGY0XCIpfT4gSUQgOiAzaXNrNGt1cDZoZjQ8L2J1dHRvbj5gfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMjIEFudGlsbGVzYFxubWFwX1cxQ1xuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyMgQ2FyYWliZXNgXG5tYXBfVzFEXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBTZWUgc29tZSBleGFtcGxlcyA6IFxuXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMywgXCI3cmwzODhqMm45cjdcIil9PiBJRCA6IDdybDM4OGoybjlyNzwvYnV0dG9uPmB9ICAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzMsIFwiOXB6N3BndjJud3o4XCIpfT4gSUQgOiA5cHo3cGd2Mm53ejg8L2J1dHRvbj5gfSAgICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQl8zLCBcIjk3cjdrdG02NGNlYVwiKX0+IElEIDogOTdyN2t0bTY0Y2VhPC9idXR0b24+YH1gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgICAgICAgICAgICAgICAgICAgICAgSU5QVVRTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyp2aWV3b2Ygc2VsZWN0X1cxQl8zID0gSW5wdXRzLnNlbGVjdChbXCJBbGxcIiwgXCJHZXJtYW55XCIsIFwiRnJhbmNlIE1ldHJvcG9saXRhblwiLCBcIkZyYW5jZSBBbnRpbGxlc1wiLCBcIklyZWxhbmRcIiwgXCJUdXJrZXlcIiwgXCJUdW5pc2lhXCJdLCB7bGFiZWw6IFwiU3VydmV5IHNhbXBsZVwiLCB2YWx1ZTogXCJGcmFuY2UgQW50aWxsZXNcIn0pKi9cbiAgc2VsZWN0X1cxQl8zID0gXCJGcmFuY2UgQW50aWxsZXNcIlxuICB2aWV3b2Ygc3R1X3NlbF9XMUJfMyA9IElucHV0cy50ZXh0KHtsYWJlbDogXCJTdHVkZW50J3MgSURcIiwgcGxhY2Vob2xkZXI6IFwiODgyb3N3Nm12NDk2XCIsIHZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfM1swXX0pXG4gIFxuICB2aWV3b2YgbmV4dFJlc3BfVzFCXzMgPSBJbnB1dHMuYnV0dG9uKFtcbiAgICBbXCJSw6lwb25kYW50IHByw6ljZWRlbnRcIiwgdmFsdWUgPT4gdmFsdWUgPT0gMCA/IHJlc3BMaXN0VW5pcXVlX1cxQl8zLmxlbmd0aC0gMTogdmFsdWUgLSAxXSxcbiAgICBbXCJSw6lwb25kYW50IHN1aXZhbnRcIiwgdmFsdWUgPT4gdmFsdWUgPj0gcmVzcExpc3RVbmlxdWVfVzFCXzMubGVuZ3RoLTEgPyAwIDogdmFsdWUgKyAxXSxcbiAgXSwge3ZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfMy5maW5kSW5kZXgoZCA9PiBkID09PSBzdHVfc2VsX1cxQl8zKSwgbGFiZWw6IFwiXCJ9KVxuICBcbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTUFQXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIFxuICAgIG1hcF9XMUJfMyA9IHtcbiAgICAgIC8vIFNldCBoaWdobGlnaHRcbiAgICAgIGZ1bmN0aW9uIGhpZ2hsaWdodEZlYXR1cmUoZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSBlLnRhcmdldDtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoe1xuICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICBjb2xvcjogJyNiYTY2YTknLFxuICAgICAgICAgIGRhc2hBcnJheTogJycsXG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSAgICBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IEhpZ2hsaWdodFxuICAgICAgZnVuY3Rpb24gcmVzZXRIaWdobGlnaHQoZSkge1xuICAgICAgICBsYXllci5yZXNldFN0eWxlKGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gT25FYWNoIGZlYXR1clxuICAgICAgZnVuY3Rpb24gb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikge1xuICAgICAgICBsYXllci5iaW5kUG9wdXAoZnVuY3Rpb24gKExheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIFwiPGI+PGk+UmVnaW9uIGRyYXduIDogPC9iPjwvaT5cIiArIFxuICAgICAgICAgICAgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLklEX2dlb20gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWUgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChmcikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZnIgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChlbikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZW4gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBzY2FsZSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX3NjYWxlICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5SZWcgcGFyZW50IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfcGFyZW50MV9lbiArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+PGk+UmVzcG9uZGVudCA6IDwvYj48L2k+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuWDAwMDFfbWV0X3Jlc3BJRF9hdXQgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlNleCA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5zZXggKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPkNvdW50cnkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuY291bnRyeSArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+RmllbGRzIG9mIHN0dWR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmZpZWxkICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5MZXZlbCBvZiBzdHVkeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5sZXZlbHMgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPk5hdGlvbmFsaXR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkZG9jICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5PcGluaW9uIG9mIEVVIDo8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMub3BpRVUgXG4gICAgICAgIH0pXG4gICAgICAgIGxheWVyLm9uKHtcbiAgICAgICAgICBtb3VzZW92ZXI6IGhpZ2hsaWdodEZlYXR1cmUsXG4gICAgICAgICAgbW91c2VvdXQ6IHJlc2V0SGlnaGxpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTUFQXG4gICAgICBcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHlpZWxkIGh0bC5odG1sYDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDUwdmg7IHdpZHRoOiA1MHZoXCI+YDtcbiAgICAgIGNvbnN0IG1hcCA9IEwubWFwKGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihtYWNyb19yZXNwX1cxQl8zLCB7XG4gICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMixcbiAgICAgICAgICBjb2xvcjogXCIjRkZCQzUwXCIsXG4gICAgICAgICAgd2VpZ2h0OiAxLjV9XG4gICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgXG4gICAgICAvLyBmaXQgbWFwIHRvIGdlb20gYm91bmRzICBcbiAgICAgIG1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiA5fSk7XG4gICAgICBcbiAgICAgIC8vIFRpbGUgTGF5ZXIgIFxuICAgICAgTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9e3J9LnBuZ1wiLFxuICAgICAgICAgICAgICAgICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBzdWJkb21haW5zOiBcImFiY2RcIixcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTBcbiAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBUQUJMRVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIERBVEFcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgbWFjcm9yZWdfc3R1ZGVudHNfVzFCXzMgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvVzFCXzIuR2VvSlNPTlwiKS5qc29uKClcbiAgXG4gIG1hY3JvcmVnX1cxQl8zID0gZ2VvX1cxQl8zLnNpbXBsaWZ5KG1hY3JvcmVnX3N0dWRlbnRzX1cxQl8zLCB7azowLjJ9KVxuICBcbiAgbWFjcm9yZWdfc29ydGVkX1cxQl8zID0gZ2VvX1cxQl8zLmZlYXR1cmVjb2xsZWN0aW9uKG1hY3JvcmVnX1cxQl8zLmZlYXR1cmVzLnNvcnQoKGEsIGIpID0+IGQzLmRlc2NlbmRpbmcoYS5wcm9wZXJ0aWVzLmFyZWFfMzg1NywgYi5wcm9wZXJ0aWVzLmFyZWFfMzg1NykpKVxuICBcbiAgbWFjcm9yZWdfZmlsdGVyZWRfVzFCXzMgPSB7XG4gICAgbGV0IGZpbHRlcmVkID0gIHNlbGVjdF9XMUJfMyA9PSBcIkFsbFwiID8gbWFjcm9yZWdfc29ydGVkX1cxQl8zIDogZ2VvX1cxQl8zLmZpbHRlcihtYWNyb3JlZ19zb3J0ZWRfVzFCXzMsIChkKSA9PiBkLmNvdW50cnkgPT0gc2VsZWN0X1cxQl8zKVxuICAgIHJldHVybiBnZW9fVzFCXzMucmV3aW5kKGZpbHRlcmVkKVxuICB9XG4gIFxuICBtYWNyb19yZXNwX1cxQl8zID0gZ2VvX1cxQl8zLmZpbHRlcihtYWNyb3JlZ19maWx0ZXJlZF9XMUJfMywgZCA9PiBkPy5YMDAwMV9tZXRfcmVzcElEX2F1dCA9PSByZXNwTGlzdFVuaXF1ZV9XMUJfM1tuZXh0UmVzcF9XMUJfM10pXG4gIFxuICByZXNwTGlzdF9XMUJfMyA9IG1hY3JvcmVnX2ZpbHRlcmVkX1cxQl8zLmZlYXR1cmVzLm1hcChkID0+IGQucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dClcbiAgXG4gIHJlc3BMaXN0VW5pcXVlX1cxQl8zID0gWy4uLm5ldyBTZXQocmVzcExpc3RfVzFCXzMuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSB1bmRlZmluZWQpKV1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTElCU1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBnZW9fVzFCXzMgPSByZXF1aXJlKFwiZ2VvdG9vbGJveEAyLjAuM1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBTZWUgc29tZSBleGFtcGxlcyA6IFxuXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfMywgXCI4ODJvc3c2bXY0OTZcIil9PiBJRCA6IDg4Mm9zdzZtdjQ5NjwvYnV0dG9uPmB9ICAgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzMsIFwiM3c0bG9mOWZkdjQ4XCIpfT4gSUQgOiAzdzRsb2Y5ZmR2NDg8L2J1dHRvbj5gfSAgICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzdHVfc2VsX1cxQl8zLCBcIjRtaDhmMnp1bDJwZ1wiKX0+IElEIDogNG1oOGYyenVsMnBnPC9idXR0b24+YH1gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgICAgICAgICAgICAgICAgICAgICAgSU5QVVRTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyp2aWV3b2Ygc2VsZWN0X1cxQl80ID0gSW5wdXRzLnNlbGVjdChbXCJBbGxcIiwgXCJHZXJtYW55XCIsIFwiRnJhbmNlIE1ldHJvcG9saXRhblwiLCBcIkZyYW5jZSBBbnRpbGxlc1wiLCBcIklyZWxhbmRcIiwgXCJUdXJrZXlcIiwgXCJUdW5pc2lhXCJdLCB7bGFiZWw6IFwiU3VydmV5IHNhbXBsZVwiLCB2YWx1ZTogXCJGcmFuY2UgQW50aWxsZXNcIn0pKi9cbiAgc2VsZWN0X1cxQl80ID0gXCJGcmFuY2UgQW50aWxsZXNcIlxuICB2aWV3b2Ygc3R1X3NlbF9XMUJfNCA9IElucHV0cy50ZXh0KHtsYWJlbDogXCJTdHVkZW50J3MgSURcIiwgcGxhY2Vob2xkZXI6IFwiODgyb3N3Nm12NDk2XCIsIHZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfNFswXX0pXG4gIFxuICB2aWV3b2YgbmV4dFJlc3BfVzFCXzQgPSBJbnB1dHMuYnV0dG9uKFtcbiAgICBbXCJSw6lwb25kYW50IHByw6ljZWRlbnRcIiwgdmFsdWUgPT4gdmFsdWUgPT0gMCA/IHJlc3BMaXN0VW5pcXVlX1cxQl80Lmxlbmd0aC0gMTogdmFsdWUgLSAxXSxcbiAgICBbXCJSw6lwb25kYW50IHN1aXZhbnRcIiwgdmFsdWUgPT4gdmFsdWUgPj0gcmVzcExpc3RVbmlxdWVfVzFCXzQubGVuZ3RoLTEgPyAwIDogdmFsdWUgKyAxXSxcbiAgXSwge3ZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfNC5maW5kSW5kZXgoZCA9PiBkID09PSBzdHVfc2VsX1cxQl80KSwgbGFiZWw6IFwiXCJ9KVxuICBcbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTUFQXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIFxuICAgIG1hcF9XMUJfNCA9IHtcbiAgICAgIC8vIFNldCBoaWdobGlnaHRcbiAgICAgIGZ1bmN0aW9uIGhpZ2hsaWdodEZlYXR1cmUoZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSBlLnRhcmdldDtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoe1xuICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICBjb2xvcjogJyNiYTY2YTknLFxuICAgICAgICAgIGRhc2hBcnJheTogJycsXG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSAgICBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IEhpZ2hsaWdodFxuICAgICAgZnVuY3Rpb24gcmVzZXRIaWdobGlnaHQoZSkge1xuICAgICAgICBsYXllci5yZXNldFN0eWxlKGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gT25FYWNoIGZlYXR1clxuICAgICAgZnVuY3Rpb24gb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikge1xuICAgICAgICBsYXllci5iaW5kUG9wdXAoZnVuY3Rpb24gKExheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIFwiPGI+PGk+UmVnaW9uIGRyYXduIDogPC9iPjwvaT5cIiArIFxuICAgICAgICAgICAgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLklEX2dlb20gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWUgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChmcikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZnIgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChlbikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZW4gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBzY2FsZSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX3NjYWxlICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5SZWcgcGFyZW50IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfcGFyZW50MV9lbiArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+PGk+UmVzcG9uZGVudCA6IDwvYj48L2k+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuWDAwMDFfbWV0X3Jlc3BJRF9hdXQgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlNleCA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5zZXggKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPkNvdW50cnkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuY291bnRyeSArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+RmllbGRzIG9mIHN0dWR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmZpZWxkICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5MZXZlbCBvZiBzdHVkeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5sZXZlbHMgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPk5hdGlvbmFsaXR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkZG9jICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5PcGluaW9uIG9mIEVVIDo8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMub3BpRVUgXG4gICAgICAgIH0pXG4gICAgICAgIGxheWVyLm9uKHtcbiAgICAgICAgICBtb3VzZW92ZXI6IGhpZ2hsaWdodEZlYXR1cmUsXG4gICAgICAgICAgbW91c2VvdXQ6IHJlc2V0SGlnaGxpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTUFQXG4gICAgICBcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHlpZWxkIGh0bC5odG1sYDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDUwdmg7IHdpZHRoOiA1MHZoXCI+YDtcbiAgICAgIGNvbnN0IG1hcCA9IEwubWFwKGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihtYWNyb19yZXNwX1cxQl80LCB7XG4gICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMixcbiAgICAgICAgICBjb2xvcjogXCIjRkZCQzUwXCIsXG4gICAgICAgICAgd2VpZ2h0OiAxLjV9XG4gICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgXG4gICAgICAvLyBmaXQgbWFwIHRvIGdlb20gYm91bmRzICBcbiAgICAgIG1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiA5fSk7XG4gICAgICBcbiAgICAgIC8vIFRpbGUgTGF5ZXIgIFxuICAgICAgTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9e3J9LnBuZ1wiLFxuICAgICAgICAgICAgICAgICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBzdWJkb21haW5zOiBcImFiY2RcIixcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTBcbiAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBUQUJMRVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIERBVEFcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgbWFjcm9yZWdfc3R1ZGVudHNfVzFCXzQgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvVzFCXzIuR2VvSlNPTlwiKS5qc29uKClcbiAgXG4gIG1hY3JvcmVnX1cxQl80ID0gZ2VvX1cxQl80LnNpbXBsaWZ5KG1hY3JvcmVnX3N0dWRlbnRzX1cxQl80LCB7azowLjJ9KVxuICBcbiAgbWFjcm9yZWdfc29ydGVkX1cxQl80ID0gZ2VvX1cxQl80LmZlYXR1cmVjb2xsZWN0aW9uKG1hY3JvcmVnX1cxQl80LmZlYXR1cmVzLnNvcnQoKGEsIGIpID0+IGQzLmRlc2NlbmRpbmcoYS5wcm9wZXJ0aWVzLmFyZWFfMzg1NywgYi5wcm9wZXJ0aWVzLmFyZWFfMzg1NykpKVxuICBcbiAgbWFjcm9yZWdfZmlsdGVyZWRfVzFCXzQgPSB7XG4gICAgbGV0IGZpbHRlcmVkID0gIHNlbGVjdF9XMUJfNCA9PSBcIkFsbFwiID8gbWFjcm9yZWdfc29ydGVkX1cxQl80IDogZ2VvX1cxQl80LmZpbHRlcihtYWNyb3JlZ19zb3J0ZWRfVzFCXzQsIChkKSA9PiBkLmNvdW50cnkgPT0gc2VsZWN0X1cxQl80KVxuICAgIHJldHVybiBnZW9fVzFCXzQucmV3aW5kKGZpbHRlcmVkKVxuICB9XG4gIFxuICBtYWNyb19yZXNwX1cxQl80ID0gZ2VvX1cxQl80LmZpbHRlcihtYWNyb3JlZ19maWx0ZXJlZF9XMUJfNCwgZCA9PiBkPy5YMDAwMV9tZXRfcmVzcElEX2F1dCA9PSByZXNwTGlzdFVuaXF1ZV9XMUJfNFtuZXh0UmVzcF9XMUJfNF0pXG4gIFxuICByZXNwTGlzdF9XMUJfNCA9IG1hY3JvcmVnX2ZpbHRlcmVkX1cxQl80LmZlYXR1cmVzLm1hcChkID0+IGQucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dClcbiAgXG4gIHJlc3BMaXN0VW5pcXVlX1cxQl80ID0gWy4uLm5ldyBTZXQocmVzcExpc3RfVzFCXzQuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSB1bmRlZmluZWQpKV1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTElCU1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBnZW9fVzFCXzQgPSByZXF1aXJlKFwiZ2VvdG9vbGJveEAyLjAuM1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIyBTZWUgc29tZSBleGFtcGxlcyBpbmNsdWRpbmcgKipGcmVuY2ggR3V5YW5hKiogOiBcblxuJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzQsIFwiNmp2dDJmdm02N3c2XCIpfT4gSUQgOiA2anZ0MmZ2bTY3dzY8L2J1dHRvbj5gfVxuJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzQsIFwiOXpudzhoaDJ4Y203XCIpfT4gSUQgOiA5em53OGhoMnhjbTc8L2J1dHRvbj5gfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMjIFNlZSBzb21lIGV4YW1wbGVzIGluY2x1ZGluZyAqKlNvdXRoIEFtZXJpY2EqKiA6IFxuXG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCIyZzRjeDhjZm8zODNcIil9PiBJRCA6IDJnNGN4OGNmbzM4MzwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCIzcjliancybWVlNDNcIil9PiBJRCA6IDNyOWJqdzJtZWU0MzwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCI2aGY0NmlqdjlmczhcIil9PiBJRCA6IDZoZjQ2aWp2OWZzODwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCIzcjliancybWVlNDNcIil9PiBJRCA6IDNyOWJqdzJtZWU0MzwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCI2aGY0NmlqdjlmczhcIil9PiBJRCA6IDZoZjQ2aWp2OWZzODwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCIzcjliancybWVlNDNcIil9PiBJRCA6IDNyOWJqdzJtZWU0MzwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCI3Z3p6M3k2bWZzNzhcIil9PiBJRCA6IDdnenozeTZtZnM3ODwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCI4M244eXBoOHV3NDNcIil9PiBJRCA6IDgzbjh5cGg4dXc0MzwvYnV0dG9uPmB9XG4ke2h0bC5odG1sYDxidXR0b24gb25jbGljaz0keygpID0+IHNldCh2aWV3b2Ygc3R1X3NlbF9XMUJfNCwgXCI4N2k3cDZ5M3N0dDdcIil9PiBJRCA6IDg3aTdwNnkzc3R0NzwvYnV0dG9uPmB9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InBsb3RfVzdDXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgV2hlbiB3ZSBjb21wYXJlIHRoZSBwbGFjZXMgICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzZWxlY3RfVzRCLCBcIkZyYW5jZSBBbnRpbGxlc1wiKX0+IFdlc3QgaW5kaWVzPC9idXR0b24+YH1zdHVkZW50cyB3YW50IHRvIHZpc2l0IHdpdGggdGhvc2UgdGhleSB3YW50IHRvIHdvcmsgaW4sIHR3byBtYWluIGFyZWFzIGVtZXJnZS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIHNlbGVjdF9XNEJcbm1hcF9XNEJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUaGlzIGlzIHRoZSBjYXNlLCBmb3IgZXhhbXBsZSwgb2YgYSBwcm9wb3NhbCBtYWRlIGJ5IGEgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHN0dV9zZWxfVzFCXzUsIFwiMzhsZmk4a2Y4d2o0XCIpfT5zdHVkZW50PC9idXR0b24+YH0gd2hvIHJlcHJlc2VudGVkIGEgcmVnaW9uIGNhbGxlZCB0aGUg4oCcR3JlYXRlciBOZWFyIEFtZXJpY2FuIEJhc2lu4oCdLCBhbiBleHRlbmRlZCByZWdpb24gc3RyZXRjaGluZyBmcm9tIHRoZSBub3J0aGVybiBVbml0ZWQgU3RhdGVzIHRvIFBhcmFndWF5LCBpbmNvcnBvcmF0aW5nIENlbnRyYWwgQW1lcmljYSwgdGhlIGluc3VsYXIgQ2FyaWJiZWFuIGFuZCBoYWxmIHRoZSBBdGxhbnRpYyBPY2Vhbi5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTI1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgICAgICAgICAgICAgICAgICAgICAgSU5QVVRTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qICB2aWV3b2Ygc2VsZWN0X1cxQl81ID0gSW5wdXRzLnNlbGVjdChbXCJBbGxcIiwgXCJHZXJtYW55XCIsIFwiRnJhbmNlIE1ldHJvcG9saXRhblwiLCBcIkZyYW5jZSBBbnRpbGxlc1wiLCBcIklyZWxhbmRcIiwgXCJUdXJrZXlcIiwgXCJUdW5pc2lhXCJdLCB7bGFiZWw6IFwiU3VydmV5IHNhbXBsZVwiLCB2YWx1ZTogXCJGcmFuY2UgQW50aWxsZXNcIn0pKi9cbiAgc2VsZWN0X1cxQl81ID0gXCJGcmFuY2UgQW50aWxsZXNcIlxuICB2aWV3b2Ygc3R1X3NlbF9XMUJfNSA9IElucHV0cy50ZXh0KHtsYWJlbDogXCJTdHVkZW50J3MgSURcIiwgcGxhY2Vob2xkZXI6IFwiODgyb3N3Nm12NDk2XCIsIHZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfNVswXX0pXG4gIFxuICB2aWV3b2YgbmV4dFJlc3BfVzFCXzUgPSBJbnB1dHMuYnV0dG9uKFtcbiAgICBbXCJSw6lwb25kYW50IHByw6ljZWRlbnRcIiwgdmFsdWUgPT4gdmFsdWUgPT0gMCA/IHJlc3BMaXN0VW5pcXVlX1cxQl81Lmxlbmd0aC0gMTogdmFsdWUgLSAxXSxcbiAgICBbXCJSw6lwb25kYW50IHN1aXZhbnRcIiwgdmFsdWUgPT4gdmFsdWUgPj0gcmVzcExpc3RVbmlxdWVfVzFCXzUubGVuZ3RoLTEgPyAwIDogdmFsdWUgKyAxXSxcbiAgXSwge3ZhbHVlOiByZXNwTGlzdFVuaXF1ZV9XMUJfNS5maW5kSW5kZXgoZCA9PiBkID09PSBzdHVfc2VsX1cxQl81KSwgbGFiZWw6IFwiXCJ9KVxuICBcbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTUFQXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIFxuICAgIG1hcF9XMUJfNSA9IHtcbiAgICAgIC8vIFNldCBoaWdobGlnaHRcbiAgICAgIGZ1bmN0aW9uIGhpZ2hsaWdodEZlYXR1cmUoZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSBlLnRhcmdldDtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoe1xuICAgICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgICBjb2xvcjogJyNiYTY2YTknLFxuICAgICAgICAgIGRhc2hBcnJheTogJycsXG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSAgICBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IEhpZ2hsaWdodFxuICAgICAgZnVuY3Rpb24gcmVzZXRIaWdobGlnaHQoZSkge1xuICAgICAgICBsYXllci5yZXNldFN0eWxlKGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gT25FYWNoIGZlYXR1clxuICAgICAgZnVuY3Rpb24gb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikge1xuICAgICAgICBsYXllci5iaW5kUG9wdXAoZnVuY3Rpb24gKExheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIFwiPGI+PGk+UmVnaW9uIGRyYXduIDogPC9iPjwvaT5cIiArIFxuICAgICAgICAgICAgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLklEX2dlb20gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWUgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChmcikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZnIgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBuYW1lIChlbikgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuRTE5MDNfbWFwX3JnbmFtZV9sYWJfZW4gKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlJlZyBzY2FsZSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5FMTkwM19tYXBfcmduYW1lX3NjYWxlICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5SZWcgcGFyZW50IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkUxOTAzX21hcF9yZ25hbWVfcGFyZW50MV9lbiArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+PGk+UmVzcG9uZGVudCA6IDwvYj48L2k+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuWDAwMDFfbWV0X3Jlc3BJRF9hdXQgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPlNleCA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5zZXggKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPkNvdW50cnkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuY291bnRyeSArIFwiPGJyPlwiICtcbiAgICAgICAgICAgIFwiPGI+RmllbGRzIG9mIHN0dWR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmZpZWxkICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5MZXZlbCBvZiBzdHVkeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5sZXZlbHMgKyBcIjxicj5cIiArXG4gICAgICAgICAgICBcIjxiPk5hdGlvbmFsaXR5IDogPC9iPlwiICsgTGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkZG9jICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgXCI8Yj5PcGluaW9uIG9mIEVVIDo8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMub3BpRVUgXG4gICAgICAgIH0pXG4gICAgICAgIGxheWVyLm9uKHtcbiAgICAgICAgICBtb3VzZW92ZXI6IGhpZ2hsaWdodEZlYXR1cmUsXG4gICAgICAgICAgbW91c2VvdXQ6IHJlc2V0SGlnaGxpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTUFQXG4gICAgICBcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHlpZWxkIGh0bC5odG1sYDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDUwdmg7IHdpZHRoOiA1MHZoXCI+YDtcbiAgICAgIGNvbnN0IG1hcCA9IEwubWFwKGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBsYXllciA9IEwuZ2VvSlNPTihtYWNyb19yZXNwX1cxQl81LCB7XG4gICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMixcbiAgICAgICAgICBjb2xvcjogXCIjRkZCQzUwXCIsXG4gICAgICAgICAgd2VpZ2h0OiAxLjV9XG4gICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgXG4gICAgICAvLyBmaXQgbWFwIHRvIGdlb20gYm91bmRzICBcbiAgICAgIG1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiA5fSk7XG4gICAgICBcbiAgICAgIC8vIFRpbGUgTGF5ZXIgIFxuICAgICAgTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9e3J9LnBuZ1wiLFxuICAgICAgICAgICAgICAgICAge2F0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBzdWJkb21haW5zOiBcImFiY2RcIixcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTBcbiAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBUQUJMRVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIERBVEFcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgXG4gICAgbWFjcm9yZWdfc3R1ZGVudHNfVzFCXzUgPSBGaWxlQXR0YWNobWVudChcIi4uL2RhdGEvVzFCXzIuR2VvSlNPTlwiKS5qc29uKClcbiAgXG4gIG1hY3JvcmVnX1cxQl81ID0gZ2VvX1cxQl81LnNpbXBsaWZ5KG1hY3JvcmVnX3N0dWRlbnRzX1cxQl81LCB7azowLjJ9KVxuICBcbiAgbWFjcm9yZWdfc29ydGVkX1cxQl81ID0gZ2VvX1cxQl81LmZlYXR1cmVjb2xsZWN0aW9uKG1hY3JvcmVnX1cxQl81LmZlYXR1cmVzLnNvcnQoKGEsIGIpID0+IGQzLmRlc2NlbmRpbmcoYS5wcm9wZXJ0aWVzLmFyZWFfMzg1NywgYi5wcm9wZXJ0aWVzLmFyZWFfMzg1NykpKVxuICBcbiAgbWFjcm9yZWdfZmlsdGVyZWRfVzFCXzUgPSB7XG4gICAgbGV0IGZpbHRlcmVkID0gIHNlbGVjdF9XMUJfNSA9PSBcIkFsbFwiID8gbWFjcm9yZWdfc29ydGVkX1cxQl81IDogZ2VvX1cxQl81LmZpbHRlcihtYWNyb3JlZ19zb3J0ZWRfVzFCXzUsIChkKSA9PiBkLmNvdW50cnkgPT0gc2VsZWN0X1cxQl81KVxuICAgIHJldHVybiBnZW9fVzFCXzUucmV3aW5kKGZpbHRlcmVkKVxuICB9XG4gIFxuICBtYWNyb19yZXNwX1cxQl81ID0gZ2VvX1cxQl81LmZpbHRlcihtYWNyb3JlZ19maWx0ZXJlZF9XMUJfNSwgZCA9PiBkPy5YMDAwMV9tZXRfcmVzcElEX2F1dCA9PSByZXNwTGlzdFVuaXF1ZV9XMUJfNVtuZXh0UmVzcF9XMUJfNV0pXG4gIFxuICByZXNwTGlzdF9XMUJfNSA9IG1hY3JvcmVnX2ZpbHRlcmVkX1cxQl81LmZlYXR1cmVzLm1hcChkID0+IGQucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dClcbiAgXG4gIHJlc3BMaXN0VW5pcXVlX1cxQl81ID0gWy4uLm5ldyBTZXQocmVzcExpc3RfVzFCXzUuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSB1bmRlZmluZWQpKV1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgTElCU1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBnZW9fVzFCXzUgPSByZXF1aXJlKFwiZ2VvdG9vbGJveEAyLjAuM1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTI2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgVW5zdXJwcmlzaW5nbHksICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiByZWdpb25fVzFBXzIsIFwiZXVyb3BlXCIpfT5FdXJvcGU8L2J1dHRvbj5gfSBhbmQgdGhlIEVVIGFyZSByYXJlbHkgcmVwcmVzZW50ZWQgYW5kIG5hbWVkIGluICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBzZWxlY3RfVzFBXzIsIFwiRnJhbmNlIEFudGlsbGVzXCIpfT5XZXN0IEluZGllczwvYnV0dG9uPmB9IHN0dWRlbnRz4oCZIG1lbnRhbCBtYXBzLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgSU5QVVRTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmlld29mIHNlbGVjdF9XMUFfMiA9IElucHV0cy5zZWxlY3QoW1wiQWxsXCIsIFwiR2VybWFueVwiLCBcIkZyYW5jZSBNZXRyb3BvbGl0YW5cIiwgXCJGcmFuY2UgQW50aWxsZXNcIiwgXCJJcmVsYW5kXCIsIFwiVHVya2V5XCIsIFwiVHVuaXNpYVwiXSwge2xhYmVsOiBcIlN1cnZleSBzYW1wbGVcIn0pXG5cbnZpZXdvZiByZWdpb25fVzFBXzIgPSBJbnB1dHMuc2VsZWN0KG5ldyBNYXAoW1tcIkFsbFwiLCdBbGwnXSxbXCJFdXJvcGVcIixcImV1cm9wZVwiXSxbXCJXZXN0ZXJuIEV1cm9wZVwiLFwiZXVyb3BlX291ZXN0XCJdLFxuICAgICAgICAgICAgICAgIFtcIkNlbnRyYWwgRXVyb3BlXCIsXCJldXJvcGVfY2VudHJcIl0sXG4gICAgICAgICAgICAgICAgW1wiRXVyb3BlYW4gVW5pb25cIixcInVuaW9uX2V1cm9wXCJdLFxuICAgICAgICAgICAgICAgIFtcIkFmcmljYVwiLFwiYWZyaWNhXCJdLFxuICAgICAgICAgICAgICAgIFtcIk5vcnRoZXJuIEFmcmljYVwiLFwiYWZyaWNhX25vcmRcIl0sXG4gICAgICAgICAgICAgICAgW1wiQW1lcmljYVwiLFwiYW1lcmljYVwiXSxcbiAgICAgICAgICAgICAgICBbXCJDZW50cmFsIEFtZXJpY2FcIixcImFtZXJpY2FfY3RyXCJdLFxuICAgICAgICAgICAgICAgIFtcIkFzaWEvRXVyYXNpYVwiLFwiYXNpYVwiXSxcbiAgICAgICAgICAgICAgICBbXCJNZWRpdGVycmFuZWFuXCIsXCJtZWRpdFwiXSxcbiAgICAgICAgICAgICAgICBbXCJNaWQgJiBOZWFyIEVhc3RcIixcIm1pZGVhc3RcIl0sXG4gICAgICAgICAgICAgICAgW1wiQ2FycmliZWFuXCIsXCJjYXJyaWJcIl0sXG4gICAgICAgICAgICAgICAgW1wiQW50aWxsZXNcIixcImFudGlsXCJdLFxuICAgICAgICAgICAgICAgIFtcIlRoZSBXZXN0L09jaWRlbnRcIixcIndlc3Rlcm5cIl1cbiAgICAgICAgICAgICAgICBdKSwge2xhYmVsOiBcIk5hbWUgb2YgbWFjcm9yZWdpb24gY29udGFpbnMgLi4uXCJ9KVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgTUFQXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxubWFwX1cxQV8yID0ge1xuICAvLyBTZXQgaGlnaGxpZ2h0XG5mdW5jdGlvbiBoaWdobGlnaHRGZWF0dXJlKGUpIHtcbiAgICB2YXIgbGF5ZXIgPSBlLnRhcmdldDtcbiAgICBsYXllci5zZXRTdHlsZSh7XG4gICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgY29sb3I6ICcjYmE2NmE5JyxcbiAgICAgICAgZGFzaEFycmF5OiAnJyxcbiAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSAgICBcbiAgICB9KTtcbn1cblxuICAvLyBSZXNldCBIaWdobGlnaHRcbiAgZnVuY3Rpb24gcmVzZXRIaWdobGlnaHQoZSkge1xuICAgIGxheWVyLnJlc2V0U3R5bGUoZS50YXJnZXQpO1xufVxuXG4gIC8vIE9uRWFjaCBmZWF0dXJcbmZ1bmN0aW9uIG9uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICBsYXllci5iaW5kUG9wdXAoZnVuY3Rpb24gKExheWVyKSB7XG4gICAgcmV0dXJuIFwiPGI+Q291bnRyeSA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5jb3VudHJ5ICsgXCI8YnI+XCIgK1xuICAgICAgXCI8Yj5TZXggOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuc2V4ICsgXCI8YnI+XCIgK1xuICAgICAgXCI8Yj5GaWVsZHMgb2Ygc3R1ZHkgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuZmllbGQgKyBcIjxicj5cIiArXG4gICAgICBcIjxiPk9waW5pb24gYWJvdXQgRVUgOiA8L2I+XCIgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMub3BpRVUgKyBcIjxicj5cIiArXG4gICAgICBcIjxiPk1hY3JvIHJlZ2lvbiA6IDwvYj5cIiArIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5tYWNybyArIFwiPGJyPlwiICtcbiAgICAgIExheWVyLmZlYXR1cmUucHJvcGVydGllcy5YMDAwMV9tZXRfcmVzcElEX2F1dCArICcgLSBcIicgKyBMYXllci5mZWF0dXJlLnByb3BlcnRpZXMuSURfZ2VvbSArICdcIiA8YnI+JztcbiAgfSlcbiAgICBsYXllci5vbih7XG4gICAgICAgIG1vdXNlb3ZlcjogaGlnaGxpZ2h0RmVhdHVyZSxcbiAgICAgICAgbW91c2VvdXQ6IHJlc2V0SGlnaGxpZ2h0LFxuICAgIH0pO1xufVxuXG4gIC8vIE1BUFxuY29uc3QgY29udGFpbmVyID0geWllbGQgaHRsLmh0bWxgPGRpdiBzdHlsZT1cImhlaWdodDogNTB2aDsgd2lkdGg6IDUwdmhcIj5gO1xuY29uc3QgbWFwID0gTC5tYXAoY29udGFpbmVyKTtcbmNvbnN0IGxheWVyID0gTC5nZW9KU09OKG1hY3JvcmVnX2ZpbHRlcmVkX1cxQV8yLCB7XG5vbkVhY2hGZWF0dXJlOiBvbkVhY2hGZWF0dXJlLFxuICBzdHlsZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgZmlsbE9wYWNpdHk6IG9wYWNpdHlfVzFBLFxuICAgIGNvbG9yOiBcIiNkMTNmMGZcIixcbiAgICB3ZWlnaHQ6IHN0cm9rZV9XMUEgfVxuICB9KS5hZGRUbyhtYXApO1xuXG4vLyBmaXQgbWFwIHRvIGdlb20gYm91bmRzICBcbm1hcC5maXRCb3VuZHMobGF5ZXIuZ2V0Qm91bmRzKCksIHttYXhab29tOiAxNX0pO1xuXG4vLyBUaWxlIExheWVyICBcbkwudGlsZUxheWVyKCdodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vcmFzdGVydGlsZXMvdm95YWdlci97en0ve3h9L3t5fXtyfS5wbmcnLFxuICAgIHthdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+JyxcbiAgICAgIHN1YmRvbWFpbnM6IFwiYWJjZFwiLFxuICAgICAgbWF4Wm9vbTogMjBcbiAgICB9KS5hZGRUbyhtYXApO1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICBUQUJMRVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgREFUQVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbm1hY3JvcmVnX3N0dWRlbnRzX1cxQV8yID0gRmlsZUF0dGFjaG1lbnQoXCIuLi9kYXRhL1cxQV9CREdfbWFjcm9yZWcuR2VvSlNPTlwiKS5qc29uKClcblxubWFjcm9yZWdfVzFBXzIgPSBnZW9fVzFBXzIuc2ltcGxpZnkobWFjcm9yZWdfc3R1ZGVudHNfVzFBXzIsIHtrOjAuMjV9KVxuXG5tYWNyb3JlZ19zb3J0ZWRfVzFBXzIgPSBnZW9fVzFBXzIuZmVhdHVyZWNvbGxlY3Rpb24obWFjcm9yZWdfVzFBXzIuZmVhdHVyZXMuc29ydCgoYSwgYikgPT4gZDMuZGVzY2VuZGluZyhhLnByb3BlcnRpZXMuYXJlYV8zODU3LCBiLnByb3BlcnRpZXMuYXJlYV8zODU3KSkpXG5cbm1hY3JvcmVnX2ZpbHRlcmVkX1cxQV8yID0ge1xuICBsZXQgZmlsdGVyZWQgPSAgcmVnaW9uX1cxQV8yID09IFwiQWxsXCIgPyBtYWNyb3JlZ19XMUFfMiA6IGdlb19XMUFfMi5maWx0ZXIobWFjcm9yZWdfc29ydGVkX1cxQV8yLCAoZCkgPT4gZFtyZWdpb25fVzFBXzJdID09IDEpXG4gIGZpbHRlcmVkID0gc2VsZWN0X1cxQV8yID09IFwiQWxsXCIgPyBmaWx0ZXJlZCA6IGdlb19XMUFfMi5maWx0ZXIoZmlsdGVyZWQsIChkKSA9PiBkLmNvdW50cnkgPT0gc2VsZWN0X1cxQV8yKVxuICByZXR1cm4gZ2VvX1cxQV8yLnJld2luZChmaWx0ZXJlZClcbn1cblxub3BhY2l0eV9XMUEgPSB7bGV0IG9wYWNpdHlcbiAgaWYobWFjcm9yZWdfZmlsdGVyZWQuZmVhdHVyZXMubGVuZ3RoID4gNjApIHsgXG4gICAgcmV0dXJuIG9wYWNpdHkgPSAwLjBcbiAgfSBlbHNlIGlmKG1hY3JvcmVnX2ZpbHRlcmVkLmZlYXR1cmVzLmxlbmd0aCA8IDYwICYmIG1hY3JvcmVnX2ZpbHRlcmVkLmZlYXR1cmVzLmxlbmd0aCA+IDIwKSB7XG4gICAgcmV0dXJuIG9wYWNpdHkgPSAwLjAyXG4gIH0gZWxzZSB7IFxuICAgIHJldHVybiBvcGFjaXR5ID0gMC4wNlxuICB9XG59XG5cbnN0cm9rZV9XMUEgPSB7bGV0IHN0cm9rZVxuICBpZihtYWNyb3JlZ19maWx0ZXJlZC5mZWF0dXJlcy5sZW5ndGggPiAzMCkgeyBcbiAgICByZXR1cm4gc3Ryb2tlID0gMC4yXG4gIH0gZWxzZSB7IFxuICAgIHJldHVybiBzdHJva2UgPSAwLjVcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgTElCU1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmdlb19XMUFfMiA9IHJlcXVpcmUoXCJnZW90b29sYm94QDIuMC4zXCIpXG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBNZW50YWwgbWFwcyB1c2luZyBGcmFuY2UgYXJlIHF1aXRlIHJhcmUuIFRoZXkgYXJlIGFsd2F5cyBhc3NvY2lhdGVkIHdpdGggb3RoZXIgc3BhY2VzLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2Ygc2VsZWN0X1cyQVxucGxvdF9XMkFcblxudmlld29mIHJvdGF0ZV9XMkFcbnZpZXdvZiBuYl9XMkFcbndjZF9XMkFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJvcGlFVSA9IFwib3BpRVVcIlxuc3VydmV5X29waUVVID0gXCJGcmFuY2UgQW50aWxsZXNcIlxuXG5pbXBvcnQge3Bsb3RfVzdCIGFzIHBsb3Rfb3BpRVV9IHdpdGgge29waUVVIGFzIGluZGljX1c3Qiwgc3VydmV5X29waUVVIGFzIHNlbGVjdF9XN0J9IGZyb20gXCI4MjEyZWYzOGIyN2IxODE2XCJcblxucGxvdF9vcGlFVVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFRoZSAyMzEgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIHNlbGVjdF9XN0IsIFwiY2FyaWJiZWFuIHN0dWRlbnRzXCIpfT5jYXJpYmJlYW4gc3R1ZGVudHM8L2J1dHRvbj5gfSB3aG8gdG9vayBwYXJ0IGluIHRoZSBzdXJ2ZXkgd2VyZSBlbnJvbGxlZCBhdCB0aGUgVW5pdmVyc2l0w6kgZGVzIEFudGlsbGVzIGluIDIwMjEuXG5cbk1vc3Qgb2YgdGhlIHJlc3BvbmRlbnRzIHdlcmUgJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIGluZGljX1c3QiwgXCJzZXhcIil9PndvbWVuPC9idXR0b24+YH0sIGF0IDgwJS4gVGhpcyBpcyBpbiBsaW5lIHdpdGggdGhlaXIgdW5pdmVyc2l0eSdzIHJhdGlvLCBhbGJlaXQgaGlnaGVyICg2NyUgd29tZW4gc3R1ZHlpbmcgYXQgdGhlIFVuaXZlcnNpdMOpIGRlcyBBbnRpbGxlcyBpbiAyMDIxLzIyLCBEYXRhRVNSKS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgTmVhcmx5IHR3by10aGlyZHMgb2YgdGhlIHN0dWRlbnRzIHdlcmUgZW5yb2xsZWQgaW4gJHtodGwuaHRtbGA8YnV0dG9uIG9uY2xpY2s9JHsoKSA9PiBzZXQodmlld29mIGluZGljX1c3QiwgXCJsZXZlbFwiKX0+YmFjaGVsb3IncyBwcm9ncmFtczwvYnV0dG9uPmB9ICg2NCUpLCBvbmUtdGhpcmQgaW4gbWFzdGVyJ3MgcHJvZ3JhbXMgKDMzJSkgYW5kLCBtYXJnaW5hbGx5LCBpbiBkb2N0b3JhbCBwcm9ncmFtcyAoMS43JSwgMyUgb2YgZG9jdG9yYWwgc3R1ZGVudHMgZW5yb2xsZWQgYXQgdGhlIFVuaXZlcnNpdMOpIGRlcyBBbnRpbGxlcyBpbiB0aGUgeWVhciBvZiB0aGUgc3VydmV5LCBEYXRhRVNSKS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgTmVhcmx5IGEgdGhpcmQgb2YgdGhlIHJlc3BvbnNlcyB3ZXJlIGZyb20gc3R1ZGVudHMgaW4gdGhlICR7aHRsLmh0bWxgPGJ1dHRvbiBvbmNsaWNrPSR7KCkgPT4gc2V0KHZpZXdvZiBpbmRpY19XN0IsIFwiZmllbGRcIil9Pkh1bWFuaXRpZXM8L2J1dHRvbj5gfSwgTGFuZ3VhZ2VzLCBBcnRzIGFuZCBTb2NpYWwgU2NpZW5jZXMgKHRoZSBzYW1lIHByb3BvcnRpb24gYXMgYXQgdW5pdmVyc2l0eSkuIEFsbCBvdGhlciBkaXNjaXBsaW5lcyB0ZW5kIHRvIGJlIHVuZGVyLXJlcHJlc2VudGVkIGNvbXBhcmVkIHRvIHRoZSB1bml2ZXJzaXR5IG9mIGVucm9sbWVudCAoYmV0d2VlbiA1IGFuZCA3IHBvaW50cyBkaWZmZXJlbmNlKS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTM0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIHNlbGVjdF9XN0JcbnZpZXdvZiBpbmRpY19XN0JcbnBsb3RfVzdCXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3NlbGVjdF9XMUEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncmVnaW9uX1cxQScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzdHVfc2VsX1cxQl8yJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ25leHRSZXNwX1cxQl8yJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3N0dV9zZWxfVzFCXzMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbmV4dFJlc3BfVzFCXzMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc3R1X3NlbF9XMUJfNCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCduZXh0UmVzcF9XMUJfNCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzdHVfc2VsX1cxQl81JykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ25leHRSZXNwX1cxQl81JykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3NlbGVjdF9XMUFfMicpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyZWdpb25fVzFBXzInKSJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../docs";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/imageun\.gitpages\.huma-num\.fr\/atlas_quarto\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Atlas Interactif - IMAGEUN · 2024 - <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.fr"><img src="https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png" class="img-fluid" alt="licensebuttons by-nc-sa"></a> - CIST</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>